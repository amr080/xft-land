(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5210],{22455:function(e,t,n){Promise.resolve().then(n.bind(n,79638)),Promise.resolve().then(n.bind(n,9705)),Promise.resolve().then(n.bind(n,24603)),Promise.resolve().then(n.bind(n,41116)),Promise.resolve().then(n.bind(n,40061)),Promise.resolve().then(n.bind(n,78219)),Promise.resolve().then(n.bind(n,32308)),Promise.resolve().then(n.bind(n,26498)),Promise.resolve().then(n.bind(n,44562)),Promise.resolve().then(n.bind(n,47174)),Promise.resolve().then(n.bind(n,1249)),Promise.resolve().then(n.bind(n,92771)),Promise.resolve().then(n.bind(n,56388)),Promise.resolve().then(n.bind(n,43393)),Promise.resolve().then(n.bind(n,96026)),Promise.resolve().then(n.bind(n,87174)),Promise.resolve().then(n.t.bind(n,38173,23)),Promise.resolve().then(n.t.bind(n,231,23)),Promise.resolve().then(n.bind(n,93999)),Promise.resolve().then(n.bind(n,90499))},21839:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}}),n(74590);var a=n(58064),s=(0,a.$)("7537525cc593d510ea3f7ef391f24705aacca640");(0,a.$)("d7b9f7bb6dfabe74b982bb12b1617f54f78b073c")},17371:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var a=n(57437),s=n(90407),l=n(72412),i=n(43698);let r=()=>{let{chainId:e,networkMismatch:t,switchChain:n,isMounted:r}=(0,i.g)();return r&&e&&t?(0,a.jsxs)("button",{id:"switch-network-button",type:"button",onClick:()=>n({chainId:s.er}),className:"space-x-1 btn m-0 !min-w-0 !py-[0.4rem] !px-[0.65rem] !text-xs whitespace-nowrap !bg-red-500 col-start-1 col-end-[-1]",children:[(0,a.jsx)("span",{children:(0,a.jsx)(l.Z,{className:"h-4"})}),(0,a.jsx)("span",{children:"Switch Network"})]}):null}},12343:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(57437);function s(e){let{label:t,icon:n}=e;return(0,a.jsxs)("p",{className:" text-white flex items-center gap-x-1 justify-end relative top-[1px]",children:[n,(0,a.jsx)("span",{className:"text-sm text-neutral-500 whitespace-nowrap",children:t})]})}},10124:function(e,t,n){"use strict";n.d(t,{C:function(){return l}});var a=n(57437),s=n(96164);let l=e=>{let{children:t,title:n,icon:l,className:i="",contentStyles:r="",additionalHeaderContent:o}=e;return(0,a.jsxs)("div",{className:"grid-card relative mb-8 overflow-hidden rounded-sm bg-grid-card-dark-gray-1 shadow-box-dark ".concat(i),children:[n?(0,a.jsx)("header",{className:"mb-4 px-4 py-2 text-grid-card-dark-gray-4 border-t-[1px] border-[rgba(255,255,255,0.2)]",children:(0,a.jsxs)("h3",{className:"flex items-center justify-between py-2 text-xl font-bold flex-wrap gap-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("span",{className:"inline-flex",children:l||null}),(0,a.jsx)("span",{children:n})]}),o?(0,a.jsx)(a.Fragment,{children:o}):(0,a.jsx)(a.Fragment,{})]})}):null,(0,a.jsx)("div",{className:(0,s.m6)("property-content px-4 pb-4 text-grid-card-dark-gray-4 empty:hidden sm:px-[2.75rem]",r),children:t})]})}},687:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var a=n(57437),s=n(17371),l=n(76460),i=n(90407),r=n(83325),o=n(43698),d=n(2265),c=function(){var e;let{chainId:t}=(0,r.m)(),{networkMismatch:n,isMounted:c}=(0,o.g)();return(e=l.s6,(0,d.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e()};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[e]),c&&n)?(0,a.jsx)("dialog",{id:"mismatched-network-dialog",className:"transition-all text-md inset-0 block w-full max-w-md translate-y-20 overflow-hidden rounded-2xl p-0 opacity-0 backdrop:backdrop-blur-sm md:w-2/3 [&:not([open])]:pointer-events-none [&[open]]:translate-y-0 [&[open]]:opacity-100 [&[open]]:z-20 fixed",onClick:e=>{let t=e.target;"DIALOG"===t.nodeName&&t.close()},children:(0,a.jsxs)("div",{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,a.jsx)("h2",{className:"!mb-6 !mt-3 !text-2xl leading-10 flex items-center justify-between border-b-[1px] border-[rgba(0,0,0,0.4)] !pb-6",children:"Please Switch Networks"}),(0,a.jsx)("div",{className:"relative flex flex-col gap-x-2 sm:flex-row",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"mb-4",children:["Oops, it looks like you're connected on"," ",(0,l.pp)(t)," but should be on"," ",(0,l.pp)(i.er),"."]}),(0,a.jsx)("div",{className:"mx-auto flex justify-center text-center",children:(0,a.jsx)(s.B,{})})]})}),(0,a.jsx)("button",{type:"button",onClick:l.s6,"aria-label":"Close modal",className:"absolute right-3 top-[2rem]",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",className:"w-8 h-8",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}):null}},9705:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var a=n(57437),s=n(16959);function l(e){let{balances:t}=e,n=null==t?void 0:t.reduce((e,t)=>e+Number(t.balance),0),l=[["Task","Property Fractions"]];return null==t||t.map(e=>{var t,n;return l.push([null!==(n=null==e?void 0:null===(t=e.owner)||void 0===t?void 0:t.address)&&void 0!==n?n:"",Number(e.balance)])}),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.ZP,{className:"property-ownership-pie",chartType:"PieChart",data:l,options:{title:"Property Ownership of ".concat(n," token(s)"),colors:["#000ceb","#449431","#8C1A94","#F19E38","#CB4727","#2F435A","#17826e","#900C3F","#4E3B2B"],is3D:!0,legend:"bottom"},width:"100%",height:"500px"})})}},48668:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(57437),s=n(2265),l=n(60844),i=n(61652),r=n(65658),o=n(74649),d=n(74045);function c(e){let{isOpen:t,setIsOpen:n,markdown:c}=e;return(0,a.jsx)(r.u,{appear:!0,show:t,as:s.Fragment,children:(0,a.jsxs)(o.V,{as:"div",className:"relative z-[11]",onFocus:()=>{let e=document.getElementById("markdown-panel");e&&e.scrollIntoView({behavior:"auto"})},onClose:()=>n(!1),children:[(0,a.jsx)(r.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{id:"markdown-panel",className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(r.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(o.V.Panel,{className:"markdown-panel w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,a.jsx)(l.D,{remarkPlugins:[d.Z],children:c}),(0,a.jsx)("button",{type:"button",onClick:()=>n(!1),"aria-label":"Close modal",className:"absolute right-3 top-[2rem]",children:(0,a.jsx)(i.Z,{className:"h-10 w-10",fill:"rgba(0, 0, 0, 0.8)"})})]})})})})]})})}},71441:function(e,t,n){"use strict";var a=n(2265),s=n(76460);t.Z=(e,t)=>{let[n,l]=(0,a.useState)(),[i,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!e.length||i)return;l({});let n=new Set;e.forEach(e=>{let a=t(e);a&&n.add(a)}),n.forEach(e=>{"string"==typeof e&&(0,s.g5)(e).then(t=>{l(n=>({...n,[e]:t}))}).catch(t=>{console.error(t),l(t=>({...t,[e]:{address:e,displayName:(0,s.NL)(e)}}))})}),r(!0)},[e,i,t]),n}},87174:function(e,t,n){"use strict";var a=n(57437),s=n(2265),l=n(4962),i=n(37075),r=n(76460),o=n(21079),d=n(90407),c=n(29381),u=n(40578),p=n(94172),m=n(62737),x=n.n(m),y=n(51470),f=n.n(y);x().extend(f()),t.default=function(e){let{tokenId:t}=e,[n,m]=(0,s.useState)({}),[y,f]=(0,s.useState)(!1),{data:h,hasNextPage:b,fetchNextPage:g}=(0,p.oG)("".concat(d.as,":").concat(t),{},{revalidateOnMount:!0,fallbackData:[]});return(0,s.useEffect)(()=>{b&&g()},[b,g]),(0,s.useEffect)(()=>{if(!h.length||y)return;m({});let e=new Set;h.map(t=>{let{fromAddress:n,toAddress:a}=t;n&&e.add(n),a&&e.add(a)}),e.forEach(e=>{"string"==typeof e&&(0,r.g5)(e).then(t=>{m(n=>({...n,[e]:t}))}).catch(t=>{console.error(t),m(t=>({...t,[e]:{address:e,displayName:(0,r.NL)(e)}}))})}),f(!0)},[h,y,n]),(0,s.useMemo)(()=>h.length?(0,a.jsx)("ul",{className:"mb-10 flex flex-col gap-y-6 overflow-auto pt-8 sm:max-h-[22rem] sm:min-h-[16rem]",children:h.map(e=>{let{type:t,timestamp:s}=e,d=Number(s),p=x().unix(d).fromNow(!0),m=x().unix(d).format("MMMM D, YYYY"),y=x().unix(d).format("h:mm:ss A"),f="".concat(m," at ").concat(y),h="https://".concat(u.sy,"etherscan.io/tx/").concat(e.txHash),b=(0,i.f)(e,n,"property"),g=(0,i.l)(e,n);return(0,a.jsxs)("li",{className:"icon-with-two-lines icon-with-two-lines token-history-grid-row text-white","data-type":t,children:[(0,a.jsx)("span",{className:"icon-with-two-lines-icon",children:g}),(0,a.jsx)("h3",{className:"icon-with-two-lines-title text-sm uppercase tracking-wide text-neutral-400",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-x-3",children:[(0,a.jsxs)("div",{children:[c.wb.get(t)," ",(0,a.jsx)(o.Z,{content:f,direction:"top",className:"!-top-[3.3rem] whitespace-nowrap !normal-case",children:(0,a.jsxs)("span",{className:"cursor-help",children:[p," ago"]})})]}),e.txHash&&(0,a.jsx)("a",{href:h,title:"View on Etherscan","aria-label":"View on Etherscan",target:"_blank",rel:"noreferrer",className:"relative -top-[2px] ml-auto self-end hover:scale-105 hover:text-mint",children:(0,a.jsx)(l.Z,{className:"h-5 w-5 fill-current"})})]})}),(0,a.jsx)("div",{className:"icon-with-two-lines-action text-neutral-200",children:b})]},(0,r.kb)())})}):null,[h,n])}},24603:function(e,t,n){"use strict";n.d(t,{default:function(){return T}});var a=n(57437),s=n(2265),l=n(83275),i=n(45896),r=n(45214),o=n.n(r),d=n(76460),c=n(10124),u=n(58665),p=n(42573);function m(e){let{stateValue:t,trustVersion:n,onClick:s}=e;return t?(0,a.jsx)(u.v.Item,{children:e=>{let{active:t}=e;return(0,a.jsx)("button",{className:"".concat(t?"bg-gray-100 text-black":"text-gray-900"," group flex w-full items-center rounded-md px-2 py-2 text-sm"),onClick:()=>s&&s(!0),children:(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)(p.Bu,{}),(0,a.jsx)("strong",{children:n})]})})}},"operating-agreement"):null}function x(e){let{document:t}=e;return t?(0,a.jsx)(u.v.Item,{children:e=>{let{active:n}=e;return(0,a.jsx)("a",{href:null==t?void 0:t.replace("ipfs://","https://ipfs.fabrica.land/ipfs/"),className:"".concat(n?"bg-gray-100 text-black":"text-gray-900"," group flex w-full items-center rounded-md px-2 py-2 text-sm"),target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)(p.H$,{}),(0,a.jsx)("strong",{children:"Proof of Title"})]})})}},"proof-of-title"):null}function y(e){let{stateValue:t,isPremint:n}=e,s=["PCOR","Operating Agreement"],l=n?null==t?void 0:t.filter(e=>e.description&&!s.includes(e.description)):t;return l?(0,a.jsx)(a.Fragment,{children:l.map(e=>(0,a.jsx)(u.v.Item,{children:t=>{var n;let{active:s}=t;return(0,a.jsx)("a",{href:e.source,type:"download",target:"_blank",className:"".concat(s?"bg-gray-100 text-black":"text-gray-900"," group flex w-full items-center rounded-md px-2 py-2 text-sm"),rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:["application/pdf"===e.type&&(0,a.jsx)(p.H$,{}),(0,a.jsx)("strong",{children:null!==(n=e.description)&&void 0!==n?n:"Unnamed file"})]})})}},e.source))}):(0,a.jsx)(a.Fragment,{})}var f=n(48668),h=n(40578),b=e=>{let[t,n]=(0,s.useState)(""),[a,l]=(0,s.useState)("");return(0,s.useEffect)(()=>{let t=new AbortController,a=e.replace("ipfs://","");l((0,h.wE)(a));let s=null==e?void 0:e.replace("ipfs://","https://ipfs.fabrica.land/ipfs/");return(async()=>{let e;let a=await fetch(s,{signal:t.signal});try{e=await a.text()}catch(t){console.error(t),e=""}n(e)})(),()=>{null==t||t.abort()}},[e]),{operatingAgreement:t,trustVersion:a}},g=n(61652),v=n(65658),j=n(74649),w=function(e){let{fullLegalDescriptionModalIsOpen:t,setFullLegalDescriptionModalIsOpen:n,children:l}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(v.u,{appear:!0,show:t,as:s.Fragment,children:(0,a.jsxs)(j.V,{as:"div",className:"relative z-[11]",onClose:()=>n(!1),children:[(0,a.jsx)(v.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(v.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(j.V.Panel,{className:"h-full max-h-[400px] w-full max-w-lg transform overflow-auto rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,a.jsx)(j.V.Title,{className:"!mb-6 !mt-3 !pr-5 !text-2xl leading-10",children:"Legal Description"}),(0,a.jsx)("div",{className:"relative flex flex-col gap-x-2 sm:flex-row",children:(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:l})})}),(0,a.jsx)("button",{type:"button",onClick:()=>n(!1),"aria-label":"Close modal",className:"absolute right-3 top-[2rem]",children:(0,a.jsx)(g.Z,{className:"h-10 w-10",fill:"rgba(0, 0, 0, 0.8)"})})]})})})})]})})})},N=n(91310);function T(e){var t;let{tokenData:{isPremint:n,configuration:r,definition:p,operatingAgreement:h}}=e,[g,j]=(0,s.useState)(!1),[T,C]=(0,s.useState)(!1),[k,F]=(0,s.useState)(null),[E,S]=(0,s.useState)(),{operatingAgreement:A,trustVersion:P}=null!==(t=b(h))&&void 0!==t?t:"";return(0,s.useEffect)(()=>{var e;F({claim:null==p?void 0:p.claim,holdingEntity:null==p?void 0:p.holdingEntity,...null!==(e=null==r?void 0:r.proofOfTitle)&&void 0!==e?e:null})},[p,r]),(0,s.useEffect)(()=>{if(null==r?void 0:r.documents){let e=[];r.documents.map(t=>{let n=structuredClone(t);n.source=(0,d.d9)(t.source,"ipfs://","https://ipfs.fabrica.land/ipfs/"),e.push({...n})}),e.length&&S(e)}},[null==r?void 0:r.documents]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.C,{title:"Legals",icon:(0,a.jsx)(l.Z,{className:"h-5 w-5 fill-current"}),className:"flex-1 overflow-visible ",children:[(0,a.jsxs)("div",{className:"mb-4 flex flex-col items-start gap-y-3",children:[(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{className:"property-content-subheader mb-3",children:["Description",(0,a.jsx)("br",{})]}),(null==k?void 0:k.claim)?(0,a.jsxs)("span",{children:[o()(k.claim,{length:120}),k.claim.length>120&&(0,a.jsxs)("button",{type:"button",onClick:()=>C(!0),className:"mb-4 mt-2 flex appearance-none items-center gap-x-1 border-b-[1px] border-b-transparent bg-transparent text-sm text-blue-x-light transition-all hover:border-b-[1px] hover:border-b-current",children:[(0,a.jsx)(N.tE,{})," View full description"]})]}):(0,a.jsx)("span",{children:"Coming right up…"})]}),(null==k?void 0:k.holdingEntity)?(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"property-content-subheader mb-3",children:"Holding"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:null==k?void 0:k.holdingEntity})]}):null]}),A?(0,a.jsxs)(u.v,{as:"div",className:"z-10 relative inline-block origin-top-left scale-90 transform",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(u.v.Button,{className:"btn inline-flex justify-center rounded-lg bg-blue px-4 py-2 text-sm font-medium text-white hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:["Documents",(0,a.jsx)(i.Z,{className:"-mr-1 ml-2 h-5 w-5 text-violet-200 hover:text-violet-100","aria-hidden":"true"})]})}),(0,a.jsx)(v.u,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsx)(u.v.Items,{className:"absolute left-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,a.jsxs)("div",{className:"px-1 py-1 ",children:[(0,a.jsx)(m,{stateValue:A,trustVersion:P,onClick:()=>j(!0)}),!n&&(0,a.jsx)(x,{document:null==k?void 0:k.document}),(0,a.jsx)(y,{stateValue:null!=E?E:null,isPremint:n})]})})})]}):null]}),(null==k?void 0:k.claim)&&k.claim.length>120?(0,a.jsx)(w,{fullLegalDescriptionModalIsOpen:T,setFullLegalDescriptionModalIsOpen:C,children:null==k?void 0:k.claim}):null,(0,a.jsx)(f.Z,{isOpen:g,setIsOpen:j,markdown:A})]})}},41116:function(e,t,n){"use strict";n.d(t,{default:function(){return H}});var a=n(57437),s=n(67788),l=n(55292),i=n(54670),r=n(2336),o=n(2265),d=n(76460),c=n(21839),u=n(12343),p=n(10124),m=n(687),x=n(61652),y=n(90407),f=n(65658),h=n(74649),b=n(58307);let g=e=>{let{tokenId:t,address:n,userEmail:s,ccDialogIsOpen:l,setCCDialogIsOpen:i,showSuccess:r,showError:d}=e;return(0,a.jsx)(f.u,{appear:!0,show:l,as:o.Fragment,children:(0,a.jsxs)(h.V,{as:"div",className:"relative z-[11]",onClose:()=>i(!1),children:[(0,a.jsx)(f.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(f.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(h.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,a.jsx)(h.V.Title,{className:"!mb-6 !mt-3 !pr-5 !text-2xl leading-10",children:"Purchase with Credit Card"}),(0,a.jsx)("div",{className:"bg-slate-900 p-8",children:(0,a.jsx)(b.T8,{onPaymentSuccess:()=>{i(!1),r()},onError:e=>{d(e.error.message)},appName:"Fabrica",options:{inputBackgroundColor:"#121212",inputBorderColor:"#1f1f1f",colorText:"#ffffff",fontFamily:"var(--font-sauce)"},onPriceUpdate:e=>{let{unitPrice:t,networkFees:n,serviceFees:a}=e;console.table({unitPrice:t,networkFees:n,serviceFees:a})},configs:{quantity:1,title:"Fabrica Land",contractId:y.Qg,walletAddress:n,email:s,sendEmailOnTransferSucceeded:!1,contractArgs:{nfts:[{token:"".concat(y.as,":").concat(t)}]}}})}),(0,a.jsx)("button",{type:"button",onClick:()=>i(!1),"aria-label":"Close modal",className:"absolute right-3 top-[2rem]",children:(0,a.jsx)(x.Z,{className:"h-10 w-10",fill:"rgba(0, 0, 0, 0.8)"})})]})})})})]})})};var v=n(38431),j=n(91310),w=function(e){let{confirmIsOpen:t,setConfirmIsOpen:n,onCancel:s}=e,{isAuthenticated:l}=(0,j.SX)();return(0,o.useEffect)(()=>{l&&n(!1)},[l,n]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(f.u,{appear:!0,show:t,as:o.Fragment,children:(0,a.jsxs)(h.V,{as:"div",className:"relative z-[11]",onClose:()=>{l||s(),n(!1)},children:[(0,a.jsx)(f.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(f.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(h.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,a.jsx)(h.V.Title,{className:"!mb-6 !mt-3 !text-2xl leading-10 flex items-center justify-between border-b-[1px] border-black !pb-6",children:"Please Log In"}),(0,a.jsx)("div",{className:"relative flex flex-col gap-x-2 sm:flex-row",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"mb-4",children:"Purchasing or placing an offer on a property requires you to first sign in with a wallet of your choosing."}),(0,a.jsx)("div",{className:"mx-auto flex justify-center text-center",children:(0,a.jsx)(v.Z,{buttonClassName:"btn-in-dialog"})})]})}),(0,a.jsx)("button",{type:"button",onClick:()=>{l||s(),n(!1)},"aria-label":"Close modal",className:"absolute right-3 top-[2rem]",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",className:"w-8 h-8",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})})})]})})})},N=n(87138),T=n(28336),C=n(26393),k=n(40578);function F(){return(0,a.jsx)(C.SkeletonTheme,{baseColor:k.lo.base,highlightColor:k.lo.highlight,children:(0,a.jsx)("div",{className:"overflow-y-auto sm:max-h-[15rem]",children:(0,a.jsxs)("table",{className:"table-auto w-full border-separate",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"sr-only",children:[(0,a.jsx)("td",{children:"Price"}),(0,a.jsx)("td",{children:"Action and Expiration"})]})}),(0,a.jsx)("tbody",{children:Array.from({length:4}).map(()=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsxs)("div",{className:"inline-flex gap-x-2 items-center",children:[(0,a.jsx)(C.default,{width:20,height:20}),(0,a.jsx)(C.default,{className:"text-white font-sans-bold",width:70,height:20}),(0,a.jsx)(C.default,{className:"text-gray-500 text-sm",width:50,height:20})]}),(0,a.jsxs)("div",{className:"flex gap-x-1",children:[(0,a.jsx)(C.default,{width:40,height:20}),(0,a.jsx)(C.default,{className:"text-blue-400",width:70,height:20})]})]})}),(0,a.jsx)("td",{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-1 items-end",children:[(0,a.jsx)(C.default,{width:50,height:20,className:"rounded-md"}),(0,a.jsxs)("div",{className:"inline-flex gap-x-1 items-center justify-end",children:[(0,a.jsx)(T.Z,{className:"h-5 w-5 fill-current"}),(0,a.jsx)(C.default,{width:20,height:20})]})]})})]},(0,d.kb)()))})]})})})}var E=n(71441),S=n(94172),A=n(62737),P=n.n(A),L=n(96164),I=n(83325),R=n(43698);let M=e=>{let{text:t,icon:n,mismatchCallback:s,...l}=e,{networkMismatch:i}=(0,R.g)();return(0,a.jsxs)("button",{onClick:i?s:l.onClick,type:"button",className:(0,L.m6)("btn",null==l?void 0:l.className),children:[n&&(0,a.jsx)("span",{children:n}),(0,a.jsx)("span",{children:t})]})},D=e=>(0,a.jsx)(M,{...e,text:"Accept",mismatchCallback:d.Uz,className:"btn !text-sm !min-w-0 !py-1 !px-2 !mr-0"}),O=e=>(0,a.jsx)(M,{...e,text:"Cancel",mismatchCallback:d.Uz,className:"btn !text-sm !min-w-0 !py-1 !px-2 !mr-0"});function Z(e){let{tokenId:t,offerId:n,maker:s,isHolder:l,mutate:i}=e,{address:r}=(0,I.m)(),o=null==r?void 0:r.toLocaleLowerCase();return l?(0,a.jsx)(S.wK,{trigger:(0,a.jsx)(D,{}),tokens:[{tokenId:t,collectionId:y.as,bidIds:[n]}],onBidAccepted:()=>{(0,d.h4)({msg:"Offer Accepted! We'll be right back…",toastId:"reload",timeUntilClose:4e3}),(0,c.Q)(["offers","token-".concat(t),"tokens-for-".concat(o),"tokens-for-".concat(s)])},onBidAcceptError:(e,t)=>{console.error("Offer Acceptance Error",e,t),(0,d.h4)({msg:"Offer Acceptance Failed",type:"error"})},onClose:(e,t)=>{console.log("AcceptBidModal Closed",e,t)}}):s===o?(0,a.jsx)(S.BJ,{trigger:(0,a.jsx)(O,{}),bidId:n,onCancelComplete:()=>{(0,d.h4)({msg:"Offer Cancelled"}),(0,c.Q)("offers"),i()},onCancelError:(e,t)=>{console.error("Offer Cancel Error",e,t)},onClose:e=>{console.log("CancelOfferModal Closed",e)}}):null}function _(e){let{tokenId:t,isHolder:n}=e,{address:s}=(0,I.m)(),l=null==s?void 0:s.toLowerCase(),i={token:"".concat(y.as,":").concat(t),includeCriteriaMetadata:!0,includeRawData:!0,sortBy:"price",limit:100},{data:r,mutate:o,isValidating:c}=(0,S.Lk)(i),u=(0,E.Z)(r,e=>e.maker);return c||!u?(0,a.jsx)(F,{}):(0,a.jsx)("div",{className:(0,L.m6)("overflow-y-auto sm:max-h-[15rem]",r.length>3?" sm:content-fade-vertical content-normal":null),children:(0,a.jsxs)("table",{className:"table-auto w-full border-separate pt-4",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"sr-only",children:[(0,a.jsx)("td",{children:"Price"}),(0,a.jsx)("td",{children:"Action and Expiration"})]})}),(0,a.jsx)("tbody",{children:r.map(e=>{var s,i,r,c,p,m,x,y;let f=null==e?void 0:null===(s=e.maker)||void 0===s?void 0:s.toLocaleLowerCase(),h=e.price,b=null==h?void 0:null===(i=h.amount)||void 0===i?void 0:i.decimal,g=null!==(p=null==h?void 0:null===(r=h.amount)||void 0===r?void 0:r.usd)&&void 0!==p?p:0,v=null!==(m=null==h?void 0:null===(c=h.currency)||void 0===c?void 0:c.symbol)&&void 0!==m?m:"",j=P().unix(e.validUntil).fromNow(!0),w=u[f],C=f===l?"You":null!==(x=null==w?void 0:w.name)&&void 0!==x?x:null==w?void 0:w.displayName,k="/profile/".concat(null!==(y=null==w?void 0:w.name)&&void 0!==y?y:null==w?void 0:w.address),F=e.id;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsxs)("div",{className:"inline-flex gap-x-1 items-center",children:[(0,a.jsx)(d.MD,{symbol:v}),(0,a.jsx)("span",{className:"text-white font-sans-bold",children:b}),(0,a.jsxs)("span",{className:"text-gray-500 text-sm ml-1",children:["$",g]})]}),(0,a.jsxs)("div",{children:["from"," ",(0,a.jsx)(N.default,{className:"text-blue-400 hover:underline",href:k,children:C})]})]})}),(0,a.jsx)("td",{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-2 items-end",children:[(0,a.jsx)(Z,{tokenId:t,offerId:F,maker:f,isHolder:n,mutate:o}),(0,a.jsxs)("div",{className:"inline-flex gap-x-1 items-center justify-end whitespace-nowrap",children:[(0,a.jsx)(T.Z,{className:"h-5 w-5 fill-current"}),(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:j})]})]})})]},F)})})]})})}var B=n(88229),U=n(54887);let V=()=>(0,a.jsx)("div",{className:"text-sm",style:{color:"#f2555a"},dangerouslySetInnerHTML:{__html:"Warning: Price significantly below estimated value! Verify before proceeding—listings are public and sales are irreversible."}}),z=()=>{let e=document.getElementById("price-to-ratio-warning");e&&e.remove()},Y=()=>document.querySelector('[role="dialog"] span.rk-c-kfNQbY.rk-c-kfNQbY-jmpWBm-color-subtle.rk-c-kfNQbY-hZSQmm-style-subtitle3'),W=e=>{z();let t=document.querySelector(".rk-c-gMSGwN.rk-c-gMSGwN-iTKOFX-direction-column.rk-c-gMSGwN-ixcnLP-css"),n=Y();if(t&&n&&e){if((0,d.S8)(n.innerHTML)<.8*e){let e=document.createElement("div");e.setAttribute("id","price-to-ratio-warning"),U.render((0,a.jsx)(V,{}),e),t.appendChild(e)}else z()}};function H(e){var t,n,x;let f,{tokenData:{balances:h,isPremint:b,tokenId:v,pricing:N}}=e,[T,C]=(0,o.useState)(null),[k,F]=(0,o.useState)(!1),[E,A]=(0,o.useState)(!1),[P,L]=(0,o.useState)(!1),[I,D]=(0,o.useState)(!1),[O,Z]=(0,o.useState)(),{chainId:U,networkMismatch:V}=(0,R.g)(),{isOwner:z,isHolder:H,isUnderLoan:Q,connectedWalletAddress:q}=(0,B.Z)({balances:h,isPremint:b,tokenId:v}),{isAuthenticated:G,user:J}=(0,j.SX)(),{mutate:X,data:$}=(0,S.Lk)({token:"".concat(y.as,":").concat(v)}),K=(0,S.rU)({tokens:["".concat(y.as,":").concat(v)],includeTopBid:!0}),ee=null==K?void 0:null===(x=K.data[0])||void 0===x?void 0:null===(n=x.market)||void 0===n?void 0:null===(t=n.floorAsk)||void 0===t?void 0:t.id,et=(0,d.JD)(N),en=()=>null==f?void 0:f.disconnect(),ea=()=>{W(et);let e=Y();e&&(f=new MutationObserver(e=>{for(let t of e)"characterData"===t.type&&W(et)})).observe(e,{characterData:!0,subtree:!0})};(0,o.useEffect)(function(){let e=e=>{var n;let a=e.target;(null===(n=a.matches)||void 0===n?void 0:n.call(a,'[role="dialog"] input[placeholder="Amount"]'))&&t(e)},t=e=>{ea()};return document.addEventListener("input",e),()=>{document.removeEventListener("input",e),en()}},[]),(0,o.useEffect)(()=>{D(!!ee)},[ee]),(0,o.useEffect)(()=>{var e,t,n,a;let{amount:s,currency:l}=null!==(a=null==K?void 0:null===(n=K.data[0])||void 0===n?void 0:null===(t=n.market)||void 0===t?void 0:null===(e=t.floorAsk)||void 0===e?void 0:e.price)&&void 0!==a?a:{};!(null==O?void 0:O.loaded)&&(null==s?void 0:s.decimal)&&(null==l?void 0:l.symbol)&&Z({price:s.decimal,symbol:l.symbol,loaded:!0,usdPrice:s.usd})},[null==K?void 0:K.data,null==O?void 0:O.loaded,O]);let es=e=>(0,a.jsx)(M,{...e,icon:(0,a.jsx)(s.Z,{className:"h-5 w-5 fill-current"}),text:"Buy With Crypto",mismatchCallback:d.Uz,className:"btn shimmer flex gap-x-2"}),el=(0,o.useCallback)(function(){return I&&!z&&ee?(0,a.jsx)(a.Fragment,{children:G&&!V&&"buy-with-crypto"===T?(0,a.jsx)(S.zY,{openState:[k,F],trigger:(0,a.jsx)(es,{}),token:"".concat(y.as,":").concat(v),onPurchaseComplete:()=>{F(!1),(0,d.h4)({toastId:"reload",beforeReload(){(0,c.Q)("tokens-for-".concat(q)),(0,c.Q)("token-".concat(v))}})},onPurchaseError:(e,t)=>console.log("Transaction Error",e,t),onConnectWallet:function(){}}):(0,a.jsx)(es,{onClick:()=>{F(!0),C("buy-with-crypto")}})}):null},[I,z,ee,G,T,k,v,q,V]),ei=(0,o.useCallback)(()=>(0,a.jsx)("div",{className:"items-center flex flex-col gap-y-1",children:(0,a.jsx)("strong",{className:"font-sans-bold text-xl text-mint",children:(null==O?void 0:O.symbol)==="USDC"?"".concat((0,d.Cw)(Number(null==O?void 0:O.price))," ").concat(null==O?void 0:O.symbol):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("span",{className:"flex justify-center items-center gap-x-1",children:[(0,d.re)(Number(null==O?void 0:O.price))," ",null==O?void 0:O.symbol]})})})}),[null==O?void 0:O.price,null==O?void 0:O.symbol]),er=e=>(0,a.jsx)(M,{...e,mismatchCallback:d.Uz,text:"Put for sale"}),eo=e=>(0,a.jsx)(M,{...e,mismatchCallback:d.Uz,text:"Cancel Listing"}),ed=(0,o.useCallback)(function(){return(0,a.jsx)("div",{className:"mx-auto mb-6 flex flex-col gap-y-3 text-center items-center",children:I?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei,{}),(0,a.jsx)(S.GO,{trigger:(0,a.jsx)(eo,{}),listingId:ee,onCancelComplete:()=>{D(!1),(0,c.Q)("tokens-for-".concat(q))}})]}):b?null:(0,a.jsx)(S.aX,{trigger:(0,a.jsx)(er,{}),collectionId:y.as,tokenId:v,currencies:y.Uo,onClose:()=>en(),onListingComplete:()=>{(0,d.h4)({msg:"Listing successful! We'll be right back…",toastId:"reload",beforeReload(){(0,c.Q)("tokens-for-".concat(q)),(0,c.Q)("token-".concat(v))}})}})})},[I,ei,ee,b,v,q,V]),ec=e=>(0,a.jsx)(M,{...e,text:"Place An Offer",icon:(0,a.jsx)(l.Z,{className:"h-5 w-5 fill-current"}),className:"btn shimmer flex gap-x-2 self-center",mismatchCallback:d.Uz}),eu=(0,o.useCallback)(function(){return G&&!V&&"place-offer"===T?(0,a.jsx)(S.D7,{trigger:(0,a.jsx)(ec,{onClick:()=>{F(!0),C("place-offer")}}),collectionId:y.as,tokenId:v,openState:[k,F],currencies:y.tC,onBidComplete:()=>{(0,d.h4)({msg:"Your offer is official. We'll be right back…",toastId:"offer-success-reload"}),(0,c.Q)("offers")},onBidError:e=>{console.error(e),(0,d.h4)({type:"error",msg:"Sorry, the offer did not go through. We'll be right back…",toastId:"offer-error-reload"})},onClose:(e,t,n)=>{X&&n===S.NS.Complete&&X(),C(null)}}):(0,a.jsx)(ec,{onClick:()=>{F(!0),C("place-offer")}})},[G,T,v,k,X,V]),ep=(0,o.useCallback)(function(){return I&&!z&&ee?(0,a.jsxs)("button",{onClick:()=>{C("buy-with-cc"),L(!0),G||F(!0)},type:"button",className:"btn shimmer flex gap-x-2",children:[(0,a.jsx)("span",{children:(0,a.jsx)(i.Z,{className:"h-5 w-5 fill-current"})}),(0,a.jsx)("span",{children:"Buy With Card"})]}):null},[G,I,z,ee]),em=(0,o.useCallback)(function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{label:"ACTIVE OFFERS",icon:(0,a.jsx)(l.Z,{className:"w-[1rem] h-[1rem] fill-mint animate-pulse"})}),(0,a.jsx)(_,{tokenId:v,isHolder:H})]})},[v,H]),ex=y.VS,ey=!z&&I&&(null==O?void 0:O.usdPrice)&&(null==O?void 0:O.usdPrice)<=ex,ef=!!(q&&(null==J?void 0:J.email)&&"buy-with-cc"===T),eh=!!(k&&!G&&T),eb=!!(V&&E),eg=!!(!z&&!H&&!b),ev=I&&!z&&ee,ej=$.length>0,ew=!!(Q&&z&&!ej),eN=!!(!H&&!b&&I&&!Q),eT=(0,o.useCallback)(()=>(0,a.jsxs)(a.Fragment,{children:[ev&&(0,a.jsx)(ei,{}),(0,a.jsx)("div",{className:"flex gap-x-1 items-center",children:(0,a.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,a.jsx)(el,{}),ey&&(0,a.jsx)(ep,{})]})})]}),[el,ep,ei,ey,ev]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.C,{title:"Marketplace",icon:(0,a.jsx)(r.Z,{className:"h-5 w-5 fill-current"}),additionalHeaderContent:(0,a.jsx)(()=>I&&ee?(0,a.jsx)(u.Z,{label:"FOR SALE",icon:(0,a.jsx)(j.rE,{className:"w-[1rem] h-[1rem] text-mint animate-pulse"})}):null,{}),className:"relative",contentStyles:"!px-4",children:[b&&(0,a.jsx)("span",{className:"absolute -right-[105px] top-[32px] z-10 w-[300px] rotate-45 transform bg-white text-center text-neutral-800",children:"Coming Soon"}),(0,a.jsxs)("div",{children:[ew&&(0,a.jsx)(()=>(0,a.jsxs)("p",{className:"items-start flex gap-x-2 text-left text-sm leading-snug mr-auto justify-center px-8",children:[(0,a.jsx)(j.sz,{className:"h-5 w-5 shrink-0 text-yellow-300"}),(0,a.jsx)("span",{children:"Please pay off your loan to list your property for sale."})]}),{}),(0,a.jsxs)("div",{className:"mx-auto mb-6 flex flex-col gap-y-3 text-center items-center",children:[H&&(0,a.jsx)(ed,{}),eN&&(0,a.jsx)(eT,{}),eg&&(0,a.jsx)(eu,{})]}),!b&&ej&&(0,a.jsx)(em,{})]})]}),eh&&(0,a.jsx)(w,{confirmIsOpen:k,setConfirmIsOpen:F,onCancel:()=>{C(null),L(!1)}}),eb&&(0,a.jsx)(m.default,{isOpen:E,onClose:()=>A(!1),currentChainId:U}),ef&&(0,a.jsx)(g,{tokenId:v,address:q,userEmail:null==J?void 0:J.email,ccDialogIsOpen:P,setCCDialogIsOpen:L,showSuccess:()=>{(0,d.h4)({msg:"Purchase complete! We'll be right back…",toastId:"reload",beforeReload(){(0,c.Q)("tokens-for-".concat(q)),(0,c.Q)("token-".concat(v))}})},showError:e=>{(0,d.h4)({msg:e,type:"error",toastId:"reload"})}})]})}},40061:function(e,t,n){"use strict";n.d(t,{default:function(){return v}});var a,s,l=n(57437),i=n(2265),r=n(10963),o=n(76460),d=n(12052),c=n(21839),u=n(35061),p=n(61652),m=n(90407);(a=s||(s={})).Save="save",a.Edit="edit";let x=(0,i.forwardRef)((e,t)=>{let{tokenId:n,isPremint:a,onSaveClick:s,onCancelClick:r,onEditClick:o,setUserDescription:d,setIpfsHash:c}=e,[x,y]=(0,i.useState)("edit"),[f,h]=(0,i.useState)("");return(0,i.useEffect)(()=>{"function"!=typeof t&&(null==t?void 0:t.current)&&h(t.current.innerText)},[t]),(0,l.jsxs)("div",{className:"flex items-center gap-x-2",children:["edit"===x&&(0,l.jsxs)("button",{type:"button",onClick:()=>{"function"!=typeof t&&(null==t?void 0:t.current)&&(t.current.setAttribute("contenteditable","true"),t.current.focus(),null==o||o(),y("save"))},className:"flex items-center gap-x-2 rounded-xl border-[0.5px] border-neutral-500 px-3 py-1 transition-all duration-300 hover:border-neutral-300",children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 shrink-0 fill-white"}),(0,l.jsx)("span",{className:"whitespace-nowrap !text-[1rem] text-white",children:"Edit"})]}),"save"===x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{type:"button",onClick:async()=>{if(y("edit"),"function"!=typeof t&&(null==t?void 0:t.current)){d(t.current.innerText);let e=new FormData;e.append("userDescription",new Blob([t.current.innerText],{type:"text/plain"}));let l="".concat(m._4,"/token/").concat(m.CF,"/").concat(m.as,"/").concat(a?"premint":"token","/").concat(n,"/configuration"),i=await fetch(l,{method:"PATCH",headers:{Authorization:"Bearer ".concat(m.hI)},body:e});if(i.ok)a?null==s||s():c(await i.text());else throw Error("".concat(i.statusText,"\n").concat(await i.text()))}},className:"flex items-center gap-x-2 rounded-xl border-[0.5px] border-neutral-500 px-3 py-1 transition-all duration-300 hover:border-neutral-300",children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 shrink-0 fill-white"}),(0,l.jsx)("span",{className:"whitespace-nowrap !text-[1rem] text-white",children:"Save"})]}),(0,l.jsx)("button",{type:"button",onClick:()=>{"function"!=typeof t&&(null==t?void 0:t.current)&&(t.current.innerText=f,t.current.setAttribute("contenteditable","false"),null==r||r(),y("edit"))},"aria-label":"Cancel edit",children:(0,l.jsx)(p.Z,{className:"h-6 w-6 shrink-0 fill-white",title:"Cancel edit"})})]})]})});x.displayName="EditableControls";var y=n(10124),f=n(88229),h=n(47237),b=n(70061),g=n(58729);function v(e){var t;let{tokenData:{balances:n,isPremint:a,tokenId:s,configuration:u}}=e,{isHolder:p,isOwner:v}=(0,f.Z)({balances:n,isPremint:a,tokenId:s}),j=()=>{var e;null===(e=R.current)||void 0===e||e.setAttribute("contenteditable","false")},[w,N]=(0,i.useState)(null),[T,C]=(0,i.useState)(null!==(t=null==u?void 0:u.userDescription)&&void 0!==t?t:""),{writeContractAsync:k,data:F,isPending:E,isError:S,error:A}=(0,b.S)(),{isSuccess:P,fetchStatus:L}=(0,g.A)({hash:F}),I=(0,i.useCallback)(async()=>{await k({address:m.as,abi:d,functionName:"updateConfiguration",args:[w,s]})},[w,s,k]);(0,i.useEffect)(()=>{w&&(I(),N(null))},[w,I]),(0,i.useEffect)(()=>{S&&(j(),(0,o.h4)({msg:(0,h.nU)(null==A?void 0:A.name),type:"error"}))},[S,A]),(0,i.useEffect)(()=>{P&&(j(),(0,o.h4)({msg:"Your property has been updated!"}),(0,c.Q)("token-".concat(s)))},[s,P]);let R=(0,i.useRef)(null);return T||p?(0,l.jsx)(y.C,{title:"Description",className:"col-start-1 col-end-3",icon:(0,l.jsx)(r.Z,{className:"h-5 w-5 fill-current"}),additionalHeaderContent:"idle"===L&&E?(0,l.jsx)(h.f3.Pending,{}):"fetching"===L?(0,l.jsx)(h.f3.WaitingForTransaction,{}):p||a&&v?(0,l.jsx)(x,{tokenId:s,isPremint:a,setIpfsHash:N,ref:R,setUserDescription:C,onSaveClick:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Description updated!";(0,o.h4)({msg:e}),(0,c.Q)("token-".concat(s))}}):null,children:(0,l.jsx)("div",{className:"py-2",children:(0,l.jsx)("div",{ref:R,className:"whitespace-pre-line text-lg",children:T})})}):null}},78219:function(e,t,n){"use strict";n.d(t,{default:function(){return w}});var a=n(57437),s=n(45880),l=n(10124),i=n(2265),r=n(91453),o=n.n(r),d=n(66648),c=n(45896),u=n(66644),p=n(76460),m=n(49896),x=n(65658),y=n(62737),f=n.n(y);let h=()=>(0,a.jsx)(d.default,{className:"hidden xs:inline-block shrink-0",src:"/brand-icons/prycd_logo_black.png",width:50,height:25,style:{height:"25px",width:"50px"},alt:"",role:"presentation"});var b=e=>{let{pricing:t}=e,n=t.filter(e=>(null==e?void 0:e.value)&&Number(e.value)>0),s=()=>{var e;return(0,a.jsx)("span",{children:(0,p.ZP)(Number(null===(e=n[0])||void 0===e?void 0:e.value))})};return(0,a.jsx)("div",{className:"max-w-sm",children:(0,a.jsx)(m.J,{className:"relative inline-block",children:e=>{let{open:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(m.J.Button,{"aria-label":"Toggle price points",className:"\n                ".concat(t?"":"text-opacity-90","\n                btn relative top-[2px] group inline-flex items-center text-base font-medium text-white hover:text-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 !min-w-0"),children:[(0,a.jsx)(s,{}),(0,a.jsx)(c.Z,{className:"-mr-1 ml-1 h-5 w-5 text-violet-200 hover:text-violet-100","aria-hidden":"true"})]}),(0,a.jsx)(x.u,{as:i.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:(0,a.jsx)(m.J.Panel,{className:"max-w-[280px] sm:w-max absolute left-full z-10 mt-3 w-screen xs:max-w-sm -translate-x-full transform lg:max-w-[35rem]",children:(0,a.jsxs)("div",{className:"overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:[(0,a.jsx)("div",{className:"relative grid gap-2 bg-gray-100 p-4 lg:grid-cols-2",children:n.sort((e,t)=>Number(t.value)-Number(e.value)).map((e,t)=>{let n=Number(e.timestamp),s=f()(n).fromNow();return(0,a.jsxs)("div",{className:"flex justify-between items-center border-[1px] border-gray-300 rounded-lg transition duration-150 ease-in-out hover:bg-gray-200 focus:outline-none focus-visible:ring focus-visible:ring-gray-500 focus-visible:ring-opacity-50 py-3 px-2 only:col-span-full relative ".concat((null==e?void 0:e.confidence)&&"col-span-full"),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsxs)("div",{className:"gap-x-1 flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5 text-gray-500"}),(0,a.jsx)("p",{className:"capitalize text-sm text-gray-500 flex items-center whitespace-nowrap",children:(0,a.jsxs)("span",{children:[s," -"," ","prycd"===e.source?(0,a.jsx)(h,{}):"Tax Assessor"]})})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-900 flex items-center gap-x-1",children:(0,a.jsx)("span",{children:(0,p.xc)(e.scope,e.source)})}),(null==e?void 0:e.value)&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:(0,p.ZP)(Number(e.value))})]})]}),e.confidence&&(0,a.jsx)("div",{className:"gauge-confidence relative -top-[2px]",children:(0,a.jsx)(o(),{value:Number(e.confidence),width:90,height:90,valueLabelStyle:{fontSize:"11.5px"},valueFormatter:e=>"".concat(e,"%"),color:"hsl(237, 100%, 46%)",minMaxLabelStyle:{display:"none"},label:"Confidence"})})]},"price.source-".concat(t))})}),(0,a.jsx)("div",{className:"bg-gray-100 p-4 pt-0",children:(0,a.jsx)("p",{className:"block text-sm text-gray-400 text-wrap-balance",children:"Actual market value of a property can vary significantly. We strongly recommend that you always do your own research (DYOR). The presented values are derived from third-party sources and the county's assessed values."})})]})})})]})}})})},g=n(90407),v=n(88229),j=n(94172);function w(e){var t,n,i;let{tokenData:{tokenId:r,pricing:o,balances:d,isPremint:c}}=e,{isOwner:u,isLoading:p}=(0,v.Z)({balances:d,isPremint:c,tokenId:r}),m=(0,j.rU)({tokens:["".concat(g.as,":").concat(r)],includeTopBid:!0}),x=!!(null==m?void 0:null===(i=m.data[0])||void 0===i?void 0:null===(n=i.market)||void 0===n?void 0:null===(t=n.floorAsk)||void 0===t?void 0:t.id);return!p&&o&&o.length&&(!x||u)?(0,a.jsx)(l.C,{title:(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-x-2 items-baseline",children:(0,a.jsx)("span",{children:"Estimated Value"})}),icon:(0,a.jsx)(s.Z,{className:"hidden h-5 w-5 fill-current xs:inline-block"}),className:"overflow-visible",additionalHeaderContent:(0,a.jsx)(b,{pricing:o}),children:x&&(0,a.jsx)(()=>(0,a.jsx)("span",{children:"While the property is for sale, only you —the owner— can see the estimated value."}),{})}):null}},32308:function(e,t,n){"use strict";n.d(t,{default:function(){return j}});var a=n(57437),s=n(2265),l=n(5620),i=n(10124),r=n(44106),o=n(96164),d=n(20301),c=n(52378),u=n(45908),p=n(18433),m=n(76460),x=n(25622),y=n(65658);function f(e){let{scoringDescriptors:t,scoringCheckResults:n}=e;return(0,a.jsx)("ul",{className:"flex min-h-[20rem] flex-col gap-2 gap-y-2",children:null==t?void 0:t.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(x.p,{children:t=>{let{open:s}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x.p.Button,{className:"flex w-full justify-between rounded-lg  bg-conic-blue px-4 py-3 text-left text-sm font-medium text-offwhite-x-light focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75",children:[(0,a.jsx)("span",{className:"text-gray-200",children:e.title}),(0,a.jsx)(d.Z,{className:"".concat(s?"":"rotate-180 transform"," h-5 w-5 text-gray-300")})]}),(0,a.jsx)(y.u,{show:s,enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,a.jsx)(x.p.Panel,{static:!0,children:(0,a.jsxs)("div",{className:"px-4 py-3 pb-5",children:[(0,a.jsx)("h3",{className:"mb-2 text-lg font-bold",children:e.description}),(0,a.jsxs)("ul",{className:"flex flex-col gap-y-2",children:[null==n?void 0:n.filter(t=>t.group===e.groupName).map(e=>(0,a.jsxs)("li",{className:"flex items-center gap-x-2",children:[e.value?(0,a.jsx)(c.Z,{className:"h-6 w-6 shrink-0 fill-mint"}):(0,a.jsx)(u.Z,{className:"h-6 w-6 shrink-0 fill-red-600"}),(0,a.jsx)("span",{children:e.title})]},(0,m.kb)())),n&&0===n.filter(t=>t.group===e.groupName).length&&(0,a.jsxs)("li",{className:"flex items-center gap-x-2",children:[(0,a.jsx)(p.Z,{className:"h-6 w-6 shrink-0 fill-red-600"}),(0,a.jsx)("span",{children:"Unavailable"})]})]})]})})})]})}})},(0,m.kb)()))})}var h=n(26393),b=n(45896),g=n(40578);function v(e){let{wrapperClassnames:t,numSections:n=4}=e,s=()=>(0,a.jsxs)("div",{className:"flex w-full flex-col rounded-lg border border-gray-700 bg-gray-800 px-4 py-2 shadow-md relative",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-100",children:(0,a.jsx)(h.default,{className:"w-1/3 inline-block"})}),(0,a.jsx)(b.Z,{className:"h-5 w-5 text-gray-300 absolute top-1/2 right-4 transform -translate-y-1/2"})]});return(0,a.jsx)(h.SkeletonTheme,{baseColor:g.lo.base,highlightColor:g.lo.highlight,children:(0,a.jsx)("div",{className:(0,o.m6)("flex min-h-[20rem] flex-col gap-2 gap-y-2",t),children:Array.from(Array(n).keys()).map((e,t)=>(0,a.jsx)(s,{},t))})})}function j(e){let{isPremint:t,isBurned:n,score:d,scoringCheckResults:c=[]}=e,[u,p]=(0,s.useState)(),[m,{loading:x}]=(0,r.Pj)({onError:e=>{console.error("Error fetching scoring descriptors",e)},onCompleted:async e=>{let{scoringDescriptors:t}=e;p([...t])}});return(0,s.useEffect)(()=>{m()},[m]),(0,a.jsx)(i.C,{title:"Provenance Score",icon:(0,a.jsx)(l.Z,{className:"hidden h-5 w-5 fill-current xs:inline-block"}),additionalHeaderContent:(0,a.jsx)("div",{className:"flex items-end gap-x-[6px] leading-[1.1rem]",children:d||n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-bold text-gray-300",children:d}),(0,a.jsxs)("span",{className:"flex h-[1.1rem] items-end gap-x-[2px]",children:[(0,a.jsx)("span",{className:(0,o.m6)("h-[50%] w-[6px] border-[1px] border-transparent bg-mint",0===d&&"bg-white")}),(0,a.jsx)("span",{className:(0,o.m6)("h-[75%] w-[6px] border-[1px] border-transparent bg-mint",0===d&&"bg-white")}),(0,a.jsx)("span",{className:(0,o.m6)("h-[100%] w-[6px] border-[1px] border-mint bg-white",0===d&&"bg-white border-transparent")})]})]}):(0,a.jsxs)("span",{className:"whitespace-nowrap text-sm text-gray-300",children:["(",t?"N/A":"computing",")"]})}),children:(0,a.jsx)(a.Fragment,{children:x?(0,a.jsx)(v,{}):d||n?(0,a.jsx)(f,{scoringCheckResults:c,scoringDescriptors:u}):null})})}},26498:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var a=n(57437),s=n(81980),l=n.n(s),i=n(2265),r=n(16463),o=n(76460),d=n(90407),c=n(8526),u=n(70750),p=e=>{let[t,n]=(0,i.useState)(!1),[a,{startCountdown:s,stopCountdown:l}]=(0,u.au)({countStart:10,intervalMs:1e3}),p=(0,r.useSearchParams)(),m=(0,r.useRouter)(),x=async()=>{try{let t=await o.hi.token.getPremint(e,d.as,d.CF);if(t.ok){let a=t.data.steps,l=a[a.length-1].substeps;(0,c.c2)(l)?m.replace("/property/".concat(e)):(n(!0),s())}else throw Error("Error getting premint")}catch(e){console.error(e)}};return(0,i.useEffect)(()=>{let t=async()=>{try{if(!(await o.hi.token.markCelebrationComplete(e,d.as,d.CF)).ok)throw Error("Error marking celebration complete")}catch(e){console.error(e)}};a<=0&&setTimeout(()=>{n(!1),t(),l()},3500)},[a,l,e]),(0,i.useEffect)(()=>{(null==p?void 0:p.get("confetti"))&&x()},[x,p]),{confetti:t,count:a}};function m(e){let{tokenId:t}=e,n=(0,u.iP)(),{confetti:s,count:i}=p(t);return s?(0,a.jsx)("div",{className:"pointer-events-none fixed inset-0 z-50",children:(0,a.jsx)(l(),{width:n.width,height:n.height,numberOfPieces:i>0?200:0})}):null}},44562:function(e,t,n){"use strict";n.d(t,{default:function(){return i}});var a=n(57437),s=n(2265),l=n(13473);function i(){let[e,t]=(0,s.useState)(!1),{ref:n,inView:i}=(0,l.YD)({threshold:.5});return(0,s.useEffect)(()=>{let e=setTimeout(()=>{t(!0)},2e3);return()=>clearTimeout(e)},[]),(0,a.jsx)(a.Fragment,{children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{"data-inview":i}),(0,a.jsx)("div",{role:"presentation",className:"text-transparent absolute",ref:n,children:"in view"})]})})}},47174:function(e,t,n){"use strict";n.d(t,{default:function(){return C}});var a=n(57437),s=n(2265),l=n(7433),i=n.n(l),r=n(66648),o=n(61652),d=n(76460),c=n(12052),u=n(21839),p=n(10124),m=n(90407),x=n(40578),y=n(88229),f=n(47237),h=n(96164),b=n(70061),g=n(58729);function v(e,t){e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?t(!0):"dragleave"===e.type&&t(!1)}var j=n(42573);let w=(0,s.forwardRef)((e,t)=>{let{tokenId:n,mediaAssets:l,setMediaAssets:i,closeModal:o,setIpfsHash:c,isPremint:p}=e,[x,y]=(0,s.useState)(!1),f=(0,s.useMemo)(()=>l.length>0?(0,a.jsx)("div",{className:"editable-media-assets flex flex-col flex-wrap gap-10 sm:gap-8",children:l.map((e,t)=>{let{type:n,description:s,original:l,sourceKey:i}=e;return(0,a.jsxs)("div",{className:"relative sm:flex sm:items-end sm:gap-x-2 grid grid-cols-[1fr_1fr_auto] gap-2",children:["video"===n?(0,a.jsx)("video",{className:"col-span-3 w-auto",src:l,width:200,height:200,style:{height:"auto"},controls:!0},"video-".concat(i)):l.includes("placeholder")?null:(0,a.jsx)(r.default,{className:"sm:w-[200px] sm:h-[200px] col-span-3 w-auto h-auto",src:l,width:200,height:200,style:{height:"auto"},alt:""},"image-".concat(i)),(0,a.jsxs)("div",{className:"flex-1 col-span-3 flex-col",children:[(0,a.jsx)("span",{id:"caption-label-".concat(t),className:"font-sans-bold text-xs",children:"Add A Caption"}),(0,a.jsx)("div",{"aria-labelledby":"caption-label-".concat(t),className:"description",contentEditable:!0,suppressContentEditableWarning:!0,children:s})]}),(0,a.jsxs)("button",{title:"Remove this asset",className:"flex h-8 w-8 items-center justify-center rounded-md bg-gray-100 p-3 text-xl col-start-3 self-start sm:self-end row-start-1 absolute right-0 sm:static transition-opacity duration-300",onClick:e=>{if(e.target instanceof HTMLButtonElement){var t,n;null===(n=e.target)||void 0===n||null===(t=n.closest("div"))||void 0===t||t.classList.add("opacity-30","should-delete")}},type:"button",children:[(0,a.jsx)("span",{className:"sr-only",children:"Remove this asset"})," \xd7"]})]},"".concat(i,"-").concat(t))})}):(0,a.jsx)(a.Fragment,{children:"No media assets yet!"}),[l]),h=async()=>{let e=new FormData,t=[];await Promise.all(l.map(async n=>{let{description:a="",sourceKey:s="placeholder",type:l,file:i,shouldDelete:r}=n;if(i){let n=i.name.replace(/[\s\-\.\(\)\[\]]/g,"_");t.push({description:a,fileName:n,type:l}),e.append(n,new Blob([await new Promise((e,t)=>{let n=new FileReader;n.onload=()=>{if(n.result instanceof ArrayBuffer)e(n.result);else{var a;t(Error(null!==(a=n.result)&&void 0!==a?a:"Result was null"))}},n.onerror=t,n.readAsArrayBuffer(i)})]),n)}else t.push({delete:null!=r&&r,source:s,description:a,type:l})})),e.append("media",new Blob([JSON.stringify(t)],{type:"application/json"}));let a="".concat(m._4,"/token/").concat(m.CF,"/").concat(m.as,"/").concat(p?"premint":"token","/").concat(n,"/configuration");(0,d.h4)({msg:"Updating your property! Larger files can take a few minutes",type:"info",timeUntilClose:3e3});let s=await fetch(a,{method:"PATCH",headers:{Authorization:"Bearer ".concat(m.hI)},body:e});if(s.ok)p?(0,d.h4)({msg:"Your media has been updated. We'll be right back...",toastId:"reload-media",beforeReload(){(0,u.Q)("token-".concat(n))}}):c(await s.text());else throw Error("".concat(s.statusText,"\n").concat(await s.text()))};return(0,a.jsx)("dialog",{ref:t,className:"transition-all text-md inset-0 block w-full max-w-3xl translate-y-20 overflow-hidden rounded-2xl p-0 opacity-0 backdrop:backdrop-blur-sm md:w-2/3 [&:not([open])]:pointer-events-none [&[open]]:translate-y-0 [&[open]]:opacity-100",onSubmit:e=>{if(!confirm("Are you sure you want to save changes?"))return e.preventDefault(),!1;let t=document.querySelectorAll(".editable-media-assets > div"),n=[...l];t.forEach((e,t)=>{let a=e.querySelector(".description");if(a instanceof HTMLDivElement){let e=a.innerText;n[t].description=e}}),t.forEach((e,t)=>{e.classList.contains("should-delete")&&(n[t].shouldDelete=!0)}),i([...n]),h()},onClose:()=>{i([...l]),o()},onClick:e=>{let t=e.target;"DIALOG"===t.nodeName&&t.close()},children:(0,a.jsxs)("form",{method:"dialog",onDragEnter:e=>v(e,y),children:[(0,a.jsx)("header",{className:"relative mb-10 rounded-t-2xl bg-white px-8 pt-6",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Upload Images or Videos"})}),(0,a.jsx)("input",{id:"input-upload",multiple:!0,accept:"image/*,video/*",type:"file",hidden:!0,onChange:e=>(function(e,t,n){let{target:a}=e;if(a.files){let e=t.filter(e=>!e.original.includes("placeholder")),s=[];for(let e=0;e<a.files.length;e++){let t=a.files[e],n=t.type.split("/")[0];s.push({type:n,description:"",original:URL.createObjectURL(t),file:t})}n([...e,...s])}})(e,l,i)}),(0,a.jsx)("label",{htmlFor:"input-upload",children:(0,a.jsxs)("div",{className:"mx-auto flex w-full max-w-[calc(100%_-_2rem)] sm:max-w-[calc(100%_-_4rem)] cursor-pointer items-center justify-center gap-x-1 whitespace-nowrap rounded border-2 border-dashed px-4 py-10 transition-colors duration-300 hover:bg-slate-100",children:[(0,a.jsx)(j.Fl,{className:"h-4 w-4 fill-current text-gray-500"}),(0,a.jsx)("span",{children:"Upload here!"})]})}),x&&(0,a.jsx)("div",{id:"drag-file-element",onDragEnter:e=>v(e,y),onDragLeave:e=>v(e,y),onDragOver:e=>v(e,y),onDrop:e=>(function(e,t,n,a){if(e.preventDefault(),e.stopPropagation(),t(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){let t=[];for(let n=0;n<e.dataTransfer.files.length;n++){let a=e.dataTransfer.files[n],s=a.type.split("/")[0];t.push({type:s,description:"",original:URL.createObjectURL(a),file:a})}a([...n,...t])}})(e,y,l,i)}),(0,a.jsx)("div",{className:"max-h-80 space-y-3 overflow-auto bg-white px-4 sm:px-8 py-16",children:f}),(0,a.jsxs)("footer",{className:"flex justify-end gap-6 rounded-b-2xl bg-gray-100 px-8 py-4",children:[(0,a.jsx)("button",{type:"button",className:"text-gray-400",formMethod:"dialog",onClick:o,children:"Cancel"}),(0,a.jsx)("button",{formMethod:"dialog",className:"btn !m-0",type:"submit",children:"Save changes"})]})]})})});w.displayName="MediaUploadDialog";var N=n(9967);function T(e){let{showMediaUploadDialog:t,isLoading:n=!1}=e;return(0,a.jsx)(()=>(0,a.jsx)("button",{className:(0,h.m6)("btn !bg-black btn-primary !m-0 sm:w-auto absolute bottom-[0.5rem] right-4 !min-w-0 z-[11]",n&&"cursor-not-allowed"),onClick:n?void 0:()=>{t()},type:"button",children:n?(0,a.jsxs)("div",{className:"text-sm text-white space-x-1",children:[(0,a.jsx)("span",{children:"Updating your property"}),(0,a.jsx)("span",{className:"loading-dots",children:"..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex gap-x-1",children:(0,a.jsx)("span",{children:"Upload Media"})}),(0,a.jsx)(N.Z,{className:"absolute -right-2 -top-2 h-5 w-5"})]})}),{})}function C(e){let{tokenData:{tokenId:t,isPremint:n,balances:l,configuration:v},numImages:j=0}=e,[N,C]=(0,s.useState)(0),[k,F]=(0,s.useState)(null),{writeContract:E,data:S,isPending:A,isError:P,error:L}=(0,b.S)(),{isSuccess:I,isFetching:R}=(0,g.A)({hash:S});(0,s.useEffect)(()=>{k&&E&&(E({address:m.as,abi:c,functionName:"updateConfiguration",args:[k,t]}),F(null))},[k,t,E]),(0,s.useEffect)(()=>{P&&(0,d.h4)({msg:(0,f.nU)(null==L?void 0:L.name),type:"error"})},[P,L]),(0,s.useEffect)(()=>{I&&(0,d.h4)({msg:"Your property has been updated! We'll be right back…",timeUntilClose:x.Lg,toastId:"reload-property",beforeReload(){(0,u.Q)("token-".concat(t))}})},[t,I]);let[M,D]=(0,s.useState)([]),O=(0,s.useRef)(null),Z=(0,s.useRef)(null),{isHolder:_}=(0,y.Z)({balances:l,isPremint:n,tokenId:t});(0,s.useEffect)(()=>{var e;if(!(null==v?void 0:v.media)||(null==v?void 0:null===(e=v.media)||void 0===e?void 0:e.length)===0)return;let t=[];v.media.map(e=>{var n;t.push({type:e.type,description:null!==(n=e.description)&&void 0!==n?n:"",original:(0,d.d9)(e.source,"ipfs://","https://ipfs.fabrica.land/ipfs/"),sourceKey:e.source})}),D(t)},[null==v?void 0:v.media]);let B=(0,s.useCallback)(()=>{var e;document.body.classList.remove("fullscreen"),null===(e=O.current)||void 0===e||e.removeEventListener("click",B),C(0)},[]),U=(0,s.useCallback)(e=>{("Escape"===e.key||"Esc"===e.key)&&(document.body.classList.remove("fullscreen"),document.removeEventListener("keydown",U),C(0))},[]),V=(0,s.useCallback)(()=>{var e;document.body.classList.add("fullscreen"),document.addEventListener("keydown",U),null===(e=O.current)||void 0===e||e.addEventListener("click",e=>{e.target===O.current&&B()})},[B,U]),z=(0,s.useCallback)(()=>{var e;null===(e=Z.current)||void 0===e||e.showModal(),document.documentElement.style.overflowY="hidden"},[]),Y=e=>{C(e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(()=>{let e=M.filter(e=>"image"===e.type).slice(0,4);if(0===j)return null;let t="";return 1===j?t="md:grid-rows-1 md:grid-cols-1 with-placeholder-1":2===j?t="md:grid-rows-1 md:grid-cols-2 with-placeholder-2":3===j?t="md:grid-rows-2 md:grid-cols-2 with-placeholder-3":j>3&&(t="md:grid-rows-2 md:grid-cols-2 with-placeholder-4"),(0,a.jsx)("div",{className:(0,h.m6)("min-w-[100px] self-start h-full flex flex-col flex-[0.25] md:flex-1 md:grid md:gap-4 relative with-placeholder",t),children:e.map((e,t)=>{let{description:n,original:s,sourceKey:l}=e;return(0,a.jsx)("button",{type:"button",onClick:()=>{Y(t),setTimeout(()=>{V()},500)},className:"md:hover:cursor-[url(/img/expand-icon.svg),_nesw-resize] transition will-change-auto transform relative hover:scale-[1.02] brightness-90 hover:brightness-110 h-1/4 md:h-full z-10",children:(0,a.jsx)(r.default,{className:"!relative !md:absolute object-cover inset-0 w-auto",src:s,alt:null!=n?n:"",fill:!0,sizes:"(min-width: 768px) 50vw, 100vw",priority:!0})},"".concat(l,"-").concat(t))})})},{}),(null==M?void 0:M.length)>0&&(0,a.jsxs)("div",{ref:O,className:"image-gallery-overlay",children:[(0,a.jsx)(p.C,{className:"relative overflow-visible",children:(0,a.jsx)(i(),{items:M,startIndex:N,autoPlay:!1,showPlayButton:!1,showFullscreenButton:!1})}),(0,a.jsx)("button",{type:"button","aria-label":"Close image gallery",className:"absolute top-4 right-4 image-gallery-overlay-close-btn",onClick:B,children:(0,a.jsx)(o.Z,{className:"fill-white h-10 w-10"})})]}),_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T,{isLoading:A||R,showMediaUploadDialog:z}),(0,a.jsx)(w,{tokenId:t,setIpfsHash:F,mediaAssets:M,isPremint:n,setMediaAssets:D,ref:Z,closeModal:()=>{var e;null===(e=Z.current)||void 0===e||e.close(),document.documentElement.style.overflowY=""}})]})]})}},1249:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var a=n(57437),s=n(57904),l=n(56913),i=n(73329),r=n(88229);function o(e){let{tokenId:t,balances:n,isPremint:o}=e,{isOwner:d,isUnderLoan:c}=(0,r.Z)({balances:n,isPremint:o,tokenId:t});return(0,a.jsx)("div",{className:"text-left text-lg text-grid-card-dark-gray-3",children:(0,a.jsx)("div",{className:"flex items-center gap-x-1 whitespace-nowrap text-sm",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Nearly the owner"}),(0,a.jsx)(s.Z,{className:"h-[15px] w-[15px] fill-yellow-200"})]}):!o&&n&&n.length>1?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{children:["Fractional Owner (1 of ",n.length," owners)"]}),(0,a.jsx)(l.Z,{className:"h-[15px] w-[15px] fill-white"})]}):o?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{children:[d?"Owned by you":"Owner",c&&" (under loan)"]}),(0,a.jsx)(i.Z,{className:"h-[15px] w-[15px] fill-yellow-200"})]})})})}},92771:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var a=n(57437),s=n(26393),l=n(9931),i=n(77700),r=n(40578);function o(e){let{animationUrl:t}=e;return(0,a.jsxs)("div",{className:"flex-1 relative h-full",children:[(0,a.jsx)(s.SkeletonTheme,{baseColor:r.lo.base,highlightColor:r.lo.highlight,children:(0,a.jsx)(s.default,{className:"mx-auto block w-full",height:r.bw})}),t?(0,a.jsx)("iframe",{loading:"lazy",src:t,title:"property animation",className:"absolute left-0 top-0 z-10",width:"100%",height:"100%"}):(0,a.jsx)("div",{className:"absolute inset-0",children:(0,a.jsx)(l.D5,{...i.Z})})]})}},56388:function(e,t,n){"use strict";n.d(t,{default:function(){return _}});var a=n(57437),s=n(2265),l=n(92061),i=n(28336),r=n(76460),o=n(47237),d=n(21839),c=n(12343),u=n(10124),p=n(88229),m=n(62737),x=n.n(m),y=n(51470),f=n.n(y),h=n(19050),b=n(61652),g=n(19219),v=n(63195),j=n(90407),w=n(40578),N=n(91310),T=n(65658),C=n(74649),k=n(21620),F=n(70061),E=n(58729);function S(e){let{setStep:t,onCancel:n,repaymentAmount:l,currencyAddress:i}=e,[r,o]=(0,s.useState)(null),[d,c]=(0,s.useState)(w.e_.IDLE),u=(0,s.useRef)(!1),{writeContractAsync:p,data:m}=(0,F.S)(),{isPending:x,isLoading:y,isSuccess:f,isError:h}=(0,E.A)({hash:m});return(0,s.useEffect)(()=>{(async function(){!u.current&&p&&(u.current=!0,await p({address:i,abi:k.Wo,functionName:"approve",args:[j.ZX,l]}))})()},[i,l,p]),(0,s.useEffect)(()=>{f&&t("payoff")},[f,t]),(0,s.useEffect)(()=>{h&&(o("You have rejected signing the initial approval step. Please try again."),c(w.e_.ERROR))},[h]),(0,a.jsx)(T.u,{appear:!0,show:!0,as:s.Fragment,children:(0,a.jsxs)(C.V,{as:"div",className:"relative z-[11]",onClose:n,children:[(0,a.jsx)(T.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(T.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsx)(C.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:d===w.e_.ERROR?(0,a.jsx)(()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)(b.Z,{className:"mb-3 mx-auto h-20 w-20 text-red-600"}),(0,a.jsx)("p",{className:"text-neutral-700 mb-3 text-center",children:r||"A problem occurred while approving the loan. Please try it again."}),(0,a.jsx)("button",{type:"button",onClick:()=>{n()},className:"btn btn-primary w-full",children:"Try again"})]})}),{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(C.V.Title,{className:"relative !mb-6 !mt-3 !pr-5 !text-2xl leading-10",children:[(0,a.jsx)("span",{children:"Loan Approval"}),y&&(0,a.jsxs)("span",{className:"text-xs font-sans-bold pl-2",children:["In progress ",(0,a.jsx)("span",{className:"loading-dots",children:"..."})]}),(0,a.jsx)(v.Z,{callback:n,btnOverrides:"absolute right-0"})]}),(0,a.jsx)("div",{className:"flex gap-x-3",children:(0,a.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,a.jsxs)("ol",{className:"flex flex-col gap-y-3 list-none loan-approval",children:[(0,a.jsxs)("li",{className:"pl-[2.2rem] relative flex gap-x-4",children:[(0,a.jsx)("div",{className:"flex flex-col flex-1",children:(0,a.jsx)("span",{className:"font-sans-bold",children:"Approve your spending cap to repay the loan."})}),(0,a.jsx)("div",{className:"flex items-center",children:y||x?(0,a.jsx)(g.Z,{className:"h-7 w-7 animate-spin"}):f?(0,a.jsx)(N.rE,{className:"h-7 w-7 text-green-600"}):(0,a.jsx)(b.Z,{className:"h-7 w-7 text-red-600"})})]}),(0,a.jsxs)("li",{className:"pl-[2.2rem] relative flex gap-x-4",children:[(0,a.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,a.jsx)("span",{className:"font-sans-bold",children:"Repay the loan"}),(0,a.jsx)("div",{children:"We promise this is the last step!"})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(N.rE,{className:"h-7 w-7 text-neutral-300"})})]})]})})})]})})})})})]})})}var A=n(64778),P=n(53507),L=n(43698);function I(e){var t;let{activeLoan:n,onCancel:l,setStep:i,connectedAddress:d}=e,[c,u]=(0,s.useState)(!1),{networkMismatch:p}=(0,L.g)(),m=null!==(t=null==n?void 0:n.currencySymbol)&&void 0!==t?t:"USDC",x=(0,r.pf)(null==n?void 0:n.currency),y=null==x?void 0:x.decimals,f=(0,o.C6)(y,null==n?void 0:n.maxRepayment,null==n?void 0:n.maxRepaymentScaled),{data:h}=(0,P.u)({address:null==n?void 0:n.currency,abi:k.Wo,functionName:"allowance",args:[d,j.ZX]});return(0,s.useEffect)(function(){if(null==n?void 0:n.maxRepayment){let e=BigInt(n.maxRepayment);u("bigint"==typeof h&&h>=e)}},[h,null==n?void 0:n.maxRepayment]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(T.u,{show:!0,appear:!0,as:s.Fragment,children:(0,a.jsxs)(C.V,{as:"div",className:"relative z-[11]",onClose:l,children:[(0,a.jsx)(T.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(T.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(C.V.Panel,{className:"w-full max-w-md transform rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all max-h-[38rem] overflow-auto",children:[(0,a.jsxs)(C.V.Title,{className:"!mb-6 !mt-3 !text-2xl leading-10 flex items-center justify-between border-b-[1px] border-black !pb-6",children:[(0,a.jsx)("span",{children:"Loan Repayment"}),(0,a.jsx)(v.Z,{callback:l})]}),(0,a.jsxs)("p",{className:"mb-4",children:["To pay off your loan,"," ",(0,a.jsxs)("strong",{className:"font-sans-bold",children:[(0,a.jsx)(o.Y9,{symbol:m,className:"mr-[2px]"}),f]})," ","will be deducted from your account. Your property will immediately be unlocked and returned to your wallet."]}),(0,a.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,a.jsxs)("button",{type:"button",className:"btn !w-full flex gap-2 group",onClick:()=>{if(p){(0,r.Uz)();return}i(c?"payoff":"approve spend")},children:[(0,a.jsxs)("span",{children:["Continue to"," ",c?"payoff":"approval"]}),(0,a.jsx)(A.Z,{className:"h-5 w-5 fill-current group-hover:translate-x-1 transition-transform relative"})]})})]})})})})]})})})}var R=n(81980),M=n.n(R),D=n(45399),O=n(42573);function Z(e){let{onCancel:t,onComplete:n,loanId:l}=e,[i,r]=(0,s.useState)(null),[o,d]=(0,s.useState)(w.e_.IDLE),c=(0,s.useRef)(!1),{writeContractAsync:u,data:p}=(0,F.S)(),{isPending:m,isLoading:x,isSuccess:y,isError:f}=(0,E.A)({hash:p});(0,s.useEffect)(()=>{(async function(){!c.current&&u&&(c.current=!0,await u({address:j.ZX,abi:D,functionName:"payBackLoan",args:[l]}))})()},[l,u]),(0,s.useEffect)(()=>{y&&d(w.e_.SUCCESS)},[y]),(0,s.useEffect)(()=>{f&&(r("You have rejected paying back the loan."),d(w.e_.ERROR))},[f]);let h={[w.e_.IDLE]:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(C.V.Title,{className:"!mb-6 !mt-3 !pr-5 !text-2xl leading-10 relative",children:[(0,a.jsx)("span",{children:"Loan Pay Off"}),x&&(0,a.jsxs)("span",{className:"text-xs font-sans-bold pl-2",children:["In progress ",(0,a.jsx)("span",{className:"loading-dots",children:"..."})]}),(0,a.jsx)(v.Z,{callback:t,btnOverrides:"absolute right-0"})]}),(0,a.jsx)("div",{className:"flex gap-x-3",children:(0,a.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,a.jsxs)("ol",{className:"flex flex-col gap-y-3 list-none loan-approval",children:[(0,a.jsxs)("li",{className:"pl-[2.2rem] relative flex gap-x-4",children:[(0,a.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,a.jsx)("span",{className:"font-sans-bold",children:"Authorize the Smart Contract."}),(0,a.jsx)("div",{children:"Grant the lending protocol permission to access your funds for loan repayment."})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(N.rE,{className:"h-7 w-7 text-green-600"})})]}),(0,a.jsxs)("li",{className:"pl-[2.2rem] relative flex gap-x-4",children:[(0,a.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,a.jsx)("span",{className:"font-sans-bold",children:"Repay the Loan"}),(0,a.jsx)("div",{children:"Repay the loan and accrued interest to release your property from collateral."})]}),(0,a.jsx)("div",{className:"flex items-center",children:x||m?(0,a.jsx)(g.Z,{className:"h-7 w-7 animate-spin"}):y?(0,a.jsx)(N.rE,{className:"h-7 w-7 text-green-600"}):(0,a.jsx)(b.Z,{className:"h-7 w-7 text-red-600"})})]})]})})})]}),[w.e_.ERROR]:(0,a.jsx)(()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)(b.Z,{className:"mb-3 mx-auto h-20 w-20 text-red-600"}),(0,a.jsx)("p",{className:"text-neutral-700 mb-3 text-center",children:i||"A problem occurred while paying off the loan. Please try it again."}),(0,a.jsx)("button",{type:"button",onClick:()=>{t()},className:"btn btn-primary w-full",children:"Try again"})]})}),{}),[w.e_.SUCCESS]:(0,a.jsx)(()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)(O.pC,{className:"mb-3 mx-auto h-20 w-20 text-green-600"}),(0,a.jsx)("p",{className:"text-neutral-700 mb-3 text-center",children:"Awesome! Your loan is fully repaid and your property has been returned to your wallet."}),(0,a.jsx)("button",{type:"button",onClick:n,className:"btn btn-primary w-full",children:"Got It"}),(0,a.jsx)(M(),{})]})}),{})};return(0,a.jsx)(T.u,{appear:!0,show:!0,as:s.Fragment,children:(0,a.jsxs)(C.V,{as:"div",className:"relative z-[11]",onClose:t,children:[(0,a.jsx)(T.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(T.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsx)(C.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:h[o]})})})})]})})}function _(e){var t;let{tokenId:n,activeLoan:m,balances:y}=e,{isUnderLoan:f,isOwner:b,connectedWalletAddress:g}=(0,p.Z)({balances:y,isPremint:!1}),{networkMismatch:v}=(0,L.g)(),[j,w]=(0,s.useState)(null),N=null!==(t=null==m?void 0:m.currencySymbol)&&void 0!==t?t:"USDC",T=(0,r.pf)(null==m?void 0:m.currency),C=null==T?void 0:T.decimals,k=(0,o.C6)(C,null==m?void 0:m.maxRepayment,null==m?void 0:m.maxRepaymentScaled),{data:F}=(0,h.K)({address:g,token:null==m?void 0:m.currency}),[E,A]=(0,s.useState)(null),P=()=>{w(null)},R=(0,s.useCallback)(()=>{w("completed"),(0,r.h4)({type:"success",msg:"We'll be right back…",toastId:"loan-started-reload",beforeReload(){(0,d.Q)("token-".concat(n)),(0,d.Q)("tokens-for-".concat(g))}})},[g,n]);if(f&&"completed"!==j)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.C,{title:"Under Loan",icon:(0,a.jsx)(l.Z,{className:"h-5 w-5 fill-current"}),className:"w-full md:mx-auto md:max-w-lg",contentStyles:"!px-[1.25rem]",additionalHeaderContent:(0,a.jsx)(c.Z,{label:(0,a.jsxs)(a.Fragment,{children:["due ",x()(new Date).to(null==m?void 0:m.maturityDate)]}),icon:(0,a.jsx)(i.Z,{className:"w-[1rem] h-[1rem] fill-mint animate-pulse"})}),children:[(0,a.jsxs)("div",{className:"mb-4 flex items-start justify-between gap-y-3",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"property-content-subheader mb-3",children:"Total Due"}),(0,a.jsx)("br",{}),(0,a.jsxs)("span",{children:[(0,a.jsx)(o.Y9,{symbol:N}),k]})]}),(null==m?void 0:m.maturityDate)&&(0,a.jsxs)("p",{className:"text-right",children:[(0,a.jsx)("strong",{className:"property-content-subheader mb-3",children:"By"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:x()(m.maturityDate).format("MMMM D, YYYY")})]})]},null==m?void 0:m.loanId),b&&g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",className:"btn btn-primary w-full ".concat(E?"animate-shakeOnce":""),onClick:()=>{if(!m)return;if(v){(0,r.Uz)();return}let e=null==m?void 0:m.maxRepaymentScaled;F&&e&&(+F.formatted<+e?A((0,a.jsxs)("span",{className:"text-red-600",children:["Insufficient ",m.currencySymbol," balance"]})):(A(null),w("details")))},children:"Pay Off"}),!!E&&(0,a.jsx)("div",{className:"mt-3 text-center",children:E})]})]}),"details"===j&&g&&m&&(0,a.jsx)(I,{activeLoan:m,onCancel:P,setStep:w,connectedAddress:null!=g?g:""}),"approve spend"===j&&(null==m?void 0:m.maxRepayment)&&(null==m?void 0:m.currency)&&(0,a.jsx)(S,{setStep:w,onCancel:P,repaymentAmount:BigInt(m.maxRepayment),currencyAddress:m.currency}),"payoff"===j&&(null==m?void 0:m.loanId)&&(0,a.jsx)(Z,{onCancel:P,onComplete:R,loanId:m.loanId})]})}x().extend(f())},43393:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var a=n(57437),s=n(87138),l=n(18433),i=n(76460),r=n(10124),o=n(88229);function d(e){let{tokenId:t,balances:n}=e,{isOwner:d}=(0,o.Z)({balances:n,isPremint:!1});return(0,a.jsx)(r.C,{title:"Defaulted Loan",icon:(0,a.jsx)(l.Z,{className:"h-5 w-5 fill-current"}),children:(0,a.jsx)(a.Fragment,{children:d&&(0,a.jsxs)("p",{className:"text-white",children:[(0,a.jsx)(s.default,{target:"_blank",className:"underline",href:(0,i.s3)(t),children:"Head over to NFTfi"})," ","to manage the defaulted loan"]})})})}},96026:function(e,t,n){"use strict";n.d(t,{default:function(){return W}});var a=n(57437),s=n(66648),l=n(12343),i=n(10124),r=n(88229),o={src:"/_next/static/media/nftfi.ce294ed8.webp",height:128,width:128,blurDataURL:"data:image/webp;base64,UklGRoQAAABXRUJQVlA4WAoAAAAQAAAABwAABwAAQUxQSBcAAAABF3D//4iIgCDbZmiTGNqVzxDR/2j4AQBWUDggRgAAAPABAJ0BKggACAACQDgliAJ0AQ8DGnAugAD++p06LewyNHwXFJrXUfELVRPyjgY6kDxi32/FCt2qaY0gtx98mskHDoYAAAA=",blurWidth:8,blurHeight:8},d=n(42573),c=n(2265),u=n(76460),p=n(21839),m=n(87138),x=n(4962);function y(e){let{tokenId:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col @container",children:[(0,a.jsx)("div",{className:"pb-6 text-center flex-1",children:(0,a.jsxs)(m.default,{target:"_blank",href:(0,u.s3)(t),className:"hover:scale-[1.02] transition-transform btn flex gap-x-2 flex-1",children:[(0,a.jsx)("span",{children:"Offer a Loan"}),(0,a.jsx)(x.Z,{className:"h-4 w-4"})]})}),(0,a.jsx)("p",{className:"p-1 max-w-prose text-center [margin-inline:auto] [text-wrap:balance]",children:"Earn interest by lending funds to the owner."})]})}var f=n(26393),h=n(40578);function b(){let e=()=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("div",{className:"justify-between flex",children:[(0,a.jsxs)("div",{className:"flex gap-x-2",children:[(0,a.jsx)(f.default,{className:"text-gray-500 text-sm",width:20,height:20}),(0,a.jsx)(f.default,{className:"text-gray-500 text-sm",width:50,height:20}),(0,a.jsx)(f.default,{className:"text-gray-500 text-sm",width:20,height:20}),(0,a.jsx)(f.default,{className:"text-gray-500 text-sm",width:50,height:20})]}),(0,a.jsx)(f.default,{className:"text-gray-500 text-sm",width:50,height:20})]}),(0,a.jsxs)("div",{className:"icon-with-two-lines-action text-neutral-200 flex gap-x-2",children:[(0,a.jsx)(f.default,{className:"text-gray-500 text-sm",width:20,height:20}),(0,a.jsx)(f.default,{className:"text-gray-500 text-sm",width:50,height:20}),(0,a.jsx)(f.default,{className:"text-gray-500 text-sm",width:50,height:20}),(0,a.jsx)(f.default,{className:"text-gray-500 text-sm",width:20,height:20}),(0,a.jsx)(f.default,{className:"text-gray-500 text-sm",width:50,height:20})]})]});return(0,a.jsx)(f.SkeletonTheme,{baseColor:h.lo.base,highlightColor:h.lo.highlight,children:(0,a.jsxs)("ul",{className:"mb-10 flex flex-col gap-y-6 overflow-auto pt-3 sm:max-h-[22rem]",children:[(0,a.jsx)(e,{}),(0,a.jsx)(e,{}),(0,a.jsx)(e,{})]})})}var g=n(90407),v=n(91310),j=n(44106),w=n(47237),N=n(96164),T=n(83325),C=n(61652),k=n(19219),F=n(45399),E=n(63195),S=n(74649),A=n(65658),P=n(70061),L=n(58729);function I(e){let{onCancel:t,onComplete:n,argsForAcceptOffer:s}=e,[l,i]=(0,c.useState)(null),[r,o]=(0,c.useState)(h.e_.IDLE),p=(0,c.useRef)(!1),{writeContractAsync:m,data:x,isError:y,error:f}=(0,P.S)(),{isPending:b,isLoading:j,isSuccess:N,isError:T}=(0,L.A)({hash:x});(0,c.useEffect)(()=>{(async function(){!p.current&&m&&(p.current=!0,await m({address:g.ZX,abi:F,functionName:"acceptOffer",args:s}))})()},[s,m]),(0,c.useEffect)(()=>{y&&(0,u.h4)({msg:(0,w.nU)(null==f?void 0:f.name),type:"error"})},[y,f]),(0,c.useEffect)(function(){T&&(i((0,a.jsxs)(a.Fragment,{children:["An error occurred while accepting the loan. Please try again or"," ",(0,a.jsx)("button",{type:"button",className:"text-blue underline",onClick:()=>window.Intercom("show"),children:"let us know"})," ","about it."]})),o(h.e_.ERROR))},[T]),(0,c.useEffect)(()=>{N&&o(h.e_.SUCCESS)},[N]),(0,c.useEffect)(()=>{T&&(i("You have rejected signing the initial approval step. Please try again."),o(h.e_.ERROR))},[T]);let I={[h.e_.IDLE]:(0,a.jsx)(()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(S.V.Title,{className:"!mb-6 !mt-3 !pr-5 !text-2xl leading-10 relative",children:[(0,a.jsx)("span",{children:"Loan Setup"}),j&&(0,a.jsxs)("span",{className:"text-xs font-sans-bold pl-2",children:["In progress ",(0,a.jsx)("span",{className:"loading-dots",children:"..."})]}),(0,a.jsx)(E.Z,{callback:t,btnOverrides:"absolute right-0"})]}),(0,a.jsx)("div",{className:"flex gap-x-3",children:(0,a.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,a.jsxs)("ol",{className:"flex flex-col gap-y-3 list-none loan-approval",children:[(0,a.jsxs)("li",{className:"pl-[2.2rem] relative flex gap-x-4",children:[(0,a.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,a.jsx)("span",{className:"font-sans-bold",children:"Authorize the Smart Contract"}),(0,a.jsx)("div",{children:"Grant the lending protocol permission to use your properties for loans."})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(v.rE,{className:"h-7 w-7 text-green-600"})})]}),(0,a.jsxs)("li",{className:"pl-[2.2rem] relative flex gap-x-4",children:[(0,a.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,a.jsx)("span",{className:"font-sans-bold",children:"Initiate the loan"}),(0,a.jsx)("div",{children:"Secure your property as collateral and receive the loan funds in your account."})]}),(0,a.jsx)("div",{className:"flex items-center",children:j||b?(0,a.jsx)(k.Z,{className:"h-7 w-7 animate-spin"}):N?(0,a.jsx)(v.rE,{className:"h-7 w-7 text-green-600"}):(0,a.jsx)(C.Z,{className:"h-7 w-7 text-red-600"})})]})]})})})]}),{}),[h.e_.ERROR]:(0,a.jsx)(()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)(C.Z,{className:"mb-3 mx-auto h-20 w-20 text-red-600"}),(0,a.jsx)("p",{className:"text-neutral-700 mb-3 text-center",children:l||"A problem occurred while accepting the loan. Please try it again."}),(0,a.jsx)("button",{type:"button",onClick:()=>{t()},className:"btn btn-primary w-full",children:"Try again"})]})}),{}),[h.e_.SUCCESS]:(0,a.jsx)(()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)(d.pC,{className:"mb-3 mx-auto h-20 w-20 text-green-600"}),(0,a.jsx)("p",{className:"text-neutral-700 mb-3",children:"Loan Funded! Funds were transferred and are now available in your account. Look out for our reminder by email as the repayment date nears."}),(0,a.jsx)("button",{type:"button",onClick:n,className:"btn btn-primary w-full",children:"I understand"})]})}),{})};return(0,a.jsx)(A.u,{appear:!0,show:!0,as:c.Fragment,children:(0,a.jsxs)(S.V,{as:"div",className:"relative z-[11]",onClose:t,children:[(0,a.jsx)(A.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(A.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsx)(S.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:I[r]})})})})]})})}var R=n(12052);function M(e){let{setStep:t,onCancel:n}=e,[s,l]=(0,c.useState)(null),[i,r]=(0,c.useState)(h.e_.IDLE),o=(0,c.useRef)(!1),{writeContractAsync:d,data:u,isError:p}=(0,P.S)(),{isPending:m,isLoading:x,isSuccess:y}=(0,L.A)({hash:u});return(0,c.useEffect)(()=>{(async function(){!o.current&&d&&(o.current=!0,await d({address:g.as,abi:R,functionName:"setApprovalForAll",args:[g.ZX,!0]}))})()},[d]),(0,c.useEffect)(()=>{y&&t("accept")},[y,t]),(0,c.useEffect)(()=>{p&&(l("You have rejected signing the initial approval step. Please try again."),r(h.e_.ERROR))},[p]),(0,a.jsx)(A.u,{appear:!0,show:!0,as:c.Fragment,children:(0,a.jsxs)(S.V,{as:"div",className:"relative z-[11]",onClose:n,children:[(0,a.jsx)(A.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(A.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsx)(S.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:i===h.e_.ERROR?(0,a.jsx)(()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)(C.Z,{className:"mb-3 mx-auto h-20 w-20 text-red-600"}),(0,a.jsx)("p",{className:"text-neutral-700 mb-3 text-center",children:s||"A problem occurred while approving the loan. Please try it again."}),(0,a.jsx)("button",{type:"button",onClick:()=>{n()},className:"btn btn-primary w-full",children:"Try again"})]})}),{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(S.V.Title,{className:"!mb-6 !mt-3 !pr-5 !text-2xl leading-10",children:[(0,a.jsx)("span",{children:"Loan Approval"}),x&&(0,a.jsxs)("span",{className:"text-xs font-sans-bold pl-2",children:["In progress ",(0,a.jsx)("span",{className:"loading-dots",children:"..."})]}),(0,a.jsx)(E.Z,{callback:n,btnOverrides:"absolute right-0"})]}),(0,a.jsx)("div",{className:"flex gap-x-3",children:(0,a.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,a.jsxs)("ol",{className:"flex flex-col gap-y-3 list-none loan-approval",children:[(0,a.jsxs)("li",{className:"pl-[2.2rem] relative flex gap-x-4",children:[(0,a.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,a.jsx)("span",{className:"font-sans-bold",children:"Approve access to your NFT"}),(0,a.jsx)("div",{children:"Your NFT is used as collateral, and we need your permission to send it from your wallet to the lender."})]}),(0,a.jsx)("div",{className:"flex items-center",children:x||m?(0,a.jsx)(k.Z,{className:"h-7 w-7 animate-spin"}):y?(0,a.jsx)(v.rE,{className:"h-7 w-7 text-green-600"}):(0,a.jsx)(C.Z,{className:"h-7 w-7 text-red-600"})})]}),(0,a.jsxs)("li",{className:"pl-[2.2rem] relative flex gap-x-4",children:[(0,a.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,a.jsx)("span",{className:"font-sans-bold",children:"Accept the loan"}),(0,a.jsx)("div",{children:"We promise this is the last step!"})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(v.rE,{className:"h-7 w-7 text-neutral-300"})})]})]})})})]})})})})})]})})}var D=n(30343),O=n(93298),Z=n(34183),_=n(53507);function B(e){let{onCancel:t,additionalDetails:n,setStep:s,connectedAddress:l}=e,{data:i}=(0,_.u)({address:g.as,abi:R,functionName:"isApprovedForAll",args:[l,g.ZX]}),r=null==n?void 0:n.currencySymbol,o=()=>"USDC"===r?(0,a.jsx)("span",{children:"$"}):(0,a.jsx)(u.MD,{symbol:r,width:10,height:15,className:"mr-[2px] relative top-[1px]"}),d="USDC"===r?(0,w.xC)(Number(null==n?void 0:n.principal)):null==n?void 0:n.principalScaled,p="USDC"===r?(0,w.xC)(Number(null==n?void 0:n.maxRepayment)):null==n?void 0:n.maxRepaymentScaled,m="USDC"===r?(0,w.xC)(Number(null==n?void 0:n.maxRepayment)-Number(null==n?void 0:n.principal)):Number(null==n?void 0:n.maxRepaymentScaled)-Number(null==n?void 0:n.principalScaled);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(A.u,{appear:!0,show:!0,as:c.Fragment,children:(0,a.jsxs)(S.V,{as:"div",className:"relative z-[11]",onClose:t,children:[(0,a.jsx)(A.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(A.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(S.V.Panel,{className:"w-full max-w-xl transform rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all max-h-[40rem] overflow-auto",children:[(0,a.jsxs)(S.V.Title,{className:"!mb-6 !mt-3 !text-2xl leading-10 flex items-center justify-between border-b-[1px] border-black !pb-6",children:[(0,a.jsx)("span",{children:"Borrow against your property"}),(0,a.jsx)(E.Z,{callback:t})]}),(0,a.jsxs)("ol",{className:"relative border-dashed border-l border-gray-700 mb-2 ml-1",children:[(0,a.jsxs)("li",{className:"mb-10 ml-8",children:[(0,a.jsx)("span",{className:"absolute flex items-center justify-center w-7 h-7 rounded-full -left-3 ring-[0.4rem] ring-blue bg-blue",children:(0,a.jsx)(D.Z,{className:"animate-pulse w-6 h-6 text-white"})}),(0,a.jsx)("h3",{className:"flex items-center mb-1 text-lg font-sans-bold text-gray-900",children:"Today"}),(0,a.jsxs)("div",{className:"text-gray-700",children:["Receive"," ",(0,a.jsxs)("div",{className:"font-sans-bold inline-flex items-baseline",children:[(0,a.jsx)(o,{}),(0,a.jsx)("span",{children:d})]})," ","instantly.",(0,a.jsx)("br",{}),"Your property will be secured as collateral in a Smart Contract."]})]}),(0,a.jsxs)("li",{className:"mb-10 ml-8",children:[(0,a.jsx)("span",{className:"absolute flex items-center justify-center w-7 h-7 rounded-full -left-3 ring-[0.4rem] ring-blue-light bg-blue-light",children:(0,a.jsx)(O.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("h3",{className:"flex items-center mb-1 text-lg font-sans-bold text-gray-900",children:["Next ",(0,w.LU)((null==n?void 0:n.durationSeconds)||0)]}),(0,a.jsxs)("p",{className:"text-gray-700",children:["Enjoy uninterrupted use of your land!",(0,a.jsx)("br",{}),"No periodic payments required."]})]}),(0,a.jsxs)("li",{className:"ml-8",children:[(0,a.jsx)("span",{className:"absolute flex items-center justify-center w-7 h-7 rounded-full -left-3 ring-[0.4rem] ring-blue-light bg-blue-light",children:(0,a.jsx)(Z.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("h3",{className:"flex items-center mb-1 text-lg font-sans-bold text-gray-900",children:["By"," ",(null==n?void 0:n.durationSeconds)&&new Date(Date.now()+1e3*n.durationSeconds).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),(0,a.jsxs)("div",{className:"text-gray-700",children:["Repay"," ",(0,a.jsxs)("div",{className:"font-sans-bold inline-flex items-baseline",children:[(0,a.jsx)(o,{}),(0,a.jsx)("span",{children:p})]})," ","to regain full ownership of your property.",(0,a.jsx)("br",{}),"Total includes the loan plus",(0,a.jsxs)("div",{className:"font-sans-bold inline-flex items-baseline ml-1",children:[(0,a.jsx)(o,{}),(0,a.jsx)("span",{children:m})]})," ","in interest (",(0,a.jsx)("div",{className:"font-sans-bold inline-flex",children:(0,a.jsxs)("span",{children:[n&&(0,w.PV)(Number(null==n?void 0:n.aprPercent)),"%"]})})," ","APR).",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{className:"font-sans-bold inline-flex",children:(0,a.jsx)("span",{children:"IMPORTANT:"})}),(0,a.jsx)("br",{}),"Failure to repay can result in the loss of your property to the lender, and you will not retain any future profits from it."]})]})]}),(0,a.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,a.jsx)("button",{type:"button",className:"btn !w-full",onClick:()=>s(i?"accept":"approve transfer"),children:"I understand and accept the loan terms"})})]})})})})]})})})}var U=n(71441);function V(e){let{isHolder:t,loanOffers:n,ActionUI:s}=e,l=(0,U.Z)(n,e=>e.lender);if(!l)return null;let i=(0,u.aV)(n);return(0,a.jsx)("ul",{className:(0,N.m6)("mb-10 flex flex-col gap-y-6  pt-3 sm:max-h-[15rem] overflow-auto",i.length>3&&"content-fade-vertical"),children:i.map((e,n)=>{var i,r,o;let d=l[e.lender],c="/profile/".concat(null!==(i=null==d?void 0:d.name)&&void 0!==i?i:null==d?void 0:d.address),p=null!==(r=null==d?void 0:d.name)&&void 0!==r?r:null==d?void 0:d.displayName,x=null!==(o=null==e?void 0:e.currencySymbol)&&void 0!==o?o:"USDC",y=(0,u.pf)(e.currency),f=null==y?void 0:y.decimals,h=(0,w.C6)(f,e.principal,e.principalScaled),b=(0,w.C6)(f,e.maxRepayment,e.maxRepaymentScaled);return(0,a.jsxs)("li",{children:[(0,a.jsxs)("h3",{className:"items-center icon-with-two-lines-title flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"property-content-subheader px-1 !text-xs",children:"GET"})," ",(0,a.jsxs)("span",{children:[(0,a.jsx)(w.Y9,{symbol:x,width:10,height:15}),h]}),(0,a.jsx)("span",{className:"property-content-subheader px-2 !text-xs",children:"FROM"}),(0,a.jsx)(m.default,{href:c,className:"text-blue-400 hover:underline",children:p})]}),!!t&&s(n,e)]}),(0,a.jsxs)("div",{className:"icon-with-two-lines-action text-neutral-200",children:[(0,a.jsx)("span",{className:"property-content-subheader px-1 !text-xs",children:"REPAY"}),(0,a.jsxs)("span",{children:[(0,a.jsx)(w.Y9,{symbol:x,width:10,height:15}),b]}),(0,a.jsxs)("span",{children:[" (",(0,w.PV)(Number(e.aprPercent)),"% APR)"]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"property-content-subheader px-2 !text-xs",children:"IN"}),e.durationFormatted]})]})]},e.offerId)})})}var z=n(43698),Y=(0,c.memo)(function(e){var t;let{tokenId:n,isHolder:s}=e,[l,i]=(0,c.useState)(null),[r,o]=(0,c.useState)(null),[d,m]=(0,c.useState)(null),[x,f]=(0,c.useState)(-1),{authToken:C}=(0,v.SX)(),{networkMismatch:k}=(0,z.g)(),{address:F}=(0,T.m)(),E=null==F?void 0:F.toLocaleLowerCase();(0,c.useEffect)(()=>{null!=r&&C&&(0,w.Oh)({authToken:C,additionalDetails:r,tokenId:n,setArgsForAcceptOffer:m})},[C,n,r]);let S=(0,c.useCallback)(()=>{i(null),f(-1),o(null)},[]),A=(0,c.useCallback)(()=>{f(-1),o(null),(0,u.h4)({type:"success",msg:"We'll be right back…",toastId:"loan-started-reload",beforeReload(){(0,p.Q)("token-".concat(n)),(0,p.Q)("tokens-for-".concat(E))}})},[E,n]),{loading:P,data:L,error:R}=(0,j.uY)({variables:{network:g.CF,contractAddress:g.as,tokenId:n},context:{fetchOptions:{next:{revalidate:30}}}}),D=(null==L?void 0:L.token.loanOffers.length)===0,O=null==L?void 0:L.token.loanOffers.some(e=>{let{borrower:t}=e;return t.toLocaleLowerCase()===E||t.toLocaleLowerCase()===h.vN});return R||D&&s?null:P?(0,a.jsx)(b,{}):!D||O||s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(V,{isHolder:s,loanOffers:null!==(t=null==L?void 0:L.token.loanOffers)&&void 0!==t?t:[],ActionUI:(e,t)=>(0,a.jsx)("button",{className:(0,N.m6)("btn !text-xs !min-w-0 !py-1 !px-2 !mr-0",e===x?"animate-pulse":""),type:"button",title:"View loan offer details",onClick:()=>{if(k){(0,u.Uz)();return}i("details"),o(t),f(e)},children:"Borrow"})}),!!s&&(0,a.jsxs)("p",{className:"items-center justify-center flex gap-x-1 text-left text-md leading-tight text-gray-400 absolute bottom-4",children:[(0,a.jsx)(v.sz,{className:"h-5 w-5 shrink-0 text-yellow-300"}),(0,a.jsx)("span",{className:"text-neutral-500",children:"The property will be held as collateral."})]})]}),"details"===l&&(0,a.jsx)(B,{onCancel:S,setStep:i,additionalDetails:r,connectedAddress:E}),"approve transfer"===l&&(0,a.jsx)(M,{onCancel:S,setStep:i}),"accept"===l&&null!=d&&(0,a.jsx)(I,{onCancel:S,onComplete:A,argsForAcceptOffer:d})]}):(0,a.jsx)(y,{tokenId:n})});function W(e){let{isPremint:t,tokenId:n,balances:c}=e,{isUnderLoan:u,isHolder:p,isLoading:m}=(0,r.Z)({balances:c,isPremint:t,tokenId:n});return t||u||m?null:(0,a.jsx)("div",{children:(0,a.jsx)(i.C,{className:"loans-card",title:"Loans",icon:(0,a.jsx)(d.WK,{className:"h-6 w-6 fill-current"}),contentStyles:"sm:px-2",additionalHeaderContent:(0,a.jsx)(l.Z,{label:(0,a.jsx)("span",{className:"whitespace-nowrap",children:(0,a.jsx)(s.default,{style:{maxWidth:"50px"},src:o,alt:"NFTfi Logo"})})}),children:(0,a.jsx)("div",{className:"flex flex-col gap-y-3",children:(0,a.jsx)(Y,{tokenId:n,isHolder:p})})})})}},88229:function(e,t,n){"use strict";var a=n(2265),s=n(76460),l=n(90407),i=n(83325);t.Z=e=>{let{isConnected:t,address:n}=(0,i.m)(),r=null==n?void 0:n.toLocaleLowerCase(),[o,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1),[x,y]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{async function t(e){let t=await s.hi.token.getPremint(e,l.as,l.CF);return t.ok?Object.keys(t.data.recipients)[0].toLocaleLowerCase():(console.error("Error getting premint"),"")}switch(d(!0),e.isPremint){case!0:t(e.tokenId).then(e=>{e===r?(u(!0),m(!0)):(u(!1),m(!1))}),y(!1),d(!1);break;case!1:var n,a,i,o,c,p;if(null===(n=e.balances)||void 0===n?void 0:n.length){let t=null===(a=e.balances)||void 0===a?void 0:a.filter(e=>{let{balance:t}=e;return t&&Number(t)>0});if(m(!!(null==t?void 0:t.find(e=>{let{owner:t}=e;return(null==t?void 0:t.address)===r}))),null==t?void 0:t.length)for(let e=0;e<t.length;e++){if((null===(i=t[e].holder)||void 0===i?void 0:i.address)===r){u(!0),d(!1);break}{u(!1);let n=null!==(p=null===(o=t[e].holder)||void 0===o?void 0:o.address)&&void 0!==p?p:"",a=null===(c=t[e].owner)||void 0===c?void 0:c.address;if((null==n?void 0:n.toLocaleLowerCase())!==(null==a?void 0:a.toLocaleLowerCase())&&l.BC.map(e=>e.toLocaleLowerCase()).includes(null==n?void 0:n.toLocaleLowerCase())){y(!0);break}d(!1)}}}}},[e,t,r,o]),{isHolder:c,isOwner:p,isUnderLoan:x,connectedWalletAddress:r,isLoading:o}}},43698:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var a=n(90407),s=n(2265),l=n(83325),i=n(89745);let r=()=>{let{chainId:e}=(0,l.m)(),{switchChain:t}=(0,i.o)(),[n,r]=(0,s.useState)(!1);return(0,s.useEffect)(()=>(r(!0),()=>r(!1)),[]),{networkMismatch:!!e&&e!==a.er,switchChain:t,chainId:e,isMounted:n}}},8526:function(e,t,n){"use strict";n.d(t,{Kl:function(){return x},c2:function(){return y},Jy:function(){return p},d:function(){return u}});var a=n(57437),s=n(76460),l=n(35061),i=n(13294),r=n(20657),o=n(91310),d=n(42573);let c=new Map;c.set("research-info-from-services",(0,a.jsx)(l.Z,{className:"h-12 w-12 shrink-0 fill-current"})),c.set("doc-setup",(0,a.jsx)(i.Z,{className:"h-12 w-12 shrink-0 fill-current"})),c.set("research-review",(0,a.jsx)(r.Z,{className:"h-12 w-12 shrink-0 fill-current"})),c.set("completed",(0,a.jsx)(o.rE,{className:"h-12 w-12 shrink-0 fill-green-600"})),c.set("recording-documents",(0,a.jsx)(d.I0,{className:"h-12 w-12 shrink-0 animate-spin fill-blue"})),c.set("minting",(0,a.jsx)(d.Jo,{className:"icon-airdrop h-12 w-12 shrink-0 fill-white"}));let u=e=>{let{nextStep:t,scrollPosition:n="center",scrollDelay:a=0,customScrollStep:s,force:l=!1}=e;if(document.body.getAttribute("data-step")===t&&!l)return;document.body.setAttribute("data-step",t);let i=s||"step-".concat(t);setTimeout(()=>{var e;null===(e=document.getElementById(i))||void 0===e||e.scrollIntoView({block:n,behavior:"smooth"})},a)},p=()=>{document.body.removeAttribute("data-step"),["1","2","3"].forEach(e=>document.body.removeAttribute("data-step-".concat(e,"-completed"))),(0,s.gw)(750).then(()=>{var e;null===(e=document.getElementById("step-1"))||void 0===e||e.scrollIntoView({block:"center"})})};function m(e){let{text:t,status:n}=e;return(0,a.jsx)("span",{className:"text-current ".concat("complete"===n||"not-started"===n?"opacity-40":"text-2xl"),children:t})}let x=e=>{let{substeps:t}=e;return(0,a.jsx)("ul",{className:"mb-10 flex flex-1 flex-col gap-y-4",children:null==t?void 0:t.map(e=>{let{key:t,text:n,status:l}=e,i="complete"===l,r="in-progress"===l;return"celebration"===t?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center gap-x-3 text-gray-200",children:[(0,a.jsx)("div",{className:"shrink-0 ".concat(i||r?"":"opacity-40"),children:c.get(i?"completed":t)}),(0,a.jsx)(m,{text:n,status:l})]})},(0,s.kb)())})},(0,s.kb)())},y=e=>!!e&&(null==e?void 0:e.filter(e=>"complete"===e.status&&"celebration"===e.key).length)>0},47237:function(e,t,n){"use strict";n.d(t,{C6:function(){return h},LU:function(){return y},Oh:function(){return j},PV:function(){return f},Y9:function(){return b},f3:function(){return g},nU:function(){return v},xC:function(){return x}});var a=n(57437),s=n(17264),l=n(28336),i=n(76460),r=n(90407),o=n(62737),d=n.n(o),c=n(51470),u=n.n(c),p=n(64967),m=n(96164);function x(e){return"".concat((0,i.Cw)(e/i.SM))}function y(e){return d()().add(1e3*e,"millisecond").fromNow().replace(/^in\s+/,"").replace(/\ba month\b/,"1 month")}function f(e){return e.toFixed(2).replace(/\.?0*$/,"")}function h(e,t,n){return 6===e?x(Number(t)):18===e?n:void 0}d().extend(u());let b=e=>{let{symbol:t,width:n,height:s,className:l}=e;return"USDC"===t?(0,a.jsx)("span",{children:"$"}):(0,a.jsx)(i.MD,{symbol:t,width:n,height:s,className:(0,m.m6)("inline-flex items-center mr-1 relative -top-[2px]",l)})},g={Pending:()=>(0,a.jsxs)("div",{className:"flex align-middle gap-x-1",children:[(0,a.jsx)(s.Z,{className:"h-5 w-5 fill-mint"}),(0,a.jsxs)("div",{className:"text-sm space-x-1",children:[(0,a.jsx)("span",{children:"Approve the wallet transaction"}),(0,a.jsx)("span",{className:"loading-dots",children:"..."})]})]}),WaitingForTransaction:()=>(0,a.jsxs)("div",{className:"flex align-middle gap-x-1",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 fill-mint"}),(0,a.jsxs)("div",{className:"text-sm space-x-1",children:[(0,a.jsx)("span",{children:"Waiting for transaction"}),(0,a.jsx)("span",{className:"loading-dots",children:"..."})]})]})},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"TransactionExecutionError"===e?"You rejected the approval of the transaction":"An error occurred while updating the property"},j=async e=>{let{authToken:t,tokenId:n,additionalDetails:a,setArgsForAcceptOffer:s}=e;try{let e=new p.V0({baseUrl:r._4,baseApiParams:{secure:!0},securityWorker:()=>({headers:{Authorization:"Bearer ".concat(t)}})}),{status:l,data:i}=await e.nftfi.getSignedLoanOffer(n,r.as,r.CF,{...a});if(200!==l)throw Error("API call failed with status: ".concat(l));let{terms:o,nft:d,nftfi:c,referrer:u,lender:m,signature:x}=i,{loan:y}=o,{fee:f}=c;s([[Number(y.principal),Number(y.repayment),d.id,d.address,y.duration,Number(f.bps),y.currency,u.address],[m.nonce,y.expiry,m.address,x],[u.address,0]])}catch(e){console.error("Failed to get signed loan offer:",e)}}},12052:function(e){"use strict";e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"value","type":"string"},{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"URI","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"","type":"uint256"},{"indexed":false,"internalType":"string","name":"newData","type":"string"}],"name":"UpdateConfiguration","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"","type":"uint256"},{"indexed":false,"internalType":"string","name":"newData","type":"string"}],"name":"UpdateOperatingAgreement","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"string","name":"dataType","type":"string"},{"indexed":false,"internalType":"address","name":"validator","type":"address"}],"name":"UpdateValidator","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"_property","outputs":[{"internalType":"uint256","name":"supply","type":"uint256"},{"internalType":"string","name":"operatingAgreement","type":"string"},{"internalType":"string","name":"definition","type":"string"},{"internalType":"string","name":"configuration","type":"string"},{"internalType":"address","name":"validator","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"name":"burnBatch","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"sessionId","type":"uint256"},{"internalType":"string","name":"operatingAgreement","type":"string"}],"name":"generateId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"recipients","type":"address[]"},{"internalType":"uint256","name":"sessionId","type":"uint256"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"string","name":"definition","type":"string"},{"internalType":"string","name":"operatingAgreement","type":"string"},{"internalType":"string","name":"configuration","type":"string"},{"internalType":"address","name":"validator","type":"address"}],"name":"mint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"recipients","type":"address[]"},{"internalType":"uint256[]","name":"sessionIds","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"string[]","name":"definitions","type":"string[]"},{"internalType":"string[]","name":"operatingAgreements","type":"string[]"},{"internalType":"string[]","name":"configurations","type":"string[]"},{"internalType":"address[]","name":"validators","type":"address[]"}],"name":"mintBatch","outputs":[{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"configuration","type":"string"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"updateConfiguration","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"operatingAgreement","type":"string"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"updateOperatingAgreement","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"validator","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"updateValidator","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},45399:function(e){"use strict";e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_admin","type":"address"},{"internalType":"address","name":"_nftfiHub","type":"address"},{"internalType":"address[]","name":"_permittedErc20s","type":"address[]"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"AdminFeeChanged","type":"error"},{"inputs":[],"name":"BasisPointsTooHigh","type":"error"},{"inputs":[],"name":"CurrencyDenominationNotPermitted","type":"error"},{"inputs":[],"name":"ERC20ZeroAddress","type":"error"},{"inputs":[],"name":"FunctionInformationArityMismatch","type":"error"},{"inputs":[],"name":"InvalidLenderSignature","type":"error"},{"inputs":[],"name":"InvalidNonce","type":"error"},{"inputs":[],"name":"LoanAlreadyRepaidOrLiquidated","type":"error"},{"inputs":[],"name":"LoanDurationCannotBeZero","type":"error"},{"inputs":[],"name":"LoanDurationExceedsMaximum","type":"error"},{"inputs":[],"name":"LoanDurationOverflow","type":"error"},{"inputs":[],"name":"LoanNotOverdueYet","type":"error"},{"inputs":[],"name":"NFTCollateralContractNotPermitted","type":"error"},{"inputs":[],"name":"NFTNotOwned","type":"error"},{"inputs":[],"name":"NegativeInterestRate","type":"error"},{"inputs":[],"name":"NoNFTsOwned","type":"error"},{"inputs":[],"name":"NoTokensInEscrow","type":"error"},{"inputs":[],"name":"NoTokensOwned","type":"error"},{"inputs":[],"name":"OnlyLenderCanLiquidate","type":"error"},{"inputs":[],"name":"RenegotiationSignatureInvalid","type":"error"},{"inputs":[],"name":"SenderNotBorrower","type":"error"},{"inputs":[],"name":"TokenIsCollateral","type":"error"},{"inputs":[],"name":"TokensInEscrow","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint16","name":"newAdminFee","type":"uint16"}],"name":"AdminFeeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc20Contract","type":"address"},{"indexed":false,"internalType":"bool","name":"isPermitted","type":"bool"}],"name":"ERC20Permit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint32","name":"loanId","type":"uint32"}],"name":"EscrowRepay","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint32","name":"loanId","type":"uint32"},{"indexed":true,"internalType":"address","name":"borrower","type":"address"},{"indexed":true,"internalType":"address","name":"lender","type":"address"},{"indexed":false,"internalType":"uint256","name":"loanPrincipalAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"nftCollateralId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"loanMaturityDate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"loanLiquidationDate","type":"uint256"},{"indexed":false,"internalType":"address","name":"nftCollateralContract","type":"address"}],"name":"LoanLiquidated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint32","name":"loanId","type":"uint32"},{"indexed":true,"internalType":"address","name":"borrower","type":"address"},{"indexed":true,"internalType":"address","name":"lender","type":"address"},{"indexed":false,"internalType":"uint32","name":"newLoanDuration","type":"uint32"},{"indexed":false,"internalType":"uint256","name":"newMaximumRepaymentAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"renegotiationFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"renegotiationAdminFee","type":"uint256"}],"name":"LoanRenegotiated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint32","name":"loanId","type":"uint32"},{"indexed":true,"internalType":"address","name":"borrower","type":"address"},{"indexed":true,"internalType":"address","name":"lender","type":"address"},{"indexed":false,"internalType":"uint256","name":"loanPrincipalAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"nftCollateralId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountPaidToLender","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"adminFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"revenueShare","type":"uint256"},{"indexed":false,"internalType":"address","name":"revenueSharePartner","type":"address"},{"indexed":false,"internalType":"address","name":"nftCollateralContract","type":"address"},{"indexed":false,"internalType":"address","name":"loanERC20Denomination","type":"address"}],"name":"LoanRepaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint32","name":"loanId","type":"uint32"},{"indexed":true,"internalType":"address","name":"borrower","type":"address"},{"indexed":true,"internalType":"address","name":"lender","type":"address"},{"components":[{"internalType":"uint256","name":"loanPrincipalAmount","type":"uint256"},{"internalType":"uint256","name":"maximumRepaymentAmount","type":"uint256"},{"internalType":"uint256","name":"nftCollateralId","type":"uint256"},{"internalType":"address","name":"loanERC20Denomination","type":"address"},{"internalType":"uint32","name":"loanDuration","type":"uint32"},{"internalType":"uint16","name":"loanInterestRateForDurationInBasisPoints","type":"uint16"},{"internalType":"uint16","name":"loanAdminFeeInBasisPoints","type":"uint16"},{"internalType":"address","name":"nftCollateralWrapper","type":"address"},{"internalType":"uint64","name":"loanStartTime","type":"uint64"},{"internalType":"address","name":"nftCollateralContract","type":"address"},{"internalType":"address","name":"borrower","type":"address"}],"indexed":false,"internalType":"struct LoanData.LoanTerms","name":"loanTerms","type":"tuple"},{"components":[{"internalType":"address","name":"revenueSharePartner","type":"address"},{"internalType":"uint16","name":"revenueShareInBasisPoints","type":"uint16"},{"internalType":"uint16","name":"referralFeeInBasisPoints","type":"uint16"}],"indexed":false,"internalType":"struct LoanData.LoanExtras","name":"loanExtras","type":"tuple"}],"name":"LoanStarted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newMaximumLoanDuration","type":"uint256"}],"name":"MaximumLoanDurationUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[],"name":"HUNDRED_PERCENT","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LOAN_COORDINATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LOAN_TYPE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"pure","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"loanPrincipalAmount","type":"uint256"},{"internalType":"uint256","name":"maximumRepaymentAmount","type":"uint256"},{"internalType":"uint256","name":"nftCollateralId","type":"uint256"},{"internalType":"address","name":"nftCollateralContract","type":"address"},{"internalType":"uint32","name":"loanDuration","type":"uint32"},{"internalType":"uint16","name":"loanAdminFeeInBasisPoints","type":"uint16"},{"internalType":"address","name":"loanERC20Denomination","type":"address"},{"internalType":"address","name":"referrer","type":"address"}],"internalType":"struct LoanData.Offer","name":"_offer","type":"tuple"},{"components":[{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"address","name":"signer","type":"address"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct LoanData.Signature","name":"_signature","type":"tuple"},{"components":[{"internalType":"address","name":"revenueSharePartner","type":"address"},{"internalType":"uint16","name":"referralFeeInBasisPoints","type":"uint16"}],"internalType":"struct LoanData.BorrowerSettings","name":"_borrowerSettings","type":"tuple"}],"name":"acceptOffer","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"acceptTransferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"adminFeeInBasisPoints","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"cancelLoanCommitmentBeforeLoanHasBegun","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cancelTransferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"address","name":"_receiver","type":"address"}],"name":"drainERC1155Airdrop","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"_receiver","type":"address"}],"name":"drainERC20Airdrop","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"address","name":"_receiver","type":"address"}],"name":"drainERC721Airdrop","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_erc20","type":"address"}],"name":"getERC20Permit","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"}],"name":"getEscrowedPayBack","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint32","name":"_loanId","type":"uint32"}],"name":"getPayoffAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getWhetherNonceHasBeenUsedForUser","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"hub","outputs":[{"internalType":"contract INftfiHub","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint32","name":"_loanId","type":"uint32"}],"name":"liquidateOverdueLoan","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint32","name":"","type":"uint32"}],"name":"loanIdToLoan","outputs":[{"internalType":"uint256","name":"loanPrincipalAmount","type":"uint256"},{"internalType":"uint256","name":"maximumRepaymentAmount","type":"uint256"},{"internalType":"uint256","name":"nftCollateralId","type":"uint256"},{"internalType":"address","name":"loanERC20Denomination","type":"address"},{"internalType":"uint32","name":"loanDuration","type":"uint32"},{"internalType":"uint16","name":"loanInterestRateForDurationInBasisPoints","type":"uint16"},{"internalType":"uint16","name":"loanAdminFeeInBasisPoints","type":"uint16"},{"internalType":"address","name":"nftCollateralWrapper","type":"address"},{"internalType":"uint64","name":"loanStartTime","type":"uint64"},{"internalType":"address","name":"nftCollateralContract","type":"address"},{"internalType":"address","name":"borrower","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint32","name":"","type":"uint32"}],"name":"loanIdToLoanExtras","outputs":[{"internalType":"address","name":"revenueSharePartner","type":"address"},{"internalType":"uint16","name":"revenueShareInBasisPoints","type":"uint16"},{"internalType":"uint16","name":"referralFeeInBasisPoints","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint32","name":"","type":"uint32"}],"name":"loanRepaidOrLiquidated","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maximumLoanDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint32","name":"_loanId","type":"uint32"}],"name":"mintObligationReceipt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155BatchReceived","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC1155Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC721Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint32","name":"_loanId","type":"uint32"}],"name":"payBackLoan","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint32","name":"_loanId","type":"uint32"}],"name":"payBackLoanSafe","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rejectTransferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint32","name":"_loanId","type":"uint32"},{"internalType":"uint32","name":"_newLoanDuration","type":"uint32"},{"internalType":"uint256","name":"_newMaximumRepaymentAmount","type":"uint256"},{"internalType":"uint256","name":"_renegotiationFee","type":"uint256"},{"internalType":"uint256","name":"_lenderNonce","type":"uint256"},{"internalType":"uint256","name":"_expiry","type":"uint256"},{"internalType":"bytes","name":"_lenderSignature","type":"bytes"}],"name":"renegotiateLoan","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newOwnerCandidate","type":"address"}],"name":"requestTransferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_erc20","type":"address"},{"internalType":"bool","name":"_permit","type":"bool"}],"name":"setERC20Permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_erc20s","type":"address[]"},{"internalType":"bool[]","name":"_permits","type":"bool[]"}],"name":"setERC20Permits","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"_interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"_newAdminFeeInBasisPoints","type":"uint16"}],"name":"updateAdminFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newMaximumLoanDuration","type":"uint256"}],"name":"updateMaximumLoanDuration","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}},function(e){e.O(0,[6736,3814,1473,8140,8173,9892,831,6261,6323,9931,5076,6064,1393,7725,2309,7827,6460,5360,2805,2382,2971,7023,1744],function(){return e(e.s=22455)}),_N_E=e.O()}]);
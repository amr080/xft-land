(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7621],{46111:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSDK=void 0;let n=r(5814),i=r(99285),s=r(97042),o=r(13603),a=r(61316),u=r(21130),c=r(88539),l=r(6580),h=r(49331),d=r(95832),f=r(54750);class p{constructor(e){var t,r,n;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;let a=e.linkAPIUrl||i.LINK_API_URL;void 0===e.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t,this._overrideIsCoinbaseBrowser=null!==(r=e.overrideIsCoinbaseBrowser)&&void 0!==r&&r,this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=null===(n=e.reloadOnDisconnect)||void 0===n||n;let g=new URL(a),y=`${g.protocol}//${g.host}`;if(this._storage=new o.ScopedLocalStorage(`-walletlink:${y}`),this._storage.setItem("version",p.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new l.RelayEventManager;let v=(0,s.isMobileWeb)(),m=e.uiConstructor||(e=>v?new c.MobileRelayUI(e):new h.WalletLinkRelayUI(e)),b={linkAPIUrl:a,version:f.LIB_VERSION,darkMode:!!e.darkMode,headlessMode:!!e.headlessMode,uiConstructor:m,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:e.enableMobileWalletLink};if(this._relay=v?new u.MobileRelay(b):new d.WalletLinkRelay(b),this.setAppInfo(e.appName,e.appLogoUrl),e.headlessMode)return;this._relay.attachUI()}makeWeb3Provider(e="",t=1){let r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(e,t),!1===this._reloadOnDisconnect&&"function"==typeof r.disableReloadOnDisconnect&&r.disableReloadOnDisconnect(),r;let n=this.coinbaseBrowser;if(n)return n;let i=this._relay;if(!i||!this._relayEventManager||!this._storage)throw Error("Relay not initialized, should never happen");return e||i.setConnectDisabled(!0),new a.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(i),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,t){var r;this._appName=e||"DApp",this._appLogoUrl=t||(0,s.getFavicon)();let n=this.walletExtension;n?this.isCipherProvider(n)||n.setAppInfo(this._appName,this._appLogoUrl):null===(r=this._relay)||void 0===r||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;let t=this===null||void 0===this?void 0:this.walletExtension;t?t.close():null===(e=this._relay)||void 0===e||e.resetAndReload()}getQrUrl(){var e,t;return null!==(t=null===(e=this._relay)||void 0===e?void 0:e.getQRCodeUrl())&&void 0!==t?t:null}getCoinbaseWalletLogo(e,t=240){return(0,n.walletLogo)(e,t)}get walletExtension(){var e;return null!==(e=window.coinbaseWalletExtension)&&void 0!==e?e:window.walletLinkExtension}get coinbaseBrowser(){var e,t;try{let r=null!==(e=window.ethereum)&&void 0!==e?e:null===(t=window.top)||void 0===t?void 0:t.ethereum;if(!r)return;if("isCoinbaseBrowser"in r&&r.isCoinbaseBrowser)return r;return}catch(e){return}}isCipherProvider(e){return"boolean"==typeof e.isCipher&&e.isCipher}}t.CoinbaseWalletSDK=p,p.VERSION=f.LIB_VERSION},5814:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.walletLogo=void 0,t.walletLogo=(e,t)=>{let r;switch(e){case"standard":default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`}}},99285:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LINK_API_URL=void 0,t.LINK_API_URL="https://www.walletlink.org"},4406:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.standardErrorCodes=void 0,t.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}}},71839:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=void 0;let n=r(4406),i=r(86687);function s(e,t){let[r,n]=a(t);return new u(e,r||(0,i.getMessageFromCode)(e),n)}function o(e,t){let[r,n]=a(t);return new c(e,r||(0,i.getMessageFromCode)(e),n)}function a(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,r]}}return[]}t.standardErrors={rpc:{parse:e=>s(n.standardErrorCodes.rpc.parse,e),invalidRequest:e=>s(n.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>s(n.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>s(n.standardErrorCodes.rpc.methodNotFound,e),internal:e=>s(n.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:e=>s(n.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>s(n.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>s(n.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>s(n.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>s(n.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>s(n.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>o(n.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>o(n.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>o(n.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>o(n.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>o(n.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>o(n.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw Error('"message" must be a nonempty string');return new c(t,r,n)}}};class u extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}}class c extends u{constructor(e,t,r){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},39172:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=t.standardErrorCodes=t.serializeError=t.getMessageFromCode=t.getErrorCode=void 0;let n=r(4406);Object.defineProperty(t,"standardErrorCodes",{enumerable:!0,get:function(){return n.standardErrorCodes}});let i=r(71839);Object.defineProperty(t,"standardErrors",{enumerable:!0,get:function(){return i.standardErrors}});let s=r(47224);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return s.serializeError}});let o=r(86687);Object.defineProperty(t,"getErrorCode",{enumerable:!0,get:function(){return o.getErrorCode}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return o.getMessageFromCode}})},47224:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=void 0;let n=r(44143),i=r(54750),s=r(4406),o=r(86687);t.serializeError=function(e,t){let r=(0,o.serialize)("string"==typeof e?{message:e,code:s.standardErrorCodes.rpc.internal}:(0,n.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e,{shouldIncludeStack:!0}),a=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");a.searchParams.set("version",i.LIB_VERSION),a.searchParams.set("code",r.code.toString());let u=function(e,t){let r=null==e?void 0:e.method;if(r)return r;if(void 0===t);else if("string"==typeof t)return t;else if(!Array.isArray(t))return t.method;else if(t.length>0)return t[0].method}(r.data,t);return u&&a.searchParams.set("method",u),a.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:a.href})}},86687:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.getErrorCode=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let n=r(4406),i="Unspecified error message.";function s(e,r=i){if(e&&Number.isInteger(e)){let r=e.toString();if(u(n.errorValues,r))return n.errorValues[r].message;if(e>=-32099&&e<=-32e3)return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function o(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(n.errorValues[t]||e>=-32099&&e<=-32e3)}function a(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return"object"==typeof e&&null!==e&&t in e&&"string"==typeof e[t]}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=o,t.getErrorCode=function(e){var t;return"number"==typeof e?e:"object"==typeof e&&null!==e&&("number"==typeof e.code||"number"==typeof e.errorCode)?null!==(t=e.code)&&void 0!==t?t:e.errorCode:void 0},t.serialize=function(e,{shouldIncludeStack:t=!1}={}){let r={};return e&&"object"==typeof e&&!Array.isArray(e)&&u(e,"code")&&o(e.code)?(r.code=e.code,e.message&&"string"==typeof e.message?(r.message=e.message,u(e,"data")&&(r.data=e.data)):(r.message=s(r.code),r.data={originalError:a(e)})):(r.code=n.standardErrorCodes.rpc.internal,r.message=c(e,"message")?e.message:i,r.data={originalError:a(e)}),t&&(r.stack=c(e,"stack")?e.stack:void 0),r}},91873:function(e,t){"use strict";var r,n;function i(){return e=>e}Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0,t.OpaqueType=i,t.HexString=i(),t.AddressString=i(),t.BigIntString=i(),t.IntNumber=function(e){return Math.floor(e)},t.RegExpString=i(),(n=r||(t.ProviderType=r={})).CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""},97042:function(e,t,r){"use strict";var n=r(9109).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileWeb=t.getLocation=t.isInIFrame=t.createQrUrl=t.getFavicon=t.range=t.isBigNumber=t.ensureParsedJSONObject=t.ensureBN=t.ensureRegExpString=t.ensureIntNumber=t.ensureBuffer=t.ensureAddressString=t.ensureEvenLengthHexString=t.ensureHexString=t.isHexString=t.prepend0x=t.strip0x=t.has0xPrefix=t.hexStringFromIntNumber=t.intNumberFromHexString=t.bigIntStringFromBN=t.hexStringFromBuffer=t.hexStringToUint8Array=t.uint8ArrayToHex=t.randomBytesHex=void 0;let s=i(r(58171)),o=r(39172),a=r(91873),u=/^[0-9]*$/,c=/^[a-f0-9]*$/;function l(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}function h(e){return e.startsWith("0x")||e.startsWith("0X")}function d(e){return h(e)?e.slice(2):e}function f(e){return h(e)?`0x${e.slice(2)}`:`0x${e}`}function p(e){if("string"!=typeof e)return!1;let t=d(e).toLowerCase();return c.test(t)}function g(e,t=!1){if("string"==typeof e){let r=d(e).toLowerCase();if(c.test(r))return(0,a.HexString)(t?`0x${r}`:r)}throw o.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}function y(e,t=!1){let r=g(e,!1);return r.length%2==1&&(r=(0,a.HexString)(`0${r}`)),t?(0,a.HexString)(`0x${r}`):r}function v(e){if("number"==typeof e&&Number.isInteger(e))return(0,a.IntNumber)(e);if("string"==typeof e){if(u.test(e))return(0,a.IntNumber)(Number(e));if(p(e))return(0,a.IntNumber)(new s.default(y(e,!1),16).toNumber())}throw o.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}function m(e){if(null==e||"function"!=typeof e.constructor)return!1;let{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}function b(){try{return null!==window.frameElement}catch(e){return!1}}t.randomBytesHex=function(e){return l(crypto.getRandomValues(new Uint8Array(e)))},t.uint8ArrayToHex=l,t.hexStringToUint8Array=function(e){return new Uint8Array(e.match(/.{1,2}/g).map(e=>parseInt(e,16)))},t.hexStringFromBuffer=function(e,t=!1){let r=e.toString("hex");return(0,a.HexString)(t?`0x${r}`:r)},t.bigIntStringFromBN=function(e){return(0,a.BigIntString)(e.toString(10))},t.intNumberFromHexString=function(e){return(0,a.IntNumber)(new s.default(y(e,!1),16).toNumber())},t.hexStringFromIntNumber=function(e){return(0,a.HexString)(`0x${new s.default(e).toString(16)}`)},t.has0xPrefix=h,t.strip0x=d,t.prepend0x=f,t.isHexString=p,t.ensureHexString=g,t.ensureEvenLengthHexString=y,t.ensureAddressString=function(e){if("string"==typeof e){let t=d(e).toLowerCase();if(p(t)&&40===t.length)return(0,a.AddressString)(f(t))}throw o.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)},t.ensureBuffer=function(e){if(n.isBuffer(e))return e;if("string"==typeof e){if(p(e)){let t=y(e,!1);return n.from(t,"hex")}return n.from(e,"utf8")}throw o.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)},t.ensureIntNumber=v,t.ensureRegExpString=function(e){if(e instanceof RegExp)return(0,a.RegExpString)(e.toString());throw o.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)},t.ensureBN=function(e){if(null!==e&&(s.default.isBN(e)||m(e)))return new s.default(e.toString(10),10);if("number"==typeof e)return new s.default(v(e));if("string"==typeof e){if(u.test(e))return new s.default(e,10);if(p(e))return new s.default(y(e,!1),16)}throw o.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)},t.ensureParsedJSONObject=function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw o.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)},t.isBigNumber=m,t.range=function(e,t){return Array.from({length:t-e},(t,r)=>e+r)},t.getFavicon=function(){let e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`},t.createQrUrl=function(e,t,r,n,i,s){let o=new URLSearchParams({[n?"parent-id":"id"]:e,secret:t,server:r,v:i,chainId:s.toString()}).toString();return`${r}/#/link?${o}`},t.isInIFrame=b,t.getLocation=function(){try{if(b()&&window.top)return window.top.location;return window.location}catch(e){return window.location}},t.isMobileWeb=function(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null===(e=null==window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)}},86080:function(e,t,r){"use strict";t.jp=void 0;let n=r(46111),i=r(61316);var s=r(46111);Object.defineProperty(t,"jp",{enumerable:!0,get:function(){return s.CoinbaseWalletSDK}}),r(61316),n.CoinbaseWalletSDK,"undefined"!=typeof window&&(window.CoinbaseWalletSDK=n.CoinbaseWalletSDK,window.CoinbaseWalletProvider=i.CoinbaseWalletProvider,window.WalletLink=n.CoinbaseWalletSDK,window.WalletLinkProvider=i.CoinbaseWalletProvider)},15677:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cipher=void 0;let n=r(97042);class i{constructor(e){this.secret=e}async encrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");let r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,n.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=o.slice(o.byteLength-16),u=o.slice(0,o.byteLength-16),c=new Uint8Array(a),l=new Uint8Array(u),h=new Uint8Array([...r,...c,...l]);return(0,n.uint8ArrayToHex)(h)}async decrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");return new Promise((r,i)=>{!async function(){let s=await crypto.subtle.importKey("raw",(0,n.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,n.hexStringToUint8Array)(e),a=o.slice(0,12),u=o.slice(12,28),c=new Uint8Array([...o.slice(28),...u]),l={name:"AES-GCM",iv:new Uint8Array(a)};try{let e=await window.crypto.subtle.decrypt(l,s,c),t=new TextDecoder;r(t.decode(e))}catch(e){i(e)}}()})}}t.Cipher=i},13603:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScopedLocalStorage=void 0;class r{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){let e=this.scopedKey(""),t=[];for(let r=0;r<localStorage.length;r++){let n=localStorage.key(r);"string"==typeof n&&n.startsWith(e)&&t.push(n)}t.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return`${this.scope}:${e}`}}t.ScopedLocalStorage=r},20877:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'},75874:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.injectCssReset=void 0;let i=n(r(20877));t.injectCssReset=function(){let e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(i.default)),document.documentElement.appendChild(e)}},61316:function(e,t,r){"use strict";var n=r(9109).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=void 0;let s=i(r(58171)),o=r(37836),a=r(39172),u=r(97042),c=r(21130),l=r(27825),h=r(61019),d=r(44143),f=i(r(80745)),p=r(4813),g=r(65057),y=r(73819),v="DefaultChainId",m="DefaultJsonRpcUrl";class b extends o.EventEmitter{constructor(e){var t,r;super(),this._filterPolyfill=new g.FilterPolyfill(this),this._subscriptionManager=new y.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t,this.isCoinbaseBrowser=null!==(r=e.overrideIsCoinbaseBrowser)&&void 0!==r&&r,this.qrUrl=e.qrUrl;let n=this.getChainId(),i=(0,u.prepend0x)(n.toString(16));this.emit("connect",{chainIdStr:i});let s=this._storage.getItem(l.LOCAL_STORAGE_ADDRESSES_KEY);if(s){let e=s.split(" ");""!==e[0]&&(this._addresses=e.map(e=>(0,u.ensureAddressString)(e)),this.emit("accountsChanged",e))}this._subscriptionManager.events.on("notification",e=>{this.emit("message",{type:e.method,data:e.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",e=>{var t;if(e.origin===location.origin&&e.source===window&&"walletLinkMessage"===e.data.type&&"dappChainSwitched"===e.data.data.action){let r=e.data.data.chainId,n=null!==(t=e.data.data.jsonRpcUrl)&&void 0!==t?t:this.jsonRpcUrl;this.updateProviderInfo(n,Number(r))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,u.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return null!==(e=this._storage.getItem(m))&&void 0!==e?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(m,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,t){this.isCoinbaseBrowser||(this._chainIdFromOpts=t,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,t){this.jsonRpcUrl=e;let r=this.getChainId();this._storage.setItem(v,t.toString(10)),(0,u.ensureIntNumber)(t)===r&&this.hasMadeFirstChainChangedEmission||(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,t,r,n,i,s){let o=await this.initializeRelay(),a=await o.watchAsset(e,t,r,n,i,null==s?void 0:s.toString()).promise;return!(0,d.isErrorResponse)(a)&&!!a.result}async addEthereumChain(e,t,r,n,i,s){var o,a;if((0,u.ensureIntNumber)(e)===this.getChainId())return!1;let c=await this.initializeRelay(),l=c.inlineAddEthereumChain(e.toString());this._isAuthorized()||l||await c.requestEthereumAccounts().promise;let h=await c.addEthereumChain(e.toString(),t,i,r,n,s).promise;return!(0,d.isErrorResponse)(h)&&((null===(o=h.result)||void 0===o?void 0:o.isApproved)===!0&&this.updateProviderInfo(t[0],e),(null===(a=h.result)||void 0===a?void 0:a.isApproved)===!0)}async switchEthereumChain(e){let t=await this.initializeRelay(),r=await t.switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,d.isErrorResponse)(r)){if(!r.errorCode)return;if(r.errorCode===a.standardErrorCodes.provider.unsupportedChain)throw a.standardErrors.provider.unsupportedChain();throw a.standardErrors.provider.custom({message:r.errorMessage,code:r.errorCode})}let n=r.result;n.isApproved&&n.rpcUrl.length>0&&this.updateProviderInfo(n.rpcUrl,e)}setAppInfo(e,t){this.initializeRelay().then(r=>r.setAppInfo(e,t))}async enable(){var e;return(null===(e=this.diagnostic)||void 0===e||e.log(p.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?h.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(e,t){try{let r=this._send(e,t);if(r instanceof Promise)return r.catch(t=>{throw(0,a.serializeError)(t,e)})}catch(t){throw(0,a.serializeError)(t,e)}}_send(e,t){if("string"==typeof e){let r=Array.isArray(t)?t:void 0!==t?[t]:[];return this._sendRequestAsync({jsonrpc:"2.0",id:0,method:e,params:r}).then(e=>e.result)}return"function"==typeof t?this._sendAsync(e,t):Array.isArray(e)?e.map(e=>this._sendRequest(e)):this._sendRequest(e)}async sendAsync(e,t){try{return this._sendAsync(e,t).catch(t=>{throw(0,a.serializeError)(t,e)})}catch(t){return Promise.reject((0,a.serializeError)(t,e))}}async _sendAsync(e,t){if("function"!=typeof t)throw Error("callback is required");if(Array.isArray(e)){this._sendMultipleRequestsAsync(e).then(e=>t(null,e)).catch(e=>t(e,null));return}return this._sendRequestAsync(e).then(e=>t(null,e)).catch(e=>t(e,null))}async request(e){try{return this._request(e).catch(t=>{throw(0,a.serializeError)(t,e.method)})}catch(t){return Promise.reject((0,a.serializeError)(t,e.method))}}async _request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw a.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});let{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw a.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw a.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});let n=void 0===r?[]:r,i=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:t,params:n,jsonrpc:"2.0",id:i})).result}async scanQRCode(e){let t=await this.initializeRelay(),r=await t.scanQRCode((0,u.ensureRegExpString)(e)).promise;if((0,d.isErrorResponse)(r))throw(0,a.serializeError)(r.errorMessage,"scanQRCode");if("string"!=typeof r.result)throw(0,a.serializeError)("result was not a string","scanQRCode");return r.result}async genericRequest(e,t){let r=await this.initializeRelay(),n=await r.genericRequest(e,t).promise;if((0,d.isErrorResponse)(n))throw(0,a.serializeError)(n.errorMessage,"generic");if("string"!=typeof n.result)throw(0,a.serializeError)("result was not a string","generic");return n.result}async connectAndSignIn(e){var t;let r;null===(t=this.diagnostic)||void 0===t||t.log(p.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?h.Session.hash(this._relay.session.id):void 0});try{let t=await this.initializeRelay();if(!(t instanceof c.MobileRelay))throw Error("connectAndSignIn is only supported on mobile");if(r=await t.connectAndSignIn(e).promise,(0,d.isErrorResponse)(r))throw Error(r.errorMessage)}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw a.standardErrors.provider.userRejectedRequest("User denied account authorization");throw e}if(!r.result)throw Error("accounts received is empty");let{accounts:n}=r.result;return this._setAddresses(n),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),r.result}async selectProvider(e){let t=await this.initializeRelay(),r=await t.selectProvider(e).promise;if((0,d.isErrorResponse)(r))throw(0,a.serializeError)(r.errorMessage,"selectProvider");if("string"!=typeof r.result)throw(0,a.serializeError)("result was not a string","selectProvider");return r.result}supportsSubscriptions(){return!1}subscribe(){throw Error("Subscriptions are not supported")}unsubscribe(){throw Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){let t={jsonrpc:"2.0",id:e.id},{method:r}=e;if(t.result=this._handleSynchronousMethods(e),void 0===t.result)throw Error(`Coinbase Wallet does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return t}_setAddresses(e,t){if(!Array.isArray(e))throw Error("addresses is not an array");let r=e.map(e=>(0,u.ensureAddressString)(e));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses=r,this.emit("accountsChanged",this._addresses),this._storage.setItem(l.LOCAL_STORAGE_ADDRESSES_KEY,r.join(" ")))}_sendRequestAsync(e){return new Promise((t,r)=>{try{let n=this._handleSynchronousMethods(e);if(void 0!==n)return t({jsonrpc:"2.0",id:e.id,result:n});let i=this._handleAsynchronousFilterMethods(e);if(void 0!==i){i.then(r=>t(Object.assign(Object.assign({},r),{id:e.id}))).catch(e=>r(e));return}let s=this._handleSubscriptionMethods(e);if(void 0!==s){s.then(r=>t({jsonrpc:"2.0",id:e.id,result:r.result})).catch(e=>r(e));return}}catch(e){return r(e)}this._handleAsynchronousMethods(e).then(r=>r&&t(Object.assign(Object.assign({},r),{id:e.id}))).catch(e=>r(e))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(e=>this._sendRequestAsync(e)))}_handleSynchronousMethods(e){let{method:t}=e,r=e.params||[];switch(t){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(r);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){let{method:t}=e,r=e.params||[];switch(t){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(r);case"eth_ecRecover":return this._eth_ecRecover(r);case"personal_sign":return this._personal_sign(r);case"personal_ecRecover":return this._personal_ecRecover(r);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(r);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(r);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(r);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(r);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(r);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(r);case"wallet_watchAsset":return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl).catch(t=>{var r;throw(t.code===a.standardErrorCodes.rpc.methodNotFound||t.code===a.standardErrorCodes.rpc.methodNotSupported)&&(null===(r=this.diagnostic)||void 0===r||r.log(p.EVENTS.METHOD_NOT_IMPLEMENTED,{method:e.method,sessionIdHash:this._relay?h.Session.hash(this._relay.session.id):void 0})),t})}_handleAsynchronousFilterMethods(e){let{method:t}=e,r=e.params||[];switch(t){case"eth_newFilter":return this._eth_newFilter(r);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(r);case"eth_getFilterLogs":return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(e){switch(e.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{let t=(0,u.ensureAddressString)(e);return this._addresses.map(e=>(0,u.ensureAddressString)(e)).includes(t)}catch(e){}return!1}_ensureKnownAddress(e){var t;if(!this._isKnownAddress(e))throw null===(t=this.diagnostic)||void 0===t||t.log(p.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),Error("Unknown Ethereum address")}_prepareTransactionParams(e){let t=e.from?(0,u.ensureAddressString)(e.from):this.selectedAddress;if(!t)throw Error("Ethereum address is unavailable");this._ensureKnownAddress(t);let r=e.to?(0,u.ensureAddressString)(e.to):null,i=null!=e.value?(0,u.ensureBN)(e.value):new s.default(0),o=e.data?(0,u.ensureBuffer)(e.data):n.alloc(0),a=null!=e.nonce?(0,u.ensureIntNumber)(e.nonce):null,c=null!=e.gasPrice?(0,u.ensureBN)(e.gasPrice):null,l=null!=e.maxFeePerGas?(0,u.ensureBN)(e.maxFeePerGas):null;return{fromAddress:t,toAddress:r,weiValue:i,data:o,nonce:a,gasPriceInWei:c,maxFeePerGas:l,maxPriorityFeePerGas:null!=e.maxPriorityFeePerGas?(0,u.ensureBN)(e.maxPriorityFeePerGas):null,gasLimit:null!=e.gas?(0,u.ensureBN)(e.gas):null,chainId:e.chainId?(0,u.ensureIntNumber)(e.chainId):this.getChainId()}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw a.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw a.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,t,r,n){this._ensureKnownAddress(t);try{let i=await this.initializeRelay(),s=await i.signEthereumMessage(e,t,r,n).promise;if((0,d.isErrorResponse)(s))throw Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw a.standardErrors.provider.userRejectedRequest("User denied message signature");throw e}}async _ethereumAddressFromSignedMessage(e,t,r){let n=await this.initializeRelay(),i=await n.ethereumAddressFromSignedMessage(e,t,r).promise;if((0,d.isErrorResponse)(i))throw Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,u.hexStringFromIntNumber)(this.getChainId())}getChainId(){let e=this._storage.getItem(v);if(!e)return(0,u.ensureIntNumber)(this._chainIdFromOpts);let t=parseInt(e,10);return(0,u.ensureIntNumber)(t)}async _eth_requestAccounts(){var e;let t;if(null===(e=this.diagnostic)||void 0===e||e.log(p.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?h.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});try{let e=await this.initializeRelay();if(t=await e.requestEthereumAccounts().promise,(0,d.isErrorResponse)(t))throw Error(t.errorMessage)}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw a.standardErrors.provider.userRejectedRequest("User denied account authorization");throw e}if(!t.result)throw Error("accounts received is empty");return this._setAddresses(t.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();let t=(0,u.ensureAddressString)(e[0]),r=(0,u.ensureBuffer)(e[1]);return this._signEthereumMessage(r,t,!1)}_eth_ecRecover(e){let t=(0,u.ensureBuffer)(e[0]),r=(0,u.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!1)}_personal_sign(e){this._requireAuthorization();let t=(0,u.ensureBuffer)(e[0]),r=(0,u.ensureAddressString)(e[1]);return this._signEthereumMessage(t,r,!0)}_personal_ecRecover(e){let t=(0,u.ensureBuffer)(e[0]),r=(0,u.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();let t=this._prepareTransactionParams(e[0]||{});try{let e=await this.initializeRelay(),r=await e.signEthereumTransaction(t).promise;if((0,d.isErrorResponse)(r))throw Error(r.errorMessage);return{jsonrpc:"2.0",id:0,result:r.result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw a.standardErrors.provider.userRejectedRequest("User denied transaction signature");throw e}}async _eth_sendRawTransaction(e){let t=(0,u.ensureBuffer)(e[0]),r=await this.initializeRelay(),n=await r.submitEthereumTransaction(t,this.getChainId()).promise;if((0,d.isErrorResponse)(n))throw Error(n.errorMessage);return{jsonrpc:"2.0",id:0,result:n.result}}async _eth_sendTransaction(e){this._requireAuthorization();let t=this._prepareTransactionParams(e[0]||{});try{let e=await this.initializeRelay(),r=await e.signAndSubmitEthereumTransaction(t).promise;if((0,d.isErrorResponse)(r))throw Error(r.errorMessage);return{jsonrpc:"2.0",id:0,result:r.result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw a.standardErrors.provider.userRejectedRequest("User denied transaction signature");throw e}}async _eth_signTypedData_v1(e){this._requireAuthorization();let t=(0,u.ensureParsedJSONObject)(e[0]),r=(0,u.ensureAddressString)(e[1]);this._ensureKnownAddress(r);let n=f.default.hashForSignTypedDataLegacy({data:t}),i=JSON.stringify(t,null,2);return this._signEthereumMessage(n,r,!1,i)}async _eth_signTypedData_v3(e){this._requireAuthorization();let t=(0,u.ensureAddressString)(e[0]),r=(0,u.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);let n=f.default.hashForSignTypedData_v3({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(n,t,!1,i)}async _eth_signTypedData_v4(e){this._requireAuthorization();let t=(0,u.ensureAddressString)(e[0]),r=(0,u.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);let n=f.default.hashForSignTypedData_v4({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(n,t,!1,i)}async _cbwallet_arbitrary(e){let t=e[0],r=e[1];if("string"!=typeof r)throw Error("parameter must be a string");if("object"!=typeof t||null===t)throw Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(t,r)}}async _wallet_addEthereumChain(e){var t,r,n,i;let s=e[0];if((null===(t=s.rpcUrls)||void 0===t?void 0:t.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!s.chainName||""===s.chainName.trim())throw a.standardErrors.rpc.invalidParams("chainName is a required field");if(!s.nativeCurrency)throw a.standardErrors.rpc.invalidParams("nativeCurrency is a required field");let o=parseInt(s.chainId,16);return await this.addEthereumChain(o,null!==(r=s.rpcUrls)&&void 0!==r?r:[],null!==(n=s.blockExplorerUrls)&&void 0!==n?n:[],s.chainName,null!==(i=s.iconUrls)&&void 0!==i?i:[],s.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){let t=e[0];return await this.switchEthereumChain(parseInt(t.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){let t=Array.isArray(e)?e[0]:e;if(!t.type)throw a.standardErrors.rpc.invalidParams("Type is required");if((null==t?void 0:t.type)!=="ERC20")throw a.standardErrors.rpc.invalidParams(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw a.standardErrors.rpc.invalidParams("Options are required");if(!(null==t?void 0:t.options.address))throw a.standardErrors.rpc.invalidParams("Address is required");let r=this.getChainId(),{address:n,symbol:i,image:s,decimals:o}=t.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(t.type,n,i,o,s,r)}}_eth_uninstallFilter(e){let t=(0,u.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(t)}async _eth_newFilter(e){let t=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(t)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){let t=(0,u.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(t)}_eth_getFilterLogs(e){let t=(0,u.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(t)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((e,t)=>this._setAddresses(e,t)),e.setChainCallback((e,t)=>{this.updateProviderInfo(t,parseInt(e,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}t.CoinbaseWalletProvider=b},4813:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=void 0,t.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}},65057:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterFromParam=t.FilterPolyfill=void 0;let n=r(91873),i=r(97042),s={jsonrpc:"2.0",id:0};class o{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,n.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=e}async newFilter(e){let t=a(e),r=this.makeFilterId(),n=await this.setInitialCursorPosition(r,t.fromBlock);return console.info(`Installing new log filter(${r}):`,t,"initial cursor position:",n),this.logFilters.set(r,t),this.setFilterTimeout(r),(0,i.hexStringFromIntNumber)(r)}async newBlockFilter(){let e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.info(`Installing new block filter (${e}) with initial cursor position:`,t),this.blockFilters.add(e),this.setFilterTimeout(e),(0,i.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){let e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.info(`Installing new block filter (${e}) with initial cursor position:`,t),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,i.hexStringFromIntNumber)(e)}uninstallFilter(e){let t=(0,i.intNumberFromHexString)(e);return console.info(`Uninstalling filter (${t})`),this.deleteFilter(t),!0}getFilterChanges(e){let t=(0,i.intNumberFromHexString)(e);return(this.timeouts.has(t)&&this.setFilterTimeout(t),this.logFilters.has(t))?this.getLogFilterChanges(t):this.blockFilters.has(t)?this.getBlockFilterChanges(t):this.pendingTransactionFilters.has(t)?this.getPendingTransactionFilterChanges(t):Promise.resolve(h())}async getFilterLogs(e){let t=(0,i.intNumberFromHexString)(e),r=this.logFilters.get(t);return r?this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_getLogs",params:[u(r)]})):h()}makeFilterId(){return(0,n.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((t,r)=>{this.provider.sendAsync(e,(e,n)=>e?r(e):Array.isArray(n)||null==n?r(Error(`unexpected response received: ${JSON.stringify(n)}`)):void t(n))})}deleteFilter(e){console.info(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){let t=this.logFilters.get(e),r=this.cursors.get(e);if(!r||!t)return h();let o=await this.getCurrentBlockHeight(),a="latest"===t.toBlock?o:t.toBlock;if(r>o||r>Number(t.toBlock))return d();console.info(`Fetching logs from ${r} to ${a} for filter ${e}`);let c=await this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_getLogs",params:[u(Object.assign(Object.assign({},t),{fromBlock:r,toBlock:a}))]}));if(Array.isArray(c.result)){let t=Math.max(...c.result.map(e=>(0,i.intNumberFromHexString)(e.blockNumber||"0x0")));if(t&&t>r){let i=(0,n.IntNumber)(t+1);console.info(`Moving cursor position for filter (${e}) from ${r} to ${i}`),this.cursors.set(e,i)}}return c}async getBlockFilterChanges(e){let t=this.cursors.get(e);if(!t)return h();let r=await this.getCurrentBlockHeight();if(t>r)return d();console.info(`Fetching blocks from ${t} to ${r} for filter (${e})`);let o=(await Promise.all((0,i.range)(t,r+1).map(e=>this.getBlockHashByNumber((0,n.IntNumber)(e))))).filter(e=>!!e),a=(0,n.IntNumber)(t+o.length);return console.info(`Moving cursor position for filter (${e}) from ${t} to ${a}`),this.cursors.set(e,a),Object.assign(Object.assign({},s),{result:o})}async getPendingTransactionFilterChanges(e){return Promise.resolve(d())}async setInitialCursorPosition(e,t){let r=await this.getCurrentBlockHeight(),n="number"==typeof t&&t>r?t:r;return this.cursors.set(e,n),n}setFilterTimeout(e){let t=this.timeouts.get(e);t&&window.clearTimeout(t);let r=window.setTimeout(()=>{console.info(`Filter (${e}) timed out`),this.deleteFilter(e)},3e5);this.timeouts.set(e,r)}async getCurrentBlockHeight(){let e=new Date;if(e.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=e;let t=await this._getCurrentBlockHeight();this.currentBlockHeight=t,this.resolvers.forEach(e=>e(t)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(e=>this.resolvers.push(e))}async _getCurrentBlockHeight(){let{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_blockNumber",params:[]}));return(0,i.intNumberFromHexString)((0,i.ensureHexString)(e))}async getBlockHashByNumber(e){let t=await this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_getBlockByNumber",params:[(0,i.hexStringFromIntNumber)(e),!1]}));return t.result&&"string"==typeof t.result.hash?(0,i.ensureHexString)(t.result.hash):null}}function a(e){return{fromBlock:c(e.fromBlock),toBlock:c(e.toBlock),addresses:void 0===e.address?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}function u(e){let t={fromBlock:l(e.fromBlock),toBlock:l(e.toBlock),topics:e.topics};return null!==e.addresses&&(t.address=e.addresses),t}function c(e){if(void 0===e||"latest"===e||"pending"===e)return"latest";if("earliest"===e)return(0,n.IntNumber)(0);if((0,i.isHexString)(e))return(0,i.intNumberFromHexString)(e);throw Error(`Invalid block option: ${String(e)}`)}function l(e){return"latest"===e?e:(0,i.hexStringFromIntNumber)(e)}function h(){return Object.assign(Object.assign({},s),{error:{code:-32e3,message:"filter not found"}})}function d(){return Object.assign(Object.assign({},s),{result:[]})}t.FilterPolyfill=o,t.filterFromParam=a},73819:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionManager=void 0;let n=r(15951),i=r(23617),s=()=>{};class o{constructor(e){let{events:t,middleware:r}=i({blockTracker:new n.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),provider:e});this.events=t,this.subscriptionMiddleware=r}async handleRequest(e){let t={};return await this.subscriptionMiddleware(e,t,s,s),t}destroy(){this.subscriptionMiddleware.destroy()}}t.SubscriptionManager=o},27825:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RelayAbstract=t.APP_VERSION_KEY=t.LOCAL_STORAGE_ADDRESSES_KEY=t.WALLET_USER_NAME_KEY=void 0;let n=r(39172);t.WALLET_USER_NAME_KEY="walletUsername",t.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",t.APP_VERSION_KEY="AppVersion";class i{async makeEthereumJSONRPCRequest(e,t){if(!t)throw Error("Error: No jsonRpcUrl provided");return window.fetch(t,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(t=>{if(!t)throw n.standardErrors.rpc.parse({});let{error:r}=t;if(r)throw(0,n.serializeError)(r,e.method);return t})}}t.RelayAbstract=i},6580:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RelayEventManager=void 0;let n=r(97042);class i{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;let e=this._nextRequestId,t=(0,n.prepend0x)(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}t.RelayEventManager=i},61019:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;let n=r(42724),i=r(97042),s="session:id",o="session:secret",a="session:linked";class u{constructor(e,t,r,s){this._storage=e,this._id=t||(0,i.randomBytesHex)(16),this._secret=r||(0,i.randomBytesHex)(32),this._key=new n.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!s}static load(e){let t=e.getItem(s),r=e.getItem(a),n=e.getItem(o);return t&&n?new u(e,t,n,"1"===r):null}static hash(e){return new n.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(s,this._id),this._storage.setItem(o,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(a,this._linked?"1":"0")}}t.Session=u},21130:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileRelay=void 0;let n=r(97042),i=r(95832),s=r(88539);class o extends i.WalletLinkRelay{constructor(e){var t;super(e),this._enableMobileWalletLink=null!==(t=e.enableMobileWalletLink)&&void 0!==t&&t}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{let e=(0,n.getLocation)();e.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(e.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(e,t){if(super.publishWeb3RequestEvent(e,t),!(this._enableMobileWalletLink&&this.ui instanceof s.MobileRelayUI))return;let r=!1;switch(t.method){case"requestEthereumAccounts":case"connectAndSignIn":r=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:r=!0,this.ui.openCoinbaseWalletDeeplink()}r&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(e){super.handleWeb3ResponseMessage(e)}connectAndSignIn(e){if(!this._enableMobileWalletLink)throw Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:e.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:e.statement,resources:e.resources}})}}t.MobileRelay=o},88539:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileRelayUI=void 0;let n=r(45281);class i{constructor(e){this.attached=!1,this.darkMode=!1,this.redirectDialog=new n.RedirectDialog,this.darkMode=e.darkMode}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(e){}redirectToCoinbaseWallet(e){let t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",window.location.href),e&&t.searchParams.append("wl_url",e);let r=document.createElement("a");r.target="cbw-opener",r.href=t.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}t.MobileRelayUI=i},95832:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkRelay=void 0;let n=r(39172),i=r(91873),s=r(97042),o=r(4813),a=r(27825),u=r(61019),c=r(26177),l=r(44143),h=r(49331);class d extends a.RelayAbstract{constructor(e){var t;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=e=>{var t;this.isLinked=e;let r=this.storage.getItem(a.LOCAL_STORAGE_ADDRESSES_KEY);if(e&&(this.session.linked=e),this.isUnlinkedErrorState=!1,r){let n=r.split(" "),i="true"===this.storage.getItem("IsStandaloneSigning");if(""!==n[0]&&!e&&this.session.linked&&!i){this.isUnlinkedErrorState=!0;let e=this.getSessionIdHash();null===(t=this.diagnostic)||void 0===t||t.log(o.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:e})}}},this.metadataUpdated=(e,t)=>{this.storage.setItem(e,t)},this.chainUpdated=(e,t)=>{(this.chainCallbackParams.chainId!==e||this.chainCallbackParams.jsonRpcUrl!==t)&&(this.chainCallbackParams={chainId:e,jsonRpcUrl:t},this.chainCallback&&this.chainCallback(e,t))},this.accountUpdated=e=>{this.accountsCallback&&this.accountsCallback([e]),d.accountRequestCallbackIds.size>0&&(Array.from(d.accountRequestCallbackIds.values()).forEach(t=>{this.invokeCallback(Object.assign(Object.assign({},{type:"WEB3_RESPONSE",id:t,response:{method:"requestEthereumAccounts",result:[e]}}),{id:t}))}),d.accountRequestCallbackIds.clear())},this.connectedUpdated=e=>{this.ui.setConnected(e)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;let{session:r,ui:n,connection:i}=this.subscribe();this._session=r,this.connection=i,this.relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=null===(t=e.reloadOnDisconnect)||void 0===t||t,this.ui=n}subscribe(){let e=u.Session.load(this.storage)||new u.Session(this.storage).save(),{linkAPIUrl:t,diagnostic:r}=this,n=new c.WalletLinkConnection({session:e,linkAPIUrl:t,diagnostic:r,listener:this}),{version:i,darkMode:s}=this.options,o=this.options.uiConstructor({linkAPIUrl:t,version:i,darkMode:s,session:e});return n.connect(),{session:e,ui:o,connection:n}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(e=>setTimeout(()=>e(null),1e3))]).then(()=>{var e,t;let r=this.ui.isStandalone();null===(e=this.diagnostic)||void 0===e||e.log(o.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();let n=u.Session.load(this.storage);if((null==n?void 0:n.id)===this._session.id?this.storage.clear():n&&(null===(t=this.diagnostic)||void 0===t||t.log(o.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:u.Session.hash(n.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);let{session:i,ui:s,connection:a}=this.subscribe();this._session=i,this.connection=a,this.ui=s,r&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(e=>{var t;null===(t=this.diagnostic)||void 0===t||t.log(o.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,t){this.appName=e,this.appLogoUrl=t}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,t){this.storage.setItem(e,t)}signEthereumMessage(e,t,r,n){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,s.hexStringFromBuffer)(e,!0),address:t,addPrefix:r,typedDataJson:n||null}})}ethereumAddressFromSignedMessage(e,t,r){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,s.hexStringFromBuffer)(e,!0),signature:(0,s.hexStringFromBuffer)(t,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,s.bigIntStringFromBN)(e.weiValue),data:(0,s.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,s.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,s.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,s.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,s.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,s.bigIntStringFromBN)(e.weiValue),data:(0,s.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,s.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,s.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,s.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,s.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,s.hexStringFromBuffer)(e,!0),chainId:t}})}scanQRCode(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}getQRCodeUrl(){return(0,s.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,t){return this.sendRequest({method:"generic",params:{action:t,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let t=null,r=(0,s.randomBytesHex)(8),n=n=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,n),null==t||t()};return{promise:new Promise((i,s)=>{this.ui.isStandalone()||(t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:n,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,e=>{if(null==t||t(),(0,l.isErrorResponse)(e))return s(Error(e.errorMessage));i(e)}),this.ui.isStandalone()?this.sendRequestStandalone(r,e):this.publishWeb3RequestEvent(r,e)}),cancel:n}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChain=e,this.ui instanceof h.WalletLinkRelayUI&&this.ui.setChainId(e)}publishWeb3RequestEvent(e,t){var r;let n={type:"WEB3_REQUEST",id:e,request:t},i=u.Session.load(this.storage);null===(r=this.diagnostic)||void 0===r||r.log(o.EVENTS.WEB3_REQUEST,{eventId:n.id,method:`relay::${t.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?u.Session.hash(i.id):"",isSessionMismatched:((null==i?void 0:i.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",n,!0).then(e=>{var r;null===(r=this.diagnostic)||void 0===r||r.log(o.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:n.id,method:`relay::${t.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?u.Session.hash(i.id):"",isSessionMismatched:((null==i?void 0:i.id)!==this._session.id).toString()})}).catch(e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n.id,response:{method:t.method,errorMessage:e.message}})})}publishWeb3RequestCanceledEvent(e){this.publishEvent("Web3RequestCanceled",{type:"WEB3_REQUEST_CANCELED",id:e},!1).then()}publishEvent(e,t,r){return this.connection.publishEvent(e,t,r)}handleWeb3ResponseMessage(e){var t;let{response:r}=e;if(null===(t=this.diagnostic)||void 0===t||t.log(o.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash()}),"requestEthereumAccounts"===r.method){d.accountRequestCallbackIds.forEach(t=>this.invokeCallback(Object.assign(Object.assign({},e),{id:t}))),d.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,t,r,i){var s;let o=null!==(s=null==r?void 0:r.message)&&void 0!==s?s:(0,n.getMessageFromCode)(i);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:{method:t,errorMessage:o,errorCode:i}})}invokeCallback(e){let t=this.relayEventManager.callbacks.get(e.id);t&&(t(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){let e={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},t=(0,s.randomBytesHex)(8),r=r=>{this.publishWeb3RequestCanceledEvent(t),this.handleErrorResponse(t,e.method,r)};return{promise:new Promise((i,s)=>{if(this.relayEventManager.callbacks.set(t,e=>{if(this.ui.hideRequestEthereumAccounts(),(0,l.isErrorResponse)(e))return s(Error(e.errorMessage));i(e)}),this.ui.inlineAccountsResponse())this.ui.requestEthereumAccounts({onCancel:r,onAccounts:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:"requestEthereumAccounts",result:e}})}});else{let e=n.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>r(e)})}d.accountRequestCallbackIds.add(t),this.ui.inlineAccountsResponse()||this.ui.isStandalone()||this.publishWeb3RequestEvent(t,e)}),cancel:r}}selectProvider(e){let t=(0,s.randomBytesHex)(8);return{cancel:e=>{this.publishWeb3RequestCanceledEvent(t),this.handleErrorResponse(t,"selectProvider",e)},promise:new Promise((r,n)=>{this.relayEventManager.callbacks.set(t,e=>{if((0,l.isErrorResponse)(e))return n(Error(e.errorMessage));r(e)}),this.ui.selectProvider&&this.ui.selectProvider({onApprove:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:"selectProvider",result:e}})},onCancel:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:"selectProvider",result:i.ProviderType.Unselected}})},providerOptions:e})})}}watchAsset(e,t,r,n,i,o){let a={method:"watchAsset",params:{type:e,options:{address:t,symbol:r,decimals:n,image:i},chainId:o}},u=null,c=(0,s.randomBytesHex)(8),h=e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,e),null==u||u()};return this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{cancel:h,promise:new Promise((s,h)=>{this.relayEventManager.callbacks.set(c,e=>{if(null==u||u(),(0,l.isErrorResponse)(e))return h(Error(e.errorMessage));s(e)}),this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"watchAsset",result:!0}})},onCancel:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"watchAsset",result:!1}})},type:e,address:t,symbol:r,decimals:n,image:i,chainId:o}),this.ui.inlineWatchAsset()||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,a)})}}addEthereumChain(e,t,r,n,i,o){let a={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:n,chainName:i,iconUrls:r,nativeCurrency:o}},u=null,c=(0,s.randomBytesHex)(8),h=e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,e),null==u||u()};return this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{promise:new Promise((t,r)=>{this.relayEventManager.callbacks.set(c,e=>{if(null==u||u(),(0,l.isErrorResponse)(e))return r(Error(e.errorMessage));t(e)}),this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},onApprove:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:e}}})},chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),this.ui.inlineAddEthereumChain(e)||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,a)}),cancel:h}}switchEthereumChain(e,t){let r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})},i=(0,s.randomBytesHex)(8);return{promise:new Promise((t,s)=>{this.relayEventManager.callbacks.set(i,e=>(0,l.isErrorResponse)(e)&&e.errorCode?s(n.standardErrors.provider.custom({code:e.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):(0,l.isErrorResponse)(e)?s(Error(e.errorMessage)):void t(e)),this.ui.switchEthereumChain({onCancel:t=>{var r;if(t){let s=null!==(r=(0,n.getErrorCode)(t))&&void 0!==r?r:n.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,"switchEthereumChain",t instanceof Error?t:n.standardErrors.provider.unsupportedChain(e),s)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},onApprove:e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:e}}})},chainId:r.params.chainId,address:r.params.address}),this.ui.inlineSwitchEthereumChain()||this.ui.isStandalone()||this.publishWeb3RequestEvent(i,r)}),cancel:e=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,e)}}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return u.Session.hash(this._session.id)}sendRequestStandalone(e,t){let r=r=>{this.handleErrorResponse(e,t.method,r)},n=t=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:t})};switch(t.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:t,onSuccess:n,onCancel:r});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:t,onSuccess:n,onCancel:r});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:t,onSuccess:n,onCancel:r});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:t,onSuccess:n});break;default:r()}}}t.WalletLinkRelay=d,d.accountRequestCallbackIds=new Set},26177:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkConnection=void 0;let n=r(91873),i=r(15677),s=r(4813),o=r(27825),a=r(61019),u=r(75584),c=r(51973);class l{constructor({session:e,linkAPIUrl:t,listener:r,diagnostic:l,WebSocketClass:h=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,n.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=e=>{e&&new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",t=>e.JsonRpcUrl&&this.handleChainUpdated(t,e.JsonRpcUrl)]]).forEach((t,r)=>{let n=e[r];void 0!==n&&t(n)})},this.handleDestroyed=e=>{var t,r;"1"===e&&(null===(t=this.listener)||void 0===t||t.resetAndReload(),null===(r=this.diagnostic)||void 0===r||r.log(s.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:a.Session.hash(this.session.id)}))},this.handleAccountUpdated=async e=>{var t,r;try{let r=await this.cipher.decrypt(e);null===(t=this.listener)||void 0===t||t.accountUpdated(r)}catch(e){null===(r=this.diagnostic)||void 0===r||r.log(s.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(e,t)=>{var r,n;try{let n=await this.cipher.decrypt(t);null===(r=this.listener)||void 0===r||r.metadataUpdated(e,n)}catch(t){null===(n=this.diagnostic)||void 0===n||n.log(s.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:e})}},this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated(o.WALLET_USER_NAME_KEY,e)},this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated(o.APP_VERSION_KEY,e)},this.handleChainUpdated=async(e,t)=>{var r,n;try{let n=await this.cipher.decrypt(e),i=await this.cipher.decrypt(t);null===(r=this.listener)||void 0===r||r.chainUpdated(n,i)}catch(e){null===(n=this.diagnostic)||void 0===n||n.log(s.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=e,this.cipher=new i.Cipher(e.secret),this.diagnostic=l,this.listener=r;let d=new c.WalletLinkWebSocket(`${t}/rpc`,h);d.setConnectionStateListener(async t=>{var r;null===(r=this.diagnostic)||void 0===r||r.log(s.EVENTS.CONNECTED_STATE_CHANGE,{state:t,sessionIdHash:a.Session.hash(e.id)});let n=!1;switch(t){case c.ConnectionState.DISCONNECTED:if(!this.destroyed){let e=async()=>{await new Promise(e=>setTimeout(e,5e3)),this.destroyed||d.connect().catch(()=>{e()})};e()}break;case c.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),n=!0}catch(e){}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},1e4),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();case c.ConnectionState.CONNECTING:}this.connected!==n&&(this.connected=n)}),d.setIncomingDataListener(t=>{var r,n,i;switch(t.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{let n="IsLinkedOK"===t.type?t.linked:void 0;null===(r=this.diagnostic)||void 0===r||r.log(s.EVENTS.LINKED,{sessionIdHash:a.Session.hash(e.id),linked:n,type:t.type,onlineGuests:t.onlineGuests}),this.linked=n||t.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":null===(n=this.diagnostic)||void 0===n||n.log(s.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:a.Session.hash(e.id),metadata_keys:t&&t.metadata?Object.keys(t.metadata):void 0}),this.handleSessionMetadataUpdated(t.metadata);break;case"Event":this.handleIncomingEvent(t)}void 0!==t.id&&(null===(i=this.requestResolutions.get(t.id))||void 0===i||i(t))}),this.ws=d,this.http=new u.WalletLinkHTTP(t,e.id,e.key)}connect(){var e;if(this.destroyed)throw Error("instance is destroyed");null===(e=this.diagnostic)||void 0===e||e.log(s.EVENTS.STARTED_CONNECTING,{sessionIdHash:a.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var e;this.destroyed=!0,this.ws.disconnect(),null===(e=this.diagnostic)||void 0===e||e.log(s.EVENTS.DISCONNECTED,{sessionIdHash:a.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(e){var t,r;this._connected=e,e&&(null===(t=this.onceConnected)||void 0===t||t.call(this)),null===(r=this.listener)||void 0===r||r.connectedUpdated(e)}setOnceConnected(e){return new Promise(t=>{this.connected?e().then(t):this.onceConnected=()=>{e().then(t),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(e){var t,r;this._linked=e,e&&(null===(t=this.onceLinked)||void 0===t||t.call(this)),null===(r=this.listener)||void 0===r||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}})}async handleIncomingEvent(e){var t,r;if("Event"===e.type&&"Web3Response"===e.event)try{let r=await this.cipher.decrypt(e.data),n=JSON.parse(r);if("WEB3_RESPONSE"!==n.type)return;null===(t=this.listener)||void 0===t||t.handleWeb3ResponseMessage(n)}catch(e){null===(r=this.diagnostic)||void 0===r||r.log(s.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(e=>this.handleIncomingEvent(e))}async setSessionMetadata(e,t){let r={type:"SetSessionConfig",id:(0,n.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[e]:t}};return this.setOnceConnected(async()=>{let e=await this.makeRequest(r);if("Fail"===e.type)throw Error(e.error||"failed to set session metadata")})}async publishEvent(e,t,r=!1){let i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,n.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{let e=await this.makeRequest(s);if("Fail"===e.type)throw Error(e.error||"failed to publish event");return e.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4){this.ws.disconnect();return}try{this.ws.sendData("h")}catch(e){}}async makeRequest(e,t=6e4){let r;let n=e.id;return this.sendData(e),Promise.race([new Promise((e,i)=>{r=window.setTimeout(()=>{i(Error(`request ${n} timed out`))},t)}),new Promise(e=>{this.requestResolutions.set(n,t=>{clearTimeout(r),e(t),this.requestResolutions.delete(n)})})])}async authenticate(){let e={type:"HostSession",id:(0,n.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},t=await this.makeRequest(e);if("Fail"===t.type)throw Error(t.error||"failed to authentcate")}sendIsLinked(){let e={type:"IsLinked",id:(0,n.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}sendGetSessionConfig(){let e={type:"GetSessionConfig",id:(0,n.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}}t.WalletLinkConnection=l},75584:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkHTTP=void 0;class r{constructor(e,t,r){this.linkAPIUrl=e,this.sessionId=t;let n=`${t}:${r}`;this.auth=`Basic ${btoa(n)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(e=>fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(e=>console.error("Unabled to mark event as failed:",e))}async fetchUnseenEvents(){var e;let t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){let{events:r,error:n}=await t.json();if(n)throw Error(`Check unseen events failed: ${n}`);let i=null!==(e=null==r?void 0:r.filter(e=>"Web3Response"===e.event).map(e=>({type:"Event",sessionId:this.sessionId,eventId:e.id,event:e.event,data:e.data})))&&void 0!==e?e:[];return this.markUnseenEventsAsSeen(i),i}throw Error(`Check unseen events failed: ${t.status}`)}}t.WalletLinkHTTP=r},51973:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkWebSocket=t.ConnectionState=void 0,(n=r||(t.ConnectionState=r={}))[n.DISCONNECTED=0]="DISCONNECTED",n[n.CONNECTING=1]="CONNECTING",n[n.CONNECTED=2]="CONNECTED";class i{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw Error("webSocket object is not null");return new Promise((e,t)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(e){t(e);return}null===(n=this.connectionStateListener)||void 0===n||n.call(this,r.CONNECTING),i.onclose=e=>{var n;this.clearWebSocket(),t(Error(`websocket error ${e.code}: ${e.reason}`)),null===(n=this.connectionStateListener)||void 0===n||n.call(this,r.DISCONNECTED)},i.onopen=t=>{var n;e(),null===(n=this.connectionStateListener)||void 0===n||n.call(this,r.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(e=>this.sendData(e)),this.pendingData=[])},i.onmessage=e=>{var t,r;if("h"===e.data)null===(t=this.incomingDataListener)||void 0===t||t.call(this,{type:"Heartbeat"});else try{let t=JSON.parse(e.data);null===(r=this.incomingDataListener)||void 0===r||r.call(this,t)}catch(e){}}})}disconnect(){var e;let{webSocket:t}=this;if(t){this.clearWebSocket(),null===(e=this.connectionStateListener)||void 0===e||e.call(this,r.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch(e){}}}sendData(e){let{webSocket:t}=this;if(!t){this.pendingData.push(e),this.connect();return}t.send(e)}clearWebSocket(){let{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}t.WalletLinkWebSocket=i},44143:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorResponse=void 0,t.isErrorResponse=function(e){return void 0!==e.errorMessage}},49331:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletLinkRelayUI=void 0;let n=r(75874),i=r(40624),s=r(89768);class o{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new s.Snackbar({darkMode:e.darkMode}),this.linkFlow=new i.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");let e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.linkFlow.attach(t),this.snackbar.attach(t),this.attached=!0,(0,n.injectCssReset)()}setConnected(e){this.linkFlow.setConnected(e)}setChainId(e){this.linkFlow.setChainId(e)}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return null!==(e=this.standalone)&&void 0!==e&&e}}t.WalletLinkRelayUI=o},492:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}"},79100:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSteps=t.ConnectContent=void 0;let i=n(r(10875)),s=r(57764),o=r(97042),a=r(54750),u=r(5418),c=r(57726),l=r(64068),h=r(32007),d=r(3501),f=n(r(492)),p=e=>"light"===e?"#FFFFFF":"#0A0B0D";function g({title:e,description:t,theme:r}){return(0,s.h)("div",{className:(0,i.default)("-cbwsdk-connect-item",r)},(0,s.h)("div",null,(0,s.h)(c.CoinbaseWalletRound,null)),(0,s.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,s.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,s.h)("p",{className:"-cbwsdk-connect-item-description"},t)))}function y({theme:e}){return(0,s.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,s.h)("li",{className:(0,i.default)("-cbwsdk-wallet-steps-item",e)},(0,s.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,s.h)("li",{className:(0,i.default)("-cbwsdk-wallet-steps-item",e)},(0,s.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,s.h)("span",null,"Tap ",(0,s.h)("strong",null,"Scan")," "),(0,s.h)("span",{className:(0,i.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,s.h)(l.QRCodeIcon,{fill:p(e)})))))}t.ConnectContent=function(e){let{theme:t}=e,r=(0,o.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId);return(0,s.h)("div",{"data-testid":"connect-content",className:(0,i.default)("-cbwsdk-connect-content",t)},(0,s.h)("style",null,f.default),(0,s.h)("div",{className:"-cbwsdk-connect-content-header"},(0,s.h)("h2",{className:(0,i.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with our mobile app"),e.onCancel&&(0,s.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,s.h)(u.CloseIcon,{fill:"light"===t?"#0A0B0D":"#FFFFFF"}))),(0,s.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,s.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,s.h)(g,{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",theme:t})),(0,s.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,s.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,s.h)(h.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,s.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:a.LIB_VERSION}),(0,s.h)("input",{type:"hidden",value:r})),(0,s.h)(y,{theme:t}),!e.isConnected&&(0,s.h)("div",{"data-testid":"connecting-spinner",className:(0,i.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,s.h)(d.Spinner,{size:36,color:"dark"===t?"#FFF":"#000"}),(0,s.h)("p",null,"Connecting...")))))},t.CoinbaseWalletSteps=y},82905:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}"},33966:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectDialog=void 0;let i=n(r(10875)),s=r(57764),o=r(83148),a=r(79100),u=r(94876),c=n(r(82905));t.ConnectDialog=e=>{let{isOpen:t,darkMode:r}=e,[n,l]=(0,o.useState)(!t),[h,d]=(0,o.useState)(!t);(0,o.useEffect)(()=>{let e=[window.setTimeout(()=>{d(!t)},10)];return t?l(!1):e.push(window.setTimeout(()=>{l(!0)},360)),()=>{e.forEach(window.clearTimeout)}},[t]);let f=r?"dark":"light";return(0,s.h)("div",{class:(0,i.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,s.h)("style",null,c.default),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-connect-dialog-backdrop",f,h&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,s.h)("div",{class:"-cbwsdk-connect-dialog"},(0,s.h)("div",{class:(0,i.default)("-cbwsdk-connect-dialog-box",h&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,s.h)(a.ConnectContent,{theme:f,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,s.h)(u.TryExtensionContent,{theme:f}))))}},40624:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkFlow=void 0;let n=r(57764),i=r(33966);class s{constructor(e){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render()}setConnected(e){this.connected!==e&&(this.connected=e,this.render())}setChainId(e){this.chainId!==e&&(this.chainId=e,this.render())}detach(){var e;this.root&&((0,n.render)(null,this.root),null===(e=this.root.parentElement)||void 0===e||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,n.render)((0,n.h)(i.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}t.LinkFlow=s},32007:function(e,t,r){"use strict";var n=r(9109).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QRCode=void 0;let s=r(57764),o=r(83148),a=i(r(53082));t.QRCode=e=>{let[t,r]=(0,o.useState)("");return(0,o.useEffect)(()=>{var t,i;let s=new a.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:null!==(t=e.width)&&void 0!==t?t:256,height:null!==(i=e.height)&&void 0!==i?i:256,padding:0,image:e.image}),o=n.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),t?(0,s.h)("img",{src:t,alt:"QR Code"}):null}},69110:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"},45281:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectDialog=void 0;let i=n(r(10875)),s=r(57764),o=r(75874),a=r(28531),u=n(r(69110));class c{constructor(){this.root=null}attach(){let e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,o.injectCssReset)()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,s.render)(null,this.root),e&&(0,s.render)((0,s.h)(l,Object.assign({},e,{onDismiss:()=>{this.clear()}})),this.root))}}t.RedirectDialog=c;let l=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:o})=>(0,s.h)(a.SnackbarContainer,{darkMode:r},(0,s.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,s.h)("style",null,u.default),(0,s.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:o}),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-redirect-dialog-box",r?"dark":"light")},(0,s.h)("p",null,e),(0,s.h)("button",{onClick:n},t))))},99461:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"},89768:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;let i=n(r(10875)),s=r(57764),o=r(83148),a=n(r(99461));class u{constructor(e){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=e.darkMode}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){let t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,s.render)((0,s.h)("div",null,(0,s.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,r])=>(0,s.h)(t.SnackbarInstance,Object.assign({},r,{key:e}))))),this.root)}}t.Snackbar=u,t.SnackbarContainer=e=>(0,s.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-container")},(0,s.h)("style",null,a.default),(0,s.h)("div",{class:"-cbwsdk-snackbar"},e.children)),t.SnackbarInstance=({autoExpand:e,message:t,menuItems:r})=>{let[n,a]=(0,o.useState)(!0),[u,c]=(0,o.useState)(null!=e&&e);return(0,o.useEffect)(()=>{let e=[window.setTimeout(()=>{a(!1)},1),window.setTimeout(()=>{c(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}}),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",u&&"-cbwsdk-snackbar-instance-expanded")},(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{c(!u)}},(0,s.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),(0,s.h)("div",{class:"-gear-container"},!u&&(0,s.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,s.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((e,t)=>(0,s.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,s.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,s.h)("span",{class:(0,i.default)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info)))))}},28531:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(89768),t)},27677:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"},3501:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;let i=r(57764),s=n(r(27677));t.Spinner=e=>{var t;let r=null!==(t=e.size)&&void 0!==t?t:64,n=e.color||"#000";return(0,i.h)("div",{class:"-cbwsdk-spinner"},(0,i.h)("style",null,s.default),(0,i.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,i.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))}},58552:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}"},94876:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TryExtensionContent=void 0;let i=n(r(10875)),s=r(57764),o=r(83148),a=r(139),u=r(9333),c=r(32658),l=n(r(58552));t.TryExtensionContent=function({theme:e}){let[t,r]=(0,o.useState)(!1),n=(0,o.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),h=(0,o.useCallback)(()=>{t?window.location.reload():(n(),r(!0))},[n,t]);return(0,s.h)("div",{class:(0,i.default)("-cbwsdk-try-extension",e)},(0,s.h)("style",null,l.default),(0,s.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,s.h)("h3",{class:(0,i.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,s.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,s.h)("button",{class:(0,i.default)("-cbwsdk-try-extension-cta",e),onClick:h},t?"Refresh":"Install"),(0,s.h)("div",null,!t&&(0,s.h)(a.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:"light"===e?"#0052FF":"#588AF5"})))),(0,s.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,s.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,s.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,s.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,s.h)("span",{class:(0,i.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,s.h)(u.LaptopIcon,{fill:"light"===e?"#0A0B0D":"#FFFFFF"}))),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,s.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,s.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,s.h)("span",{class:(0,i.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,s.h)(c.SafeIcon,{fill:"light"===e?"#0A0B0D":"#FFFFFF"}))),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}},139:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowLeftIcon=void 0;let n=r(57764);t.ArrowLeftIcon=function(e){return(0,n.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,n.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}},5418:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseIcon=void 0;let n=r(57764);t.CloseIcon=function(e){return(0,n.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,n.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}},57726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletRound=void 0;let n=r(57764);t.CoinbaseWalletRound=function(e){return(0,n.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,n.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,n.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,n.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}},9333:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaptopIcon=void 0;let n=r(57764);t.LaptopIcon=function(e){return(0,n.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,n.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,n.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}},64068:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QRCodeIcon=void 0;let n=r(57764);t.QRCodeIcon=function(e){return(0,n.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),(0,n.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,n.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,n.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,n.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}},32658:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafeIcon=void 0;let n=r(57764);t.SafeIcon=function(e){return(0,n.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}},86105:function(e,t,r){var n=r(9109).Buffer;let i=r(77114),s=r(58171);function o(e){if(e.startsWith("int["))return"int256"+e.slice(3);if("int"===e)return"int256";if(e.startsWith("uint["))return"uint256"+e.slice(4);if("uint"===e)return"uint256";if(e.startsWith("fixed["))return"fixed128x128"+e.slice(5);if("fixed"===e)return"fixed128x128";if(e.startsWith("ufixed["))return"ufixed128x128"+e.slice(6);else if("ufixed"===e)return"ufixed128x128";return e}function a(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function u(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function c(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function l(e){var t=typeof e;if("string"===t)return i.isHexString(e)?new s(i.stripHexPrefix(e),16):new s(e,10);if("number"===t)return new s(e);if(e.toArray)return e;throw Error("Argument is not a number")}function h(e,t){if("address"===e)return h("uint160",l(t));if("bool"===e)return h("uint8",t?1:0);if("string"===e)return h("bytes",new n(t,"utf8"));if((p=e).lastIndexOf("]")===p.length-1){if(void 0===t.length)throw Error("Not an array?");if("dynamic"!==(r=c(e))&&0!==r&&t.length>r)throw Error("Elements exceed array size: "+r);for(f in d=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)d.push(h(e,t[f]));if("dynamic"===r){var r,o,d,f,p,g=h("uint256",t.length);d.unshift(g)}return n.concat(d)}if("bytes"===e)return t=new n(t),d=n.concat([h("uint256",t.length),t]),t.length%32!=0&&(d=n.concat([d,i.zeros(32-t.length%32)])),d;if(e.startsWith("bytes")){if((r=a(e))<1||r>32)throw Error("Invalid bytes<N> width: "+r);return i.setLengthRight(t,32)}else if(e.startsWith("uint")){if((r=a(e))%8||r<8||r>256)throw Error("Invalid uint<N> width: "+r);if((o=l(t)).bitLength()>r)throw Error("Supplied uint exceeds width: "+r+" vs "+o.bitLength());if(o<0)throw Error("Supplied uint is negative");return o.toArrayLike(n,"be",32)}else if(e.startsWith("int")){if((r=a(e))%8||r<8||r>256)throw Error("Invalid int<N> width: "+r);if((o=l(t)).bitLength()>r)throw Error("Supplied int exceeds width: "+r+" vs "+o.bitLength());return o.toTwos(256).toArrayLike(n,"be",32)}else if(e.startsWith("ufixed")){if(r=u(e),(o=l(t))<0)throw Error("Supplied ufixed is negative");return h("uint256",o.mul(new s(2).pow(new s(r[1]))))}else if(e.startsWith("fixed"))return r=u(e),h("int256",l(t).mul(new s(2).pow(new s(r[1]))));throw Error("Unsupported or invalid type: "+e)}function d(e,t){if(e.length!==t.length)throw Error("Number of types are not matching the values");for(var r,s,u=[],c=0;c<e.length;c++){var h=o(e[c]),d=t[c];if("bytes"===h)u.push(d);else if("string"===h)u.push(new n(d,"utf8"));else if("bool"===h)u.push(new n(d?"01":"00","hex"));else if("address"===h)u.push(i.setLength(d,20));else if(h.startsWith("bytes")){if((r=a(h))<1||r>32)throw Error("Invalid bytes<N> width: "+r);u.push(i.setLengthRight(d,r))}else if(h.startsWith("uint")){if((r=a(h))%8||r<8||r>256)throw Error("Invalid uint<N> width: "+r);if((s=l(d)).bitLength()>r)throw Error("Supplied uint exceeds width: "+r+" vs "+s.bitLength());u.push(s.toArrayLike(n,"be",r/8))}else if(h.startsWith("int")){if((r=a(h))%8||r<8||r>256)throw Error("Invalid int<N> width: "+r);if((s=l(d)).bitLength()>r)throw Error("Supplied int exceeds width: "+r+" vs "+s.bitLength());u.push(s.toTwos(r).toArrayLike(n,"be",r/8))}else throw Error("Unsupported or invalid type: "+h)}return n.concat(u)}e.exports={rawEncode:function(e,t){var r=[],i=[],s=32*e.length;for(var a in e){var u=o(e[a]),l=h(u,t[a]);"string"===u||"bytes"===u||"dynamic"===c(u)?(r.push(h("uint256",s)),i.push(l),s+=l.length):r.push(l)}return n.concat(r.concat(i))},solidityPack:d,soliditySHA3:function(e,t){return i.keccak(d(e,t))}}},80745:function(e,t,r){var n=r(9109).Buffer;let i=r(77114),s=r(86105),o={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},a={encodeData(e,t,r,o=!0){let a=["bytes32"],u=[this.hashType(e,r)];if(o){let c=(e,t,a)=>{if(void 0!==r[t])return["bytes32",null==a?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,a,r,o))];if(void 0===a)throw Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(a)];if("string"===t)return"string"==typeof a&&(a=n.from(a,"utf8")),["bytes32",i.keccak(a)];if(t.lastIndexOf("]")===t.length-1){let r=t.slice(0,t.lastIndexOf("[")),n=a.map(t=>c(e,r,t));return["bytes32",i.keccak(s.rawEncode(n.map(([e])=>e),n.map(([,e])=>e)))]}return[t,a]};for(let n of r[e]){let[e,r]=c(n.name,n.type,t[n.name]);a.push(e),u.push(r)}}else for(let s of r[e]){let e=t[s.name];if(void 0!==e){if("bytes"===s.type)a.push("bytes32"),e=i.keccak(e),u.push(e);else if("string"===s.type)a.push("bytes32"),"string"==typeof e&&(e=n.from(e,"utf8")),e=i.keccak(e),u.push(e);else if(void 0!==r[s.type])a.push("bytes32"),e=i.keccak(this.encodeData(s.type,e,r,o)),u.push(e);else if(s.type.lastIndexOf("]")===s.type.length-1)throw Error("Arrays currently unimplemented in encodeData");else a.push(s.type),u.push(e)}}return s.rawEncode(a,u)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(t=>t!==e);for(let i of n=[e].concat(n.sort())){if(!t[i])throw Error("No type definition specified: "+i);r+=i+"("+t[i].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;for(let n of(r.push(e),t[e]))for(let e of this.findTypeDependencies(n.type,t,r))r.includes(e)||r.push(e);return r},hashStruct(e,t,r,n=!0){return i.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){let t={};for(let r in o.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){let r=this.sanitizeData(e),s=[n.from("1901","hex")];return s.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&s.push(this.hashStruct(r.primaryType,r.message,r.types,t)),i.keccak(n.concat(s))}};e.exports={TYPED_MESSAGE_SCHEMA:o,TypedDataUtils:a,hashForSignTypedDataLegacy:function(e){return function(e){let t=Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;let r=e.map(function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value}),n=e.map(function(e){return e.type}),o=e.map(function(e){if(!e.name)throw t;return e.type+" "+e.name});return s.soliditySHA3(["bytes32","bytes32"],[s.soliditySHA3(Array(e.length).fill("string"),o),s.soliditySHA3(n,r)])}(e.data)},hashForSignTypedData_v3:function(e){return a.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return a.hash(e.data)}}},77114:function(e,t,r){var n=r(9109).Buffer;let i=r(6230),s=r(58171);function o(e){return n.allocUnsafe(e).fill(0)}function a(e,t,r){let n=o(t);return(e=u(e),r)?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function u(e){if(!n.isBuffer(e)){if(Array.isArray(e))e=n.from(e);else if("string"==typeof e){var t;e=c(e)?n.from((t=l(e)).length%2?"0"+t:t,"hex"):n.from(e)}else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=n.allocUnsafe(0);else if(s.isBN(e))e=e.toArrayLike(n);else if(e.toArray)e=n.from(e.toArray());else throw Error("invalid type")}return e}function c(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function l(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}e.exports={zeros:o,setLength:a,setLengthRight:function(e,t){return a(e,t,!0)},isHexString:c,stripHexPrefix:l,toBuffer:u,bufferToHex:function(e){return"0x"+(e=u(e)).toString("hex")},keccak:function(e,t){return e=u(e),t||(t=256),i("keccak"+t).update(e).digest()}}},53082:function(e){function t(e){this.mode=n.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var i=[],s=this.data.charCodeAt(t);s>65536?(i[0]=240|(1835008&s)>>>18,i[1]=128|(258048&s)>>>12,i[2]=128|(4032&s)>>>6,i[3]=128|63&s):s>2048?(i[0]=224|(61440&s)>>>12,i[1]=128|(4032&s)>>>6,i[2]=128|63&s):s>128?(i[0]=192|(1984&s)>>>6,i[1]=128|63&s):i[0]=s,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function r(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},r.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1)&&!(this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=o.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var i=0;i<this.modules.length;i++)for(var s=1*i,o=0;o<this.modules[i].length;o++){var a=1*o;this.modules[i][o]&&(n.beginFill(0,100),n.moveTo(a,s),n.lineTo(a+1,s),n.lineTo(a+1,s+1),n.lineTo(a,s+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=o.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(null==this.modules[n][i])for(var s=-2;s<=2;s++)for(var a=-2;a<=2;a++)-2==s||2==s||-2==a||2==a||0==s&&0==a?this.modules[n+s][i+a]=!0:this.modules[n+s][i+a]=!1}},setupTypeNumber:function(e){for(var t=o.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=o.getBCHTypeInfo(r),i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,s=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var u=0;u<2;u++)if(null==this.modules[n][a-u]){var c=!1;s<e.length&&(c=(e[s]>>>i&1)==1),o.getMask(t,n,a-u)&&(c=!c),this.modules[n][a-u]=c,-1==--i&&(s++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},r.PAD0=236,r.PAD1=17,r.createData=function(e,t,n){for(var i=l.getRSBlocks(e,t),s=new h,a=0;a<n.length;a++){var u=n[a];s.put(u.mode,4),s.put(u.getLength(),o.getLengthInBits(u.mode,e)),u.write(s)}for(var c=0,a=0;a<i.length;a++)c+=i[a].dataCount;if(s.getLengthInBits()>8*c)throw Error("code length overflow. ("+s.getLengthInBits()+">"+8*c+")");for(s.getLengthInBits()+4<=8*c&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*c)&&(s.put(r.PAD0,8),!(s.getLengthInBits()>=8*c));)s.put(r.PAD1,8);return r.createBytes(s,i)},r.createBytes=function(e,t){for(var r=0,n=0,i=0,s=Array(t.length),a=Array(t.length),u=0;u<t.length;u++){var l=t[u].dataCount,h=t[u].totalCount-l;n=Math.max(n,l),i=Math.max(i,h),s[u]=Array(l);for(var d=0;d<s[u].length;d++)s[u][d]=255&e.buffer[d+r];r+=l;var f=o.getErrorCorrectPolynomial(h),p=new c(s[u],f.getLength()-1).mod(f);a[u]=Array(f.getLength()-1);for(var d=0;d<a[u].length;d++){var g=d+p.getLength()-a[u].length;a[u][d]=g>=0?p.get(g):0}}for(var y=0,d=0;d<t.length;d++)y+=t[d].totalCount;for(var v=Array(y),m=0,d=0;d<n;d++)for(var u=0;u<t.length;u++)d<s[u].length&&(v[m++]=s[u][d]);for(var d=0;d<i;d++)for(var u=0;u<t.length;u++)d<a[u].length&&(v[m++]=a[u][d]);return v};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;o.getBCHDigit(t)-o.getBCHDigit(o.G15)>=0;)t^=o.G15<<o.getBCHDigit(t)-o.getBCHDigit(o.G15);return(e<<10|t)^o.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;o.getBCHDigit(t)-o.getBCHDigit(o.G18)>=0;)t^=o.G18<<o.getBCHDigit(t)-o.getBCHDigit(o.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return o.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case s.PATTERN000:return(t+r)%2==0;case s.PATTERN001:return t%2==0;case s.PATTERN010:return r%3==0;case s.PATTERN011:return(t+r)%3==0;case s.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case s.PATTERN101:return t*r%2+t*r%3==0;case s.PATTERN110:return(t*r%2+t*r%3)%2==0;case s.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new c([1],0),r=0;r<e;r++)t=t.multiply(new c([1,a.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw Error("mode:"+e)}else if(t<41)switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw Error("mode:"+e)}else throw Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var s=0,o=e.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0)&&!(t<=n+a))for(var u=-1;u<=1;u++)!(i+u<0)&&!(t<=i+u)&&(0!=a||0!=u)&&o==e.isDark(n+a,i+u)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<t-1;n++)for(var i=0;i<t-1;i++){var c=0;e.isDark(n,i)&&c++,e.isDark(n+1,i)&&c++,e.isDark(n,i+1)&&c++,e.isDark(n+1,i+1)&&c++,(0==c||4==c)&&(r+=3)}for(var n=0;n<t;n++)for(var i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(var i=0;i<t;i++)for(var n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<t;i++)for(var n=0;n<t;n++)e.isDark(n,i)&&l++;return r+Math.abs(100*l/t/t-50)/5*10}},a={glog:function(e){if(e<1)throw Error("glog("+e+")");return a.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return a.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},u=0;u<8;u++)a.EXP_TABLE[u]=1<<u;for(var u=8;u<256;u++)a.EXP_TABLE[u]=a.EXP_TABLE[u-4]^a.EXP_TABLE[u-5]^a.EXP_TABLE[u-6]^a.EXP_TABLE[u-8];for(var u=0;u<255;u++)a.LOG_TABLE[a.EXP_TABLE[u]]=u;function c(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function l(e,t){this.totalCount=e,this.dataCount=t}function h(){this.buffer=[],this.length=0}c.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=a.gexp(a.glog(this.get(r))+a.glog(e.get(n)));return new c(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=a.glog(this.get(0))-a.glog(e.get(0)),r=Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=a.gexp(a.glog(e.get(n))+t);return new c(r,0).mod(e)}},l.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],l.getRSBlocks=function(e,t){var r=l.getRsBlockTable(e,t);if(void 0==r)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[3*s+0],a=r[3*s+1],u=r[3*s+2],c=0;c<o;c++)i.push(new l(a,u));return i},l.getRsBlockTable=function(e,t){switch(t){case i.L:return l.RS_BLOCK_TABLE[(e-1)*4+0];case i.M:return l.RS_BLOCK_TABLE[(e-1)*4+1];case i.Q:return l.RS_BLOCK_TABLE[(e-1)*4+2];case i.H:return l.RS_BLOCK_TABLE[(e-1)*4+3];default:return}},h.prototype={get:function(e){return(this.buffer[Math.floor(e/8)]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var d=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function f(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},"string"==typeof e&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if("string"!=typeof this.options.content)throw Error("Expected 'content' as string!");if(0===this.options.content.length)throw Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw Error("Expected 'width' or 'height' value to be higher than zero!");var n=this.options.content,s=function(e,t){for(var r,n=(r=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(r.length!=e?3:0),i=1,s=0,o=0,a=d.length;o<=a;o++){var u=d[o];if(!u)throw Error("Content too long: expected "+s+" but got "+n);switch(t){case"L":s=u[0];break;case"M":s=u[1];break;case"Q":s=u[2];break;case"H":s=u[3];break;default:throw Error("Unknwon error correction level: "+t)}if(n<=s)break;i++}if(i>d.length)throw Error("Content too long");return i}(n,this.options.ecl),o=function(e){switch(e){case"L":return i.L;case"M":return i.M;case"Q":return i.Q;case"H":return i.H;default:throw Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new r(s,o),this.qrcode.addData(n),this.qrcode.make()}f.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;void 0===e&&(e={container:t.container||"svg"});for(var n=void 0===t.pretty||!!t.pretty,i=n?"  ":"",s=n?"\r\n":"",o=t.width,a=t.height,u=r.length,c=o/(u+2*t.padding),l=a/(u+2*t.padding),h=void 0!==t.join&&!!t.join,d=void 0!==t.swap&&!!t.swap,f=void 0===t.xmlDeclaration||!!t.xmlDeclaration,p=void 0!==t.predefined&&!!t.predefined,g=p?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+c+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+s:"",y=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+s,v="",m="",b=0;b<u;b++)for(var _=0;_<u;_++)if(r[_][b]){var w=_*c+t.padding*c,E=b*l+t.padding*l;if(d){var S=w;w=E,E=S}if(h){var I=c+w,k=l+E;w=Number.isInteger(w)?Number(w):w.toFixed(2),E=Number.isInteger(E)?Number(E):E.toFixed(2),I=Number.isInteger(I)?Number(I):I.toFixed(2),m+="M"+w+","+E+" V"+(k=Number.isInteger(k)?Number(k):k.toFixed(2))+" H"+I+" V"+E+" H"+w+" Z "}else p?v+=i+'<use x="'+w.toString()+'" y="'+E.toString()+'" href="#qrmodule" />'+s:v+=i+'<rect x="'+w.toString()+'" y="'+E.toString()+'" width="'+c+'" height="'+l+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+s}h&&(v=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+m+'" />');let C="";if(void 0!==this.options.image&&this.options.image.svg){let e=o*this.options.image.width/100,t=a*this.options.image.height/100;C+=`<svg x="${o/2-e/2}" y="${a/2-t/2}" width="${e}" height="${t}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`+(this.options.image.svg+s)+"</svg>"}var O="";switch(e.container){case"svg":f&&(O+='<?xml version="1.0" standalone="yes"?>'+s),O+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s+(g+y+v)+C+"</svg>";break;case"svg-viewbox":f&&(O+='<?xml version="1.0" standalone="yes"?>'+s),O+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s+(g+y+v)+C+"</svg>";break;case"g":O+='<g width="'+o+'" height="'+a+'">'+s+(g+y+v)+C+"</g>";break;default:O+=(g+y+v+C).replace(/^\s+/,"")}return O},e.exports=f},54750:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0,t.LIB_VERSION="3.9.3"},96817:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(68885);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class s extends n.EventEmitter{emit(e,...t){let r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;let r=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw r.context=e,r}let s=n[e];if(void 0===s)return!1;if("function"==typeof s)i(s,this,t);else{let e=s.length,r=function(e){let t=e.length,r=Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(s);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=s},18615:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24986);function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function s(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function u(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function c(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function l(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),l(e/4294967296>>>0,t,r),l(e>>>0,t,r+4),t}function f(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),h(e>>>0,t,r),h(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=s,t.writeInt16LE=s,t.readInt32BE=o,t.readUint32BE=a,t.readInt32LE=u,t.readUint32LE=c,t.writeUint32BE=l,t.writeInt32BE=l,t.writeUint32LE=h,t.writeInt32LE=h,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=o(e,t),n=o(e,t+4);return 4294967296*r+n-(n>>31)*4294967296},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=u(e,t);return 4294967296*u(e,t+4)+r-(r>>31)*4294967296},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=f,t.writeInt64LE=f,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=e/8+r-1;s>=r;s--)n+=t[s]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+e/8;s++)n+=t[s]*i,i*=256;return n},t.writeUintBE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintBE value must be an integer");for(var s=1,o=e/8+i-1;o>=i;o--)r[o]=t/s&255,s*=256;return r},t.writeUintLE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintLE value must be an integer");for(var s=1,o=i;o<i+e/8;o++)r[o]=t/s&255,s*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},94168:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18615),i=r(32583);function s(e,t,r,s,o){if(void 0===o&&(o=0),32!==e.length)throw Error("ChaCha: key size must be 32 bytes");if(s.length<r.length)throw Error("ChaCha: destination is shorter than source");if(0===o){if(8!==t.length&&12!==t.length)throw Error("ChaCha nonce must be 8 or 12 bytes");u=(a=new Uint8Array(16)).length-t.length,a.set(t,u)}else{if(16!==t.length)throw Error("ChaCha nonce with counter must be 16 bytes");a=t,u=o}for(var a,u,c=new Uint8Array(64),l=0;l<r.length;l+=64){!function(e,t,r){for(var i=r[3]<<24|r[2]<<16|r[1]<<8|r[0],s=r[7]<<24|r[6]<<16|r[5]<<8|r[4],o=r[11]<<24|r[10]<<16|r[9]<<8|r[8],a=r[15]<<24|r[14]<<16|r[13]<<8|r[12],u=r[19]<<24|r[18]<<16|r[17]<<8|r[16],c=r[23]<<24|r[22]<<16|r[21]<<8|r[20],l=r[27]<<24|r[26]<<16|r[25]<<8|r[24],h=r[31]<<24|r[30]<<16|r[29]<<8|r[28],d=t[3]<<24|t[2]<<16|t[1]<<8|t[0],f=t[7]<<24|t[6]<<16|t[5]<<8|t[4],p=t[11]<<24|t[10]<<16|t[9]<<8|t[8],g=t[15]<<24|t[14]<<16|t[13]<<8|t[12],y=1634760805,v=857760878,m=2036477234,b=1797285236,_=i,w=s,E=o,S=a,I=u,k=c,C=l,O=h,x=d,R=f,A=p,P=g,D=0;D<20;D+=2)x^=y=y+_|0,_^=I=I+(x=x>>>16|x<<16)|0,_=_>>>20|_<<12,R^=v=v+w|0,w^=k=k+(R=R>>>16|R<<16)|0,w=w>>>20|w<<12,A^=m=m+E|0,E^=C=C+(A=A>>>16|A<<16)|0,E=E>>>20|E<<12,P^=b=b+S|0,S^=O=O+(P=P>>>16|P<<16)|0,S=S>>>20|S<<12,A^=m=m+E|0,E^=C=C+(A=A>>>24|A<<8)|0,E=E>>>25|E<<7,P^=b=b+S|0,S^=O=O+(P=P>>>24|P<<8)|0,S=S>>>25|S<<7,R^=v=v+w|0,w^=k=k+(R=R>>>24|R<<8)|0,w=w>>>25|w<<7,x^=y=y+_|0,_^=I=I+(x=x>>>24|x<<8)|0,_=_>>>25|_<<7,P^=y=y+w|0,w^=C=C+(P=P>>>16|P<<16)|0,w=w>>>20|w<<12,x^=v=v+E|0,E^=O=O+(x=x>>>16|x<<16)|0,E=E>>>20|E<<12,R^=m=m+S|0,S^=I=I+(R=R>>>16|R<<16)|0,S=S>>>20|S<<12,A^=b=b+_|0,_^=k=k+(A=A>>>16|A<<16)|0,_=_>>>20|_<<12,R^=m=m+S|0,S^=I=I+(R=R>>>24|R<<8)|0,S=S>>>25|S<<7,A^=b=b+_|0,_^=k=k+(A=A>>>24|A<<8)|0,_=_>>>25|_<<7,x^=v=v+E|0,E^=O=O+(x=x>>>24|x<<8)|0,E=E>>>25|E<<7,P^=y=y+w|0,w^=C=C+(P=P>>>24|P<<8)|0,w=w>>>25|w<<7;n.writeUint32LE(y+1634760805|0,e,0),n.writeUint32LE(v+857760878|0,e,4),n.writeUint32LE(m+2036477234|0,e,8),n.writeUint32LE(b+1797285236|0,e,12),n.writeUint32LE(_+i|0,e,16),n.writeUint32LE(w+s|0,e,20),n.writeUint32LE(E+o|0,e,24),n.writeUint32LE(S+a|0,e,28),n.writeUint32LE(I+u|0,e,32),n.writeUint32LE(k+c|0,e,36),n.writeUint32LE(C+l|0,e,40),n.writeUint32LE(O+h|0,e,44),n.writeUint32LE(x+d|0,e,48),n.writeUint32LE(R+f|0,e,52),n.writeUint32LE(A+p|0,e,56),n.writeUint32LE(P+g|0,e,60)}(c,a,e);for(var h=l;h<l+64&&h<r.length;h++)s[h]=r[h]^c[h-l];!function(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw Error("ChaCha: counter overflow")}(a,0,u)}return i.wipe(c),0===o&&i.wipe(a),s}t.streamXOR=s,t.stream=function(e,t,r,n){return void 0===n&&(n=0),i.wipe(r),s(e,t,r,r,n)}},23518:function(e,t,r){"use strict";var n=r(94168),i=r(14605),s=r(32583),o=r(18615),a=r(21346);t.Cv=32,t.WH=12,t.pg=16;var u=new Uint8Array(16),c=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,i){if(e.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var o,a=new Uint8Array(16);a.set(e,a.length-e.length);var u=new Uint8Array(32);n.stream(this._key,a,u,4);var c=t.length+this.tagLength;if(i){if(i.length!==c)throw Error("ChaCha20Poly1305: incorrect destination length");o=i}else o=new Uint8Array(c);return n.streamXOR(this._key,a,t,o,4),this._authenticate(o.subarray(o.length-this.tagLength,o.length),u,o.subarray(0,o.length-this.tagLength),r),s.wipe(a),o},e.prototype.open=function(e,t,r,i){if(e.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o,u=new Uint8Array(16);u.set(e,u.length-e.length);var c=new Uint8Array(32);n.stream(this._key,u,c,4);var l=new Uint8Array(this.tagLength);if(this._authenticate(l,c,t.subarray(0,t.length-this.tagLength),r),!a.equal(l,t.subarray(t.length-this.tagLength,t.length)))return null;var h=t.length-this.tagLength;if(i){if(i.length!==h)throw Error("ChaCha20Poly1305: incorrect destination length");o=i}else o=new Uint8Array(h);return n.streamXOR(this._key,u,t.subarray(0,t.length-this.tagLength),o,4),s.wipe(u),o},e.prototype.clean=function(){return s.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,n){var a=new i.Poly1305(t);n&&(a.update(n),n.length%16>0&&a.update(u.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(u.subarray(r.length%16));var c=new Uint8Array(8);n&&o.writeUint64LE(n.length,c),a.update(c),o.writeUint64LE(r.length,c),a.update(c);for(var l=a.digest(),h=0;h<l.length;h++)e[h]=l[h];a.clean(),s.wipe(l),s.wipe(c)},e}();t.OK=c},21346:function(e,t){"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},59271:function(e,t,r){"use strict";t.Xx=t._w=t.aP=t.KS=t.jQ=void 0,r(24861);let n=r(13033);function i(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}r(32583),t.jQ=64,t.KS=64,t.aP=32,new Uint8Array(32)[0]=9;let s=i(),o=i([1]),a=(i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),u=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),c=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);function l(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function h(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function d(e,t,r){let n=~(r-1);for(let r=0;r<16;r++){let i=n&(e[r]^t[r]);e[r]^=i,t[r]^=i}}function f(e,t){let r=i(),n=i();for(let e=0;e<16;e++)n[e]=t[e];h(n),h(n),h(n);for(let e=0;e<2;e++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let e=r[15]>>16&1;r[14]&=65535,d(n,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&n[t],e[2*t+1]=n[t]>>8}i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function g(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function y(e,t,r){let n,i,s=0,o=0,a=0,u=0,c=0,l=0,h=0,d=0,f=0,p=0,g=0,y=0,v=0,m=0,b=0,_=0,w=0,E=0,S=0,I=0,k=0,C=0,O=0,x=0,R=0,A=0,P=0,D=0,N=0,T=0,M=0,L=r[0],j=r[1],B=r[2],q=r[3],U=r[4],F=r[5],$=r[6],H=r[7],z=r[8],V=r[9],W=r[10],K=r[11],G=r[12],Q=r[13],J=r[14],Z=r[15];s+=(n=t[0])*L,o+=n*j,a+=n*B,u+=n*q,c+=n*U,l+=n*F,h+=n*$,d+=n*H,f+=n*z,p+=n*V,g+=n*W,y+=n*K,v+=n*G,m+=n*Q,b+=n*J,_+=n*Z,o+=(n=t[1])*L,a+=n*j,u+=n*B,c+=n*q,l+=n*U,h+=n*F,d+=n*$,f+=n*H,p+=n*z,g+=n*V,y+=n*W,v+=n*K,m+=n*G,b+=n*Q,_+=n*J,w+=n*Z,a+=(n=t[2])*L,u+=n*j,c+=n*B,l+=n*q,h+=n*U,d+=n*F,f+=n*$,p+=n*H,g+=n*z,y+=n*V,v+=n*W,m+=n*K,b+=n*G,_+=n*Q,w+=n*J,E+=n*Z,u+=(n=t[3])*L,c+=n*j,l+=n*B,h+=n*q,d+=n*U,f+=n*F,p+=n*$,g+=n*H,y+=n*z,v+=n*V,m+=n*W,b+=n*K,_+=n*G,w+=n*Q,E+=n*J,S+=n*Z,c+=(n=t[4])*L,l+=n*j,h+=n*B,d+=n*q,f+=n*U,p+=n*F,g+=n*$,y+=n*H,v+=n*z,m+=n*V,b+=n*W,_+=n*K,w+=n*G,E+=n*Q,S+=n*J,I+=n*Z,l+=(n=t[5])*L,h+=n*j,d+=n*B,f+=n*q,p+=n*U,g+=n*F,y+=n*$,v+=n*H,m+=n*z,b+=n*V,_+=n*W,w+=n*K,E+=n*G,S+=n*Q,I+=n*J,k+=n*Z,h+=(n=t[6])*L,d+=n*j,f+=n*B,p+=n*q,g+=n*U,y+=n*F,v+=n*$,m+=n*H,b+=n*z,_+=n*V,w+=n*W,E+=n*K,S+=n*G,I+=n*Q,k+=n*J,C+=n*Z,d+=(n=t[7])*L,f+=n*j,p+=n*B,g+=n*q,y+=n*U,v+=n*F,m+=n*$,b+=n*H,_+=n*z,w+=n*V,E+=n*W,S+=n*K,I+=n*G,k+=n*Q,C+=n*J,O+=n*Z,f+=(n=t[8])*L,p+=n*j,g+=n*B,y+=n*q,v+=n*U,m+=n*F,b+=n*$,_+=n*H,w+=n*z,E+=n*V,S+=n*W,I+=n*K,k+=n*G,C+=n*Q,O+=n*J,x+=n*Z,p+=(n=t[9])*L,g+=n*j,y+=n*B,v+=n*q,m+=n*U,b+=n*F,_+=n*$,w+=n*H,E+=n*z,S+=n*V,I+=n*W,k+=n*K,C+=n*G,O+=n*Q,x+=n*J,R+=n*Z,g+=(n=t[10])*L,y+=n*j,v+=n*B,m+=n*q,b+=n*U,_+=n*F,w+=n*$,E+=n*H,S+=n*z,I+=n*V,k+=n*W,C+=n*K,O+=n*G,x+=n*Q,R+=n*J,A+=n*Z,y+=(n=t[11])*L,v+=n*j,m+=n*B,b+=n*q,_+=n*U,w+=n*F,E+=n*$,S+=n*H,I+=n*z,k+=n*V,C+=n*W,O+=n*K,x+=n*G,R+=n*Q,A+=n*J,P+=n*Z,v+=(n=t[12])*L,m+=n*j,b+=n*B,_+=n*q,w+=n*U,E+=n*F,S+=n*$,I+=n*H,k+=n*z,C+=n*V,O+=n*W,x+=n*K,R+=n*G,A+=n*Q,P+=n*J,D+=n*Z,m+=(n=t[13])*L,b+=n*j,_+=n*B,w+=n*q,E+=n*U,S+=n*F,I+=n*$,k+=n*H,C+=n*z,O+=n*V,x+=n*W,R+=n*K,A+=n*G,P+=n*Q,D+=n*J,N+=n*Z,b+=(n=t[14])*L,_+=n*j,w+=n*B,E+=n*q,S+=n*U,I+=n*F,k+=n*$,C+=n*H,O+=n*z,x+=n*V,R+=n*W,A+=n*K,P+=n*G,D+=n*Q,N+=n*J,T+=n*Z,_+=(n=t[15])*L,w+=n*j,E+=n*B,S+=n*q,I+=n*U,k+=n*F,C+=n*$,O+=n*H,x+=n*z,R+=n*V,A+=n*W,P+=n*K,D+=n*G,N+=n*Q,T+=n*J,M+=n*Z,s+=38*w,o+=38*E,a+=38*S,u+=38*I,c+=38*k,l+=38*C,h+=38*O,d+=38*x,f+=38*R,p+=38*A,g+=38*P,y+=38*D,v+=38*N,m+=38*T,b+=38*M,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=u,e[4]=c,e[5]=l,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=y,e[12]=v,e[13]=m,e[14]=b,e[15]=_}function v(e,t){let r=i(),n=i(),s=i(),o=i(),u=i(),c=i(),l=i(),h=i(),d=i();g(r,e[1],e[0]),g(d,t[1],t[0]),y(r,r,d),p(n,e[0],e[1]),p(d,t[0],t[1]),y(n,n,d),y(s,e[3],t[3]),y(s,s,a),y(o,e[2],t[2]),p(o,o,o),g(u,n,r),g(c,o,s),p(l,o,s),p(h,n,r),y(e[0],u,c),y(e[1],h,l),y(e[2],l,c),y(e[3],u,h)}function m(e,t,r){for(let n=0;n<4;n++)d(e[n],t[n],r)}function b(e,t){let r=i(),n=i(),s=i();(function(e,t){let r;let n=i();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)y(n,n,n),2!==r&&4!==r&&y(n,n,t);for(r=0;r<16;r++)e[r]=n[r]})(s,t[2]),y(r,t[0],s),y(n,t[1],s),f(e,n),e[31]^=function(e){let t=new Uint8Array(32);return f(t,e),1&t[0]}(r)<<7}function _(e,t){let r=[i(),i(),i(),i()];l(r[0],u),l(r[1],c),l(r[2],o),y(r[3],u,c),function(e,t,r){l(e[0],s),l(e[1],o),l(e[2],o),l(e[3],s);for(let n=255;n>=0;--n){let i=r[n/8|0]>>(7&n)&1;m(e,t,i),v(t,e),v(e,e),m(e,t,i)}}(e,r,t)}t._w=function(e){if(e.length!==t.aP)throw Error(`ed25519: seed must be ${t.aP} bytes`);let r=(0,n.hash)(e);r[0]&=248,r[31]&=127,r[31]|=64;let s=new Uint8Array(32),o=[i(),i(),i(),i()];_(o,r),b(s,o);let a=new Uint8Array(64);return a.set(e),a.set(s,32),{publicKey:s,secretKey:a}};let w=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function E(e,t){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*w[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(i=0,r=0;i<32;i++)t[i]+=r-(t[31]>>4)*w[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*w[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function S(e){let t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let t=0;t<64;t++)e[t]=0;E(e,t)}t.Xx=function(e,t){let r=new Float64Array(64),s=[i(),i(),i(),i()],o=(0,n.hash)(e.subarray(0,32));o[0]&=248,o[31]&=127,o[31]|=64;let a=new Uint8Array(64);a.set(o.subarray(32),32);let u=new n.SHA512;u.update(a.subarray(32)),u.update(t);let c=u.digest();u.clean(),S(c),_(s,c),b(a,s),u.reset(),u.update(a.subarray(0,32)),u.update(e.subarray(32)),u.update(t);let l=u.digest();S(l);for(let e=0;e<32;e++)r[e]=c[e];for(let e=0;e<32;e++)for(let t=0;t<32;t++)r[e+t]+=l[e]*o[t];return E(a.subarray(32),r),a}},86784:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},67878:function(e,t,r){"use strict";var n=r(4705),i=r(32583),s=function(){function e(e,t,r,i){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=n.hmac(this._hash,r,t);this._hmac=new n.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),i.wipe(this._buffer),i.wipe(this._counter),this._bufpos=0},e}();t.t=s},4705:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(86784),i=r(21346),s=r(32583),o=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(var i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),n.isSerializableHash(this._inner)&&n.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),s.wipe(r)}return e.prototype.reset=function(){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){n.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),n.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?this._outer.finish(e):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!n.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!n.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=o,t.hmac=function(e,t,r){var n=new o(e,t);n.update(r);var i=n.digest();return n.clean(),i},t.equal=i.equal},24986:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},14605:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21346),i=r(32583);t.DIGEST_LENGTH=16;var s=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=8191&r;var n=e[2]|e[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var u=e[12]|e[13]<<8;this._r[7]=(a>>>11|u<<5)&8065;var c=e[14]|e[15]<<8;this._r[8]=(u>>>8|c<<8)&8191,this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],u=this._h[4],c=this._h[5],l=this._h[6],h=this._h[7],d=this._h[8],f=this._h[9],p=this._r[0],g=this._r[1],y=this._r[2],v=this._r[3],m=this._r[4],b=this._r[5],_=this._r[6],w=this._r[7],E=this._r[8],S=this._r[9];r>=16;){var I,k=e[t+0]|e[t+1]<<8;i+=8191&k;var C=e[t+2]|e[t+3]<<8;s+=(k>>>13|C<<3)&8191;var O=e[t+4]|e[t+5]<<8;o+=(C>>>10|O<<6)&8191;var x=e[t+6]|e[t+7]<<8;a+=(O>>>7|x<<9)&8191;var R=e[t+8]|e[t+9]<<8;u+=(x>>>4|R<<12)&8191,c+=R>>>1&8191;var A=e[t+10]|e[t+11]<<8;l+=(R>>>14|A<<2)&8191;var P=e[t+12]|e[t+13]<<8;h+=(A>>>11|P<<5)&8191;var D=e[t+14]|e[t+15]<<8;d+=(P>>>8|D<<8)&8191,f+=D>>>5|n;var N=0;N=(I=0+i*p+5*S*s+5*E*o+5*w*a+5*_*u)>>>13,I&=8191,I+=5*b*c+5*m*l+5*v*h+5*y*d+5*g*f,N+=I>>>13,I&=8191;var T=N;T+=i*g+s*p+5*S*o+5*E*a+5*w*u,N=T>>>13,T&=8191,T+=5*_*c+5*b*l+5*m*h+5*v*d+5*y*f,N+=T>>>13,T&=8191;var M=N;M+=i*y+s*g+o*p+5*S*a+5*E*u,N=M>>>13,M&=8191,M+=5*w*c+5*_*l+5*b*h+5*m*d+5*v*f,N+=M>>>13,M&=8191;var L=N;L+=i*v+s*y+o*g+a*p+5*S*u,N=L>>>13,L&=8191,L+=5*E*c+5*w*l+5*_*h+5*b*d+5*m*f,N+=L>>>13,L&=8191;var j=N;j+=i*m+s*v+o*y+a*g+u*p,N=j>>>13,j&=8191,j+=5*S*c+5*E*l+5*w*h+5*_*d+5*b*f,N+=j>>>13,j&=8191;var B=N;B+=i*b+s*m+o*v+a*y+u*g,N=B>>>13,B&=8191,B+=c*p+5*S*l+5*E*h+5*w*d+5*_*f,N+=B>>>13,B&=8191;var q=N;q+=i*_+s*b+o*m+a*v+u*y,N=q>>>13,q&=8191,q+=c*g+l*p+5*S*h+5*E*d+5*w*f,N+=q>>>13,q&=8191;var U=N;U+=i*w+s*_+o*b+a*m+u*v,N=U>>>13,U&=8191,U+=c*y+l*g+h*p+5*S*d+5*E*f,N+=U>>>13,U&=8191;var F=N;F+=i*E+s*w+o*_+a*b+u*m,N=F>>>13,F&=8191,F+=c*v+l*y+h*g+d*p+5*S*f,N+=F>>>13,F&=8191;var $=N;$+=i*S+s*E+o*w+a*_+u*b,N=$>>>13,$&=8191,$+=c*m+l*v+h*y+d*g+f*p,N+=$>>>13,$&=8191,I=8191&(N=(N=(N<<2)+N|0)+I|0),N>>>=13,T+=N,i=I,s=T,o=M,a=L,u=j,c=B,l=q,h=U,d=F,f=$,t+=16,r-=16}this._h[0]=i,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=u,this._h[5]=c,this._h[6]=l,this._h[7]=h,this._h[8]=d,this._h[9]=f},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,s,o=new Uint16Array(10);if(this._leftover){for(s=this._leftover,this._buffer[s++]=1;s<16;s++)this._buffer[s]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,s=2;s<10;s++)this._h[s]+=r,r=this._h[s]>>>13,this._h[s]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this._h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(s=0,n=~n;s<10;s++)this._h[s]=this._h[s]&n|o[s];for(s=1,this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,i=this._h[0]+this._pad[0],this._h[0]=65535&i;s<8;s++)i=(this._h[s]+this._pad[s]|0)+(i>>>16)|0,this._h[s]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(var i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},e.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=s,t.oneTimeAuth=function(e,t){var r=new s(e);r.update(t);var n=r.digest();return r.clean(),n},t.equal=function(e,r){return e.length===t.DIGEST_LENGTH&&r.length===t.DIGEST_LENGTH&&n.equal(e,r)}},24861:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;let n=r(71722),i=r(18615),s=r(32583);function o(e,r=t.defaultRandomSource){return r.randomBytes(e)}t.defaultRandomSource=new n.SystemRandomSource,t.randomBytes=o,t.randomUint32=function(e=t.defaultRandomSource){let r=o(4,e),n=(0,i.readUint32LE)(r);return(0,s.wipe)(r),n};let a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(e,r=a,n=t.defaultRandomSource){if(r.length<2)throw Error("randomString charset is too short");if(r.length>256)throw Error("randomString charset is too long");let i="",u=r.length,c=256-256%u;for(;e>0;){let t=o(Math.ceil(256*e/c),n);for(let n=0;n<t.length&&e>0;n++){let s=t[n];s<c&&(i+=r.charAt(s%u),e--)}(0,s.wipe)(t)}return i}t.randomString=u,t.randomStringForEntropy=function(e,r=a,n=t.defaultRandomSource){return u(Math.ceil(e/(Math.log(r.length)/Math.LN2)),r,n)}},3724:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;class r{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}t.BrowserRandomSource=r},39663:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;let n=r(32583);class i{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let e=r(35883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let e=0;e<r.length;e++)r[e]=t[e];return(0,n.wipe)(t),r}}t.NodeRandomSource=i},71722:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;let n=r(3724),i=r(39663);class s{constructor(){if(this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new i.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(e)}}t.SystemRandomSource=s},67929:function(e,t,r){"use strict";var n=r(18615),i=r(32583);t.k=32,t.cn=64;var s=function(){function e(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%64<56?64:128;this._buffer[r]=128;for(var s=r+1;s<i-8;s++)this._buffer[s]=0;n.writeUint32BE(t/536870912|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),a(this._temp,this._state,this._buffer,0,i),this._finished=!0}for(var s=0;s<this.digestLength/4;s++)n.writeUint32BE(this._state[s],e,4*s);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.mE=s;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,r,i,s){for(;s>=64;){for(var a=t[0],u=t[1],c=t[2],l=t[3],h=t[4],d=t[5],f=t[6],p=t[7],g=0;g<16;g++){var y=i+4*g;e[g]=n.readUint32BE(r,y)}for(var g=16;g<64;g++){var v=e[g-2],m=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,b=((v=e[g-15])>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;e[g]=(m+e[g-7]|0)+(b+e[g-16]|0)}for(var g=0;g<64;g++){var m=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&f)|0)+(p+(o[g]+e[g]|0)|0)|0,b=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&u^a&c^u&c)|0;p=f,f=d,d=h,h=l+m|0,l=c,c=u,u=a,a=m+b|0}t[0]+=a,t[1]+=u,t[2]+=c,t[3]+=l,t[4]+=h,t[5]+=d,t[6]+=f,t[7]+=p,i+=64,s-=64}return i}t.vp=function(e){var t=new s;t.update(e);var r=t.digest();return t.clean(),r}},13033:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18615),i=r(32583);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var s=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%128<112?128:256;this._buffer[r]=128;for(var s=r+1;s<i-8;s++)this._buffer[s]=0;n.writeUint32BE(t/536870912|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,i),this._finished=!0}for(var s=0;s<this.digestLength/8;s++)n.writeUint32BE(this._stateHi[s],e,8*s),n.writeUint32BE(this._stateLo[s],e,8*s+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=s;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,r,i,s,a,u){for(var c,l,h,d,f,p,g,y,v=r[0],m=r[1],b=r[2],_=r[3],w=r[4],E=r[5],S=r[6],I=r[7],k=i[0],C=i[1],O=i[2],x=i[3],R=i[4],A=i[5],P=i[6],D=i[7];u>=128;){for(var N=0;N<16;N++){var T=8*N+a;e[N]=n.readUint32BE(s,T),t[N]=n.readUint32BE(s,T+4)}for(var N=0;N<80;N++){var M=v,L=m,j=b,B=_,q=w,U=E,F=S,$=I,H=k,z=C,V=O,W=x,K=R,G=A,Q=P,J=D;if(c=I,f=65535&(l=D),p=l>>>16,g=65535&c,y=c>>>16,c=(w>>>14|R<<18)^(w>>>18|R<<14)^(R>>>9|w<<23),f+=65535&(l=(R>>>14|w<<18)^(R>>>18|w<<14)^(w>>>9|R<<23)),p+=l>>>16,g+=65535&c,y+=c>>>16,c=w&E^~w&S,f+=65535&(l=R&A^~R&P),p+=l>>>16,g+=65535&c,y+=c>>>16,c=o[2*N],f+=65535&(l=o[2*N+1]),p+=l>>>16,g+=65535&c,y+=c>>>16,c=e[N%16],f+=65535&(l=t[N%16]),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,h=65535&g|y<<16,d=65535&f|p<<16,c=h,f=65535&(l=d),p=l>>>16,g=65535&c,y=c>>>16,c=(v>>>28|k<<4)^(k>>>2|v<<30)^(k>>>7|v<<25),f+=65535&(l=(k>>>28|v<<4)^(v>>>2|k<<30)^(v>>>7|k<<25)),p+=l>>>16,g+=65535&c,y+=c>>>16,c=v&m^v&b^m&b,f+=65535&(l=k&C^k&O^C&O),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,$=65535&g|y<<16,J=65535&f|p<<16,c=B,f=65535&(l=W),p=l>>>16,g=65535&c,y=c>>>16,c=h,f+=65535&(l=d),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,B=65535&g|y<<16,W=65535&f|p<<16,m=M,b=L,_=j,w=B,E=q,S=U,I=F,v=$,C=H,O=z,x=V,R=W,A=K,P=G,D=Q,k=J,N%16==15)for(var T=0;T<16;T++)c=e[T],f=65535&(l=t[T]),p=l>>>16,g=65535&c,y=c>>>16,c=e[(T+9)%16],f+=65535&(l=t[(T+9)%16]),p+=l>>>16,g+=65535&c,y+=c>>>16,c=((h=e[(T+1)%16])>>>1|(d=t[(T+1)%16])<<31)^(h>>>8|d<<24)^h>>>7,f+=65535&(l=(d>>>1|h<<31)^(d>>>8|h<<24)^(d>>>7|h<<25)),p+=l>>>16,g+=65535&c,y+=c>>>16,c=((h=e[(T+14)%16])>>>19|(d=t[(T+14)%16])<<13)^(d>>>29|h<<3)^h>>>6,f+=65535&(l=(d>>>19|h<<13)^(h>>>29|d<<3)^(d>>>6|h<<26)),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,e[T]=65535&g|y<<16,t[T]=65535&f|p<<16}c=v,f=65535&(l=k),p=l>>>16,g=65535&c,y=c>>>16,c=r[0],f+=65535&(l=i[0]),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[0]=v=65535&g|y<<16,i[0]=k=65535&f|p<<16,c=m,f=65535&(l=C),p=l>>>16,g=65535&c,y=c>>>16,c=r[1],f+=65535&(l=i[1]),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[1]=m=65535&g|y<<16,i[1]=C=65535&f|p<<16,c=b,f=65535&(l=O),p=l>>>16,g=65535&c,y=c>>>16,c=r[2],f+=65535&(l=i[2]),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[2]=b=65535&g|y<<16,i[2]=O=65535&f|p<<16,c=_,f=65535&(l=x),p=l>>>16,g=65535&c,y=c>>>16,c=r[3],f+=65535&(l=i[3]),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[3]=_=65535&g|y<<16,i[3]=x=65535&f|p<<16,c=w,f=65535&(l=R),p=l>>>16,g=65535&c,y=c>>>16,c=r[4],f+=65535&(l=i[4]),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[4]=w=65535&g|y<<16,i[4]=R=65535&f|p<<16,c=E,f=65535&(l=A),p=l>>>16,g=65535&c,y=c>>>16,c=r[5],f+=65535&(l=i[5]),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[5]=E=65535&g|y<<16,i[5]=A=65535&f|p<<16,c=S,f=65535&(l=P),p=l>>>16,g=65535&c,y=c>>>16,c=r[6],f+=65535&(l=i[6]),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[6]=S=65535&g|y<<16,i[6]=P=65535&f|p<<16,c=I,f=65535&(l=D),p=l>>>16,g=65535&c,y=c>>>16,c=r[7],f+=65535&(l=i[7]),p+=l>>>16,g+=65535&c,y+=c>>>16,p+=f>>>16,g+=p>>>16,y+=g>>>16,r[7]=I=65535&g|y<<16,i[7]=D=65535&f|p<<16,a+=128,u-=128}return a}t.hash=function(e){var t=new s;t.update(e);var r=t.digest();return t.clean(),r}},32583:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},89414:function(e,t,r){"use strict";t.gi=t.Au=t.KS=t.kz=void 0;let n=r(24861),i=r(32583);function s(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.kz=32,t.KS=32;let o=new Uint8Array(32);o[0]=9;let a=s([56129,1]);function u(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function c(e,t,r){let n=~(r-1);for(let r=0;r<16;r++){let i=n&(e[r]^t[r]);e[r]^=i,t[r]^=i}}function l(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function h(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function d(e,t,r){let n,i,s=0,o=0,a=0,u=0,c=0,l=0,h=0,d=0,f=0,p=0,g=0,y=0,v=0,m=0,b=0,_=0,w=0,E=0,S=0,I=0,k=0,C=0,O=0,x=0,R=0,A=0,P=0,D=0,N=0,T=0,M=0,L=r[0],j=r[1],B=r[2],q=r[3],U=r[4],F=r[5],$=r[6],H=r[7],z=r[8],V=r[9],W=r[10],K=r[11],G=r[12],Q=r[13],J=r[14],Z=r[15];s+=(n=t[0])*L,o+=n*j,a+=n*B,u+=n*q,c+=n*U,l+=n*F,h+=n*$,d+=n*H,f+=n*z,p+=n*V,g+=n*W,y+=n*K,v+=n*G,m+=n*Q,b+=n*J,_+=n*Z,o+=(n=t[1])*L,a+=n*j,u+=n*B,c+=n*q,l+=n*U,h+=n*F,d+=n*$,f+=n*H,p+=n*z,g+=n*V,y+=n*W,v+=n*K,m+=n*G,b+=n*Q,_+=n*J,w+=n*Z,a+=(n=t[2])*L,u+=n*j,c+=n*B,l+=n*q,h+=n*U,d+=n*F,f+=n*$,p+=n*H,g+=n*z,y+=n*V,v+=n*W,m+=n*K,b+=n*G,_+=n*Q,w+=n*J,E+=n*Z,u+=(n=t[3])*L,c+=n*j,l+=n*B,h+=n*q,d+=n*U,f+=n*F,p+=n*$,g+=n*H,y+=n*z,v+=n*V,m+=n*W,b+=n*K,_+=n*G,w+=n*Q,E+=n*J,S+=n*Z,c+=(n=t[4])*L,l+=n*j,h+=n*B,d+=n*q,f+=n*U,p+=n*F,g+=n*$,y+=n*H,v+=n*z,m+=n*V,b+=n*W,_+=n*K,w+=n*G,E+=n*Q,S+=n*J,I+=n*Z,l+=(n=t[5])*L,h+=n*j,d+=n*B,f+=n*q,p+=n*U,g+=n*F,y+=n*$,v+=n*H,m+=n*z,b+=n*V,_+=n*W,w+=n*K,E+=n*G,S+=n*Q,I+=n*J,k+=n*Z,h+=(n=t[6])*L,d+=n*j,f+=n*B,p+=n*q,g+=n*U,y+=n*F,v+=n*$,m+=n*H,b+=n*z,_+=n*V,w+=n*W,E+=n*K,S+=n*G,I+=n*Q,k+=n*J,C+=n*Z,d+=(n=t[7])*L,f+=n*j,p+=n*B,g+=n*q,y+=n*U,v+=n*F,m+=n*$,b+=n*H,_+=n*z,w+=n*V,E+=n*W,S+=n*K,I+=n*G,k+=n*Q,C+=n*J,O+=n*Z,f+=(n=t[8])*L,p+=n*j,g+=n*B,y+=n*q,v+=n*U,m+=n*F,b+=n*$,_+=n*H,w+=n*z,E+=n*V,S+=n*W,I+=n*K,k+=n*G,C+=n*Q,O+=n*J,x+=n*Z,p+=(n=t[9])*L,g+=n*j,y+=n*B,v+=n*q,m+=n*U,b+=n*F,_+=n*$,w+=n*H,E+=n*z,S+=n*V,I+=n*W,k+=n*K,C+=n*G,O+=n*Q,x+=n*J,R+=n*Z,g+=(n=t[10])*L,y+=n*j,v+=n*B,m+=n*q,b+=n*U,_+=n*F,w+=n*$,E+=n*H,S+=n*z,I+=n*V,k+=n*W,C+=n*K,O+=n*G,x+=n*Q,R+=n*J,A+=n*Z,y+=(n=t[11])*L,v+=n*j,m+=n*B,b+=n*q,_+=n*U,w+=n*F,E+=n*$,S+=n*H,I+=n*z,k+=n*V,C+=n*W,O+=n*K,x+=n*G,R+=n*Q,A+=n*J,P+=n*Z,v+=(n=t[12])*L,m+=n*j,b+=n*B,_+=n*q,w+=n*U,E+=n*F,S+=n*$,I+=n*H,k+=n*z,C+=n*V,O+=n*W,x+=n*K,R+=n*G,A+=n*Q,P+=n*J,D+=n*Z,m+=(n=t[13])*L,b+=n*j,_+=n*B,w+=n*q,E+=n*U,S+=n*F,I+=n*$,k+=n*H,C+=n*z,O+=n*V,x+=n*W,R+=n*K,A+=n*G,P+=n*Q,D+=n*J,N+=n*Z,b+=(n=t[14])*L,_+=n*j,w+=n*B,E+=n*q,S+=n*U,I+=n*F,k+=n*$,C+=n*H,O+=n*z,x+=n*V,R+=n*W,A+=n*K,P+=n*G,D+=n*Q,N+=n*J,T+=n*Z,_+=(n=t[15])*L,w+=n*j,E+=n*B,S+=n*q,I+=n*U,k+=n*F,C+=n*$,O+=n*H,x+=n*z,R+=n*V,A+=n*W,P+=n*K,D+=n*G,N+=n*Q,T+=n*J,M+=n*Z,s+=38*w,o+=38*E,a+=38*S,u+=38*I,c+=38*k,l+=38*C,h+=38*O,d+=38*x,f+=38*R,p+=38*A,g+=38*P,y+=38*D,v+=38*N,m+=38*T,b+=38*M,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=u,e[4]=c,e[5]=l,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=y,e[12]=v,e[13]=m,e[14]=b,e[15]=_}function f(e,t){let r=new Uint8Array(32),n=new Float64Array(80),i=s(),o=s(),f=s(),p=s(),g=s(),y=s();for(let t=0;t<31;t++)r[t]=e[t];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(n,t);for(let e=0;e<16;e++)o[e]=n[e];i[0]=p[0]=1;for(let e=254;e>=0;--e){let t=r[e>>>3]>>>(7&e)&1;c(i,o,t),c(f,p,t),l(g,i,f),h(i,i,f),l(f,o,p),h(o,o,p),d(p,g,g),d(y,i,i),d(i,f,i),d(f,o,g),l(g,i,f),h(i,i,f),d(o,i,i),h(f,p,y),d(i,f,a),l(i,i,p),d(f,f,i),d(i,p,y),d(p,o,n),d(o,g,g),c(i,o,t),c(f,p,t)}for(let e=0;e<16;e++)n[e+16]=i[e],n[e+32]=f[e],n[e+48]=o[e],n[e+64]=p[e];let v=n.subarray(32),m=n.subarray(16);!function(e,t){let r=s();for(let e=0;e<16;e++)r[e]=t[e];for(let e=253;e>=0;e--)d(r,r,r),2!==e&&4!==e&&d(r,r,t);for(let t=0;t<16;t++)e[t]=r[t]}(v,v),d(m,m,v);let b=new Uint8Array(32);return!function(e,t){let r=s(),n=s();for(let e=0;e<16;e++)n[e]=t[e];u(n),u(n),u(n);for(let e=0;e<2;e++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let e=r[15]>>16&1;r[14]&=65535,c(n,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&n[t],e[2*t+1]=n[t]>>8}(b,m),b}t.Au=function(e){let r=(0,n.randomBytes)(32,e),s=function(e){if(e.length!==t.KS)throw Error(`x25519: seed must be ${t.KS} bytes`);let r=new Uint8Array(e);return{publicKey:f(r,o),secretKey:r}}(r);return(0,i.wipe)(r),s},t.gi=function(e,r,n=!1){if(e.length!==t.kz)throw Error("X25519: incorrect secret key length");if(r.length!==t.kz)throw Error("X25519: incorrect public key length");let i=f(e,r);if(n){let e=0;for(let t=0;t<i.length;t++)e|=i[t];if(0===e)throw Error("X25519: invalid shared key")}return i}},39016:function(e,t,r){"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){let e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},56010:function(e,t,r){"use strict";var n=r(25566);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=s,t.isBrowser=function(){return!i()&&!s()}},60092:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(69637);n.__exportStar(r(39016),t),n.__exportStar(r(56010),t)},69637:function(e,t,r){"use strict";r.r(t),r.d(t,{__assign:function(){return s},__asyncDelegator:function(){return _},__asyncGenerator:function(){return b},__asyncValues:function(){return w},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return k},__classPrivateFieldSet:function(){return C},__createBinding:function(){return d},__decorate:function(){return a},__exportStar:function(){return f},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return I},__importStar:function(){return S},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return v},__values:function(){return p}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}u((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof m?Promise.resolve(r.value.v).then(u,c):l(s[0][2],r)}catch(e){l(s[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},5942:function(e,t,r){"use strict";r.d(t,{q:function(){return n}});class n{}},44561:function(e,t,r){"use strict";r.r(t),r.d(t,{IEvents:function(){return n.q}});var n=r(5942)},46699:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEARTBEAT_EVENTS=t.HEARTBEAT_INTERVAL=void 0;let n=r(54574);t.HEARTBEAT_INTERVAL=n.FIVE_SECONDS,t.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},42294:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(22086).__exportStar(r(46699),t)},36172:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeat=void 0;let n=r(22086),i=r(68885),s=r(54574),o=r(89802),a=r(42294);class u extends o.IHeartBeat{constructor(e){super(e),this.events=new i.EventEmitter,this.interval=a.HEARTBEAT_INTERVAL,this.interval=(null==e?void 0:e.interval)||a.HEARTBEAT_INTERVAL}static init(e){return n.__awaiter(this,void 0,void 0,function*(){let t=new u(e);return yield t.init(),t})}init(){return n.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return n.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),s.toMiliseconds(this.interval))})}pulse(){this.events.emit(a.HEARTBEAT_EVENTS.pulse)}}t.HeartBeat=u},83515:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(22086);n.__exportStar(r(36172),t),n.__exportStar(r(89802),t),n.__exportStar(r(42294),t)},99677:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHeartBeat=void 0;let n=r(44561);class i extends n.IEvents{constructor(e){super()}}t.IHeartBeat=i},89802:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(22086).__exportStar(r(99677),t)},22086:function(e,t,r){"use strict";r.r(t),r.d(t,{__assign:function(){return s},__asyncDelegator:function(){return _},__asyncGenerator:function(){return b},__asyncValues:function(){return w},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return k},__classPrivateFieldSet:function(){return C},__createBinding:function(){return d},__decorate:function(){return a},__exportStar:function(){return f},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return I},__importStar:function(){return S},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return v},__values:function(){return p}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}u((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof m?Promise.resolve(r.value.v).then(u,c):l(s[0][2],r)}catch(e){l(s[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},27185:function(e){"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},4242:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PINO_CUSTOM_CONTEXT_KEY=t.PINO_LOGGER_DEFAULTS=void 0,t.PINO_LOGGER_DEFAULTS={level:"info"},t.PINO_CUSTOM_CONTEXT_KEY="custom_context"},19777:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;let n=r(38789),i=n.__importDefault(r(78227));Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return i.default}}),n.__exportStar(r(4242),t),n.__exportStar(r(60206),t)},60206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateChildLogger=t.formatChildLoggerContext=t.getLoggerContext=t.setBrowserLoggerContext=t.getBrowserLoggerContext=t.getDefaultLoggerOptions=void 0;let n=r(4242);function i(e,t=n.PINO_CUSTOM_CONTEXT_KEY){return e[t]||""}function s(e,t,r=n.PINO_CUSTOM_CONTEXT_KEY){return e[r]=t,e}function o(e,t=n.PINO_CUSTOM_CONTEXT_KEY){return void 0===e.bindings?i(e,t):e.bindings().context||""}function a(e,t,r=n.PINO_CUSTOM_CONTEXT_KEY){let i=o(e,r);return i.trim()?`${i}/${t}`:t}t.getDefaultLoggerOptions=function(e){return Object.assign(Object.assign({},e),{level:(null==e?void 0:e.level)||n.PINO_LOGGER_DEFAULTS.level})},t.getBrowserLoggerContext=i,t.setBrowserLoggerContext=s,t.getLoggerContext=o,t.formatChildLoggerContext=a,t.generateChildLogger=function(e,t,r=n.PINO_CUSTOM_CONTEXT_KEY){let i=a(e,t,r);return s(e.child({context:i}),i,r)}},38789:function(e,t,r){"use strict";r.r(t),r.d(t,{__assign:function(){return s},__asyncDelegator:function(){return _},__asyncGenerator:function(){return b},__asyncValues:function(){return w},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return k},__classPrivateFieldSet:function(){return C},__createBinding:function(){return d},__decorate:function(){return a},__exportStar:function(){return f},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return I},__importStar:function(){return S},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return v},__values:function(){return p}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}u((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof m?Promise.resolve(r.value.v).then(u,c):l(s[0][2],r)}catch(e){l(s[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},10296:function(){},77726:function(){},71851:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(24011);n.__exportStar(r(47036),t),n.__exportStar(r(62703),t)},47036:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},62703:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},54574:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(24011);n.__exportStar(r(91268),t),n.__exportStar(r(32674),t),n.__exportStar(r(79165),t),n.__exportStar(r(71851),t)},79165:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(24011).__exportStar(r(34760),t)},34760:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;class r{}t.IWatch=r},25115:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let n=r(71851);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},23396:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},91268:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(24011);n.__exportStar(r(23396),t),n.__exportStar(r(25115),t)},32674:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},24011:function(e,t,r){"use strict";r.r(t),r.d(t,{__assign:function(){return s},__asyncDelegator:function(){return _},__asyncGenerator:function(){return b},__asyncValues:function(){return w},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return k},__classPrivateFieldSet:function(){return C},__createBinding:function(){return d},__decorate:function(){return a},__exportStar:function(){return f},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return I},__importStar:function(){return S},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return v},__values:function(){return p}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}u((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof m?Promise.resolve(r.value.v).then(u,c):l(s[0][2],r)}catch(e){l(s[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},25527:function(e,t){"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},70053:function(e,t,r){"use strict";t.D=void 0;let n=r(25527);t.D=function(){let e,t,r;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(e){return null}function i(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let n=r[e],i=["itemprop","property","name"].map(e=>n.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){let e=n.getAttribute("content");if(e)return e}}return""}let s=((r=i("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),o=i("description","og:description","twitter:description","keywords");return{description:o,url:t.origin,icons:function(){let r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){let i=r[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){let e=i.getAttribute("href");if(e){if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let n=t.pathname.split("/");n.pop(),r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;n.push(r)}else n.push(e)}}}return n}(),name:s}}},40168:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11735),i=r(29174),s=function(){function e(){this._semaphore=new i.default(1)}return e.prototype.acquire=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,e.sent()[1]]}})})},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();t.default=s},29174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11735),i=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise(function(t){return e._queue.push(t)});return t||this._dispatch(),r},e.prototype.runExclusive=function(e){return n.__awaiter(this,void 0,void 0,function(){var t,r,i;return n.__generator(this,function(n){switch(n.label){case 0:return[4,this.acquire()];case 1:r=(t=n.sent())[0],i=t[1],n.label=2;case 2:return n.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,n.sent()];case 4:return i(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},e}();t.default=i},49715:function(e,t,r){"use strict";t.WU=void 0;var n=r(40168);Object.defineProperty(t,"WU",{enumerable:!0,get:function(){return n.default}}),r(29174),r(49571)},49571:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=void 0;var n=r(11735);t.withTimeout=function(e,t,r){var i=this;return void 0===r&&(r=Error("timeout")),{acquire:function(){return new Promise(function(s,o){return n.__awaiter(i,void 0,void 0,function(){var i,a;return n.__generator(this,function(n){switch(n.label){case 0:return i=!1,setTimeout(function(){i=!0,o(r)},t),[4,e.acquire()];case 1:return a=n.sent(),i?(Array.isArray(a)?a[1]:a)():s(a),[2]}})})})},runExclusive:function(e){return n.__awaiter(this,void 0,void 0,function(){var t,r;return n.__generator(this,function(n){switch(n.label){case 0:t=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:if(!Array.isArray(r=n.sent()))return[3,4];return t=r[1],[4,e(r[0])];case 3:case 5:return[2,n.sent()];case 4:return t=r,[4,e()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}},10875:function(e,t,r){"use strict";function n(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n);else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(n&&(n+=" "),n+=t);return n}r.r(t),r.d(t,{clsx:function(){return n}}),t.default=n},55151:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();(function(e){var t={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=l(t);return t.readAsArrayBuffer(e),r}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var r;t.arrayBuffer&&t.blob&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,r,n=c(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=l(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=o(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=o(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),a(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),a(e)},t.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r,n,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new u(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),p.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},f.call(g.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];v.redirect=function(e,t){if(-1===m.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function b(r,n){return new Promise(function(i,s){var o=new g(r,n);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL"),i(new v("response"in a?a.response:a.responseText,r))},a.onerror=function(){s(TypeError("Network request failed"))},a.ontimeout=function(){s(TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}b.polyfill=!0,n.fetch||(n.fetch=b,n.Headers=u,n.Request=g,n.Response=v),e.Headers=u,e.Request=g,e.Response=v,e.fetch=b,Object.defineProperty(e,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},52706:function(e){function t(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}e.exports=function(e,r){r=r||{};var n,i,s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===s&&isFinite(e))return r.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(i=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":i>=36e5?Math.round(e/36e5)+"h":i>=6e4?Math.round(e/6e4)+"m":i>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},55022:function(e,t,r){let n;var i=r(25566);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e},t.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(n=!1,()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(11810)(t);let{formatters:s}=e.exports;s.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},11810:function(e,t,r){e.exports=function(e){function t(e){let r,i,s;let o=null;function a(...e){if(!a.enabled)return;let n=Number(new Date),i=n-(r||n);a.diff=i,a.prev=r,a.curr=n,r=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";s++;let i=t.formatters[n];if("function"==typeof i){let t=e[s];r=i.call(a,t),e.splice(s,1),s--}return r}),t.formatArgs.call(a,e),(a.log||t.log).apply(a,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){let n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let r,n;if("*"===e[e.length-1])return!0;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(52706),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},56368:function(e){"use strict";var t="%[a-f0-9]{2}",r=RegExp("("+t+")|([^%]+?)","gi"),n=RegExp("("+t+")+","gi");e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},i=n.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(e){var s=function(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=(function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch(e){}if(1===t.length)return t;r=r||1;var n=t.slice(0,r),i=t.slice(r);return Array.prototype.concat.call([],e(n),e(i))})(t,n).join("")).match(r)||[];return e}}(i[0]);s!==i[0]&&(t[i[0]]=s)}i=n.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),a=0;a<o.length;a++){var u=o[a];e=e.replace(RegExp(u,"g"),t[u])}return e}(e)}}},93286:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBlockTracker=void 0;let i=n(r(96817)),s=(e,t)=>e+t,o=["sync","latest"];class a extends i.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._usePastBlocks=e.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(e=>this.once("latest",e))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){o.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return o.map(e=>this.listenerCount(e)).reduce(s)}_shouldUseNewBlock(e){let t=this._currentBlock;if(!t)return!0;let r=u(e),n=u(t);return this._usePastBlocks&&r<n||r>n}_newPotentialLatest(e){this._shouldUseNewBlock(e)&&this._setCurrentBlock(e)}_setCurrentBlock(e){let t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}function u(e){return Number.parseInt(e,16)}t.BaseBlockTracker=a},48739:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PollingBlockTracker=void 0;let i=n(r(8728)),s=n(r(50167)),o=r(93286),a=r(75542),u=(0,a.createModuleLogger)(a.projectLogger,"polling-block-tracker"),c=(0,i.default)();class l extends o.BaseBlockTracker{constructor(e={}){var t;if(!e.provider)throw Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},e),{blockResetDuration:null!==(t=e.blockResetDuration)&&void 0!==t?t:e.pollingInterval})),this._provider=e.provider,this._pollingInterval=e.pollingInterval||2e4,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=void 0===e.keepEventLoopActive||e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();let e=h(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await e}catch(n){let t=Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${null!==(e=n.stack)&&void 0!==e?e:n}`);try{this.emit("error",t)}catch(e){console.error(t)}let r=h(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}}async _updateLatestBlock(){let e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){let e={jsonrpc:"2.0",id:c(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),u("Making request",e);let t=await (0,s.default)(t=>this._provider.sendAsync(e,t))();if(u("Got response",t),t.error)throw Error(`PollingBlockTracker - encountered error fetching block:
${t.error.message}`);return t.result}}function h(e,t){return new Promise(r=>{let n=setTimeout(r,e);n.unref&&t&&n.unref()})}t.PollingBlockTracker=l},70652:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeBlockTracker=void 0;let i=n(r(8728)),s=r(93286),o=(0,i.default)();class a extends s.BaseBlockTracker{constructor(e={}){if(!e.provider)throw Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(void 0===this._subscriptionId||null===this._subscriptionId)try{let e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(null!==this._subscriptionId&&void 0!==this._subscriptionId)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...t){return new Promise((r,n)=>{this._provider.sendAsync({id:o(),method:e,params:t,jsonrpc:"2.0"},(e,t)=>{e?n(e):r(t.result)})})}_handleSubData(e,t){var r;"eth_subscription"===t.method&&(null===(r=t.params)||void 0===r?void 0:r.subscription)===this._subscriptionId&&this._newPotentialLatest(t.params.result.number)}}t.SubscribeBlockTracker=a},15951:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(48739),t),i(r(70652),t)},75542:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;let n=r(5288);Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),t.projectLogger=(0,n.createProjectLogger)("eth-block-tracker")},8922:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertExhaustive=t.assertStruct=t.assert=t.AssertionError=void 0;let n=r(66517);function i(e,t){var r,n;return"string"==typeof(null===(n=null===(r=null==e?void 0:e.prototype)||void 0===r?void 0:r.constructor)||void 0===n?void 0:n.name)?new e({message:t}):e({message:t})}class s extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}t.AssertionError=s,t.assert=function(e,t="Assertion failed.",r=s){if(!e){if(t instanceof Error)throw t;throw i(r,t)}},t.assertStruct=function(e,t,r="Assertion failed",o=s){try{(0,n.assert)(e,t)}catch(e){throw i(o,`${r}: ${function(e){let t="object"==typeof e&&null!==e&&"message"in e?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},t.assertExhaustive=function(e){throw Error("Invalid branch reached. Should be detected during compilation.")}},52325:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64=void 0;let n=r(66517),i=r(8922);t.base64=(e,t={})=>{var r,s;let o,a;let u=null!==(r=t.paddingRequired)&&void 0!==r&&r,c=null!==(s=t.characterSet)&&void 0!==s?s:"base64";return"base64"===c?o=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===c),o=String.raw`[-_A-Za-z0-9]`),a=u?RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,n.pattern)(e,a)}},39429:function(e,t,r){"use strict";var n=r(9109).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createDataView=t.concatBytes=t.valueToBytes=t.stringToBytes=t.numberToBytes=t.signedBigIntToBytes=t.bigIntToBytes=t.hexToBytes=t.bytesToString=t.bytesToNumber=t.bytesToSignedBigInt=t.bytesToBigInt=t.bytesToHex=t.assertIsBytes=t.isBytes=void 0;let i=r(8922),s=r(45940),o=function(){let e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function a(e){return e instanceof Uint8Array}function u(e){(0,i.assert)(a(e),"Value must be a Uint8Array.")}function c(e){if(u(e),0===e.length)return"0x";let t=o(),r=Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,s.add0x)(r.join(""))}function l(e){return u(e),BigInt(c(e))}function h(e){var t;if((null===(t=null==e?void 0:e.toLowerCase)||void 0===t?void 0:t.call(e))==="0x")return new Uint8Array;(0,s.assertIsHexString)(e);let r=(0,s.remove0x)(e).toLowerCase(),n=r.length%2==0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let e=0;e<i.length;e++){let t=n.charCodeAt(2*e),r=n.charCodeAt(2*e+1),s=t-(t<58?48:87),o=r-(r<58?48:87);i[e]=16*s+o}return i}function d(e){return(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)(e>=BigInt(0),"Value must be a non-negative bigint."),h(e.toString(16))}function f(e){return(0,i.assert)("number"==typeof e,"Value must be a number."),(0,i.assert)(e>=0,"Value must be a non-negative number."),(0,i.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead."),h(e.toString(16))}function p(e){return(0,i.assert)("string"==typeof e,"Value must be a string."),new TextEncoder().encode(e)}function g(e){if("bigint"==typeof e)return d(e);if("number"==typeof e)return f(e);if("string"==typeof e)return e.startsWith("0x")?h(e):p(e);if(a(e))return e;throw TypeError(`Unsupported value type: "${typeof e}".`)}t.isBytes=a,t.assertIsBytes=u,t.bytesToHex=c,t.bytesToBigInt=l,t.bytesToSignedBigInt=function(e){u(e);let t=BigInt(0);for(let r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},t.bytesToNumber=function(e){u(e);let t=l(e);return(0,i.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},t.bytesToString=function(e){return u(e),new TextDecoder().decode(e)},t.hexToBytes=h,t.bigIntToBytes=d,t.signedBigIntToBytes=function(e,t){(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)("number"==typeof t,"Byte length must be a number."),(0,i.assert)(t>0,"Byte length must be greater than 0."),(0,i.assert)(function(e,t){(0,i.assert)(t>0);let r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t+-1))}(e,t),"Byte length is too small to represent the given value.");let r=e,n=new Uint8Array(t);for(let e=0;e<n.length;e++)n[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()},t.numberToBytes=f,t.stringToBytes=p,t.valueToBytes=g,t.concatBytes=function(e){let t=Array(e.length),r=0;for(let n=0;n<e.length;n++){let i=g(e[n]);t[n]=i,r+=i.length}let n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},t.createDataView=function(e){return void 0!==n&&e instanceof n?new DataView(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)):new DataView(e.buffer,e.byteOffset,e.byteLength)}},43694:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChecksumStruct=void 0;let n=r(66517),i=r(52325);t.ChecksumStruct=(0,n.size)((0,i.base64)((0,n.string)(),{paddingRequired:!0}),44,44)},33273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHex=t.createBytes=t.createBigInt=t.createNumber=void 0;let n=r(66517),i=r(8922),s=r(39429),o=r(45940),a=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),o.StrictHexStruct]),u=(0,n.coerce)((0,n.number)(),a,Number),c=(0,n.coerce)((0,n.bigint)(),a,BigInt);(0,n.union)([o.StrictHexStruct,(0,n.instance)(Uint8Array)]);let l=(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([o.StrictHexStruct]),s.hexToBytes),h=(0,n.coerce)(o.StrictHexStruct,(0,n.instance)(Uint8Array),s.bytesToHex);t.createNumber=function(e){try{let t=(0,n.create)(e,u);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw Error(`Expected a number-like value, got "${e}".`);throw t}},t.createBigInt=function(e){try{return(0,n.create)(e,c)}catch(e){if(e instanceof n.StructError)throw Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},t.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},t.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,h)}catch(e){if(e instanceof n.StructError)throw Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}},94539:function(e,t){"use strict";var r,n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.FrozenSet=t.FrozenMap=void 0;class o{constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}get size(){return s(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return s(this,r,"f")[Symbol.iterator]()}entries(){return s(this,r,"f").entries()}forEach(e,t){return s(this,r,"f").forEach((r,n,i)=>e.call(t,r,n,this))}get(e){return s(this,r,"f").get(e)}has(e){return s(this,r,"f").has(e)}keys(){return s(this,r,"f").keys()}values(){return s(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}}t.FrozenMap=o;class a{constructor(e){n.set(this,void 0),i(this,n,new Set(e),"f"),Object.freeze(this)}get size(){return s(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return s(this,n,"f")[Symbol.iterator]()}entries(){return s(this,n,"f").entries()}forEach(e,t){return s(this,n,"f").forEach((r,n,i)=>e.call(t,r,n,this))}has(e){return s(this,n,"f").has(e)}keys(){return s(this,n,"f").keys()}values(){return s(this,n,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}t.FrozenSet=a,Object.freeze(o),Object.freeze(o.prototype),Object.freeze(a),Object.freeze(a.prototype)},29538:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},45940:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;let n=r(66517),i=r(8922);function s(e){return(0,n.is)(e,t.HexStruct)}function o(e){return(0,n.is)(e,t.StrictHexStruct)}t.HexStruct=(0,n.pattern)((0,n.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-f]+$/iu),t.isHexString=s,t.isStrictHexString=o,t.assertIsHexString=function(e){(0,i.assert)(s(e),"Value must be a hexadecimal string.")},t.assertIsStrictHexString=function(e){(0,i.assert)(o(e),'Value must be a hexadecimal string, starting with "0x".')},t.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},t.remove0x=function(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}},5288:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8922),t),i(r(52325),t),i(r(39429),t),i(r(43694),t),i(r(33273),t),i(r(94539),t),i(r(29538),t),i(r(45940),t),i(r(5842),t),i(r(88813),t),i(r(27661),t),i(r(77241),t),i(r(15373),t),i(r(40476),t),i(r(84682),t),i(r(54650),t),i(r(34432),t)},5842:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.getJsonSize=t.isValidJson=t.JsonStruct=t.UnsafeJsonStruct=void 0;let n=r(66517),i=r(8922);t.UnsafeJsonStruct=(0,n.union)([(0,n.literal)(null),(0,n.boolean)(),(0,n.define)("finite number",e=>(0,n.is)(e,(0,n.number)())&&Number.isFinite(e)),(0,n.string)(),(0,n.array)((0,n.lazy)(()=>t.UnsafeJsonStruct)),(0,n.record)((0,n.string)(),(0,n.lazy)(()=>t.UnsafeJsonStruct))]),t.JsonStruct=(0,n.define)("Json",(e,r)=>{function n(e,t){let n=[...t.validator(e,r)];return!(n.length>0)||n}try{let r=n(e,t.UnsafeJsonStruct);if(!0!==r)return r;return n(JSON.parse(JSON.stringify(e)),t.UnsafeJsonStruct)}catch(e){if(e instanceof RangeError)return"Circular reference detected";return!1}}),t.isValidJson=function(e){return(0,n.is)(e,t.JsonStruct)},t.getJsonSize=function(e){(0,i.assertStruct)(e,t.JsonStruct,"Invalid JSON value");let r=JSON.stringify(e);return new TextEncoder().encode(r).byteLength},t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,n.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),t.JsonRpcErrorStruct=(0,n.object)({code:(0,n.integer)(),message:(0,n.string)(),data:(0,n.optional)(t.JsonStruct),stack:(0,n.optional)((0,n.string)())}),t.JsonRpcParamsStruct=(0,n.optional)((0,n.union)([(0,n.record)((0,n.string)(),t.JsonStruct),(0,n.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,n.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,n.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,n.omit)(t.JsonRpcRequestStruct,["id"]),t.isJsonRpcNotification=function(e){return(0,n.is)(e,t.JsonRpcNotificationStruct)},t.assertIsJsonRpcNotification=function(e,r){(0,i.assertStruct)(e,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",r)},t.isJsonRpcRequest=function(e){return(0,n.is)(e,t.JsonRpcRequestStruct)},t.assertIsJsonRpcRequest=function(e,r){(0,i.assertStruct)(e,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",r)},t.PendingJsonRpcResponseStruct=(0,n.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,n.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,n.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,n.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]),t.isPendingJsonRpcResponse=function(e){return(0,n.is)(e,t.PendingJsonRpcResponseStruct)},t.assertIsPendingJsonRpcResponse=function(e,r){(0,i.assertStruct)(e,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",r)},t.isJsonRpcResponse=function(e){return(0,n.is)(e,t.JsonRpcResponseStruct)},t.assertIsJsonRpcResponse=function(e,r){(0,i.assertStruct)(e,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",r)},t.isJsonRpcSuccess=function(e){return(0,n.is)(e,t.JsonRpcSuccessStruct)},t.assertIsJsonRpcSuccess=function(e,r){(0,i.assertStruct)(e,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",r)},t.isJsonRpcFailure=function(e){return(0,n.is)(e,t.JsonRpcFailureStruct)},t.assertIsJsonRpcFailure=function(e,r){(0,i.assertStruct)(e,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",r)},t.isJsonRpcError=function(e){return(0,n.is)(e,t.JsonRpcErrorStruct)},t.assertIsJsonRpcError=function(e,r){(0,i.assertStruct)(e,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",r)},t.getJsonRpcIdValidator=function(e){let{permitEmptyString:t,permitFractions:r,permitNull:n}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},e);return e=>!!("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}},88813:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},27661:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.createProjectLogger=void 0;let i=(0,n(r(55022)).default)("metamask");t.createProjectLogger=function(e){return i.extend(e)},t.createModuleLogger=function(e,t){return e.extend(t)}},77241:function(e,t){"use strict";var r;function n(e){return 127>=e.charCodeAt(0)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0,t.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},t.isNullOrUndefined=function(e){return null==e},t.isObject=function(e){return!!e&&"object"==typeof e&&!Array.isArray(e)},t.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),(r=t.JsonSize||(t.JsonSize={}))[r.Null=4]="Null",r[r.Comma=1]="Comma",r[r.Wrapper=1]="Wrapper",r[r.True=4]="True",r[r.False=5]="False",r[r.Quote=1]="Quote",r[r.Colon=1]="Colon",r[r.Date=24]="Date",t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,t.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},t.isASCII=n,t.calculateStringSize=function(e){var r;return e.split("").reduce((e,t)=>n(t)?e+1:e+2,0)+(null!==(r=e.match(t.ESCAPE_CHARACTERS_REGEXP))&&void 0!==r?r:[]).length},t.calculateNumberSize=function(e){return e.toString().length}},15373:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBigInt=t.hexToNumber=t.bigIntToHex=t.numberToHex=void 0;let n=r(8922),i=r(45940);t.numberToHex=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16))),t.bigIntToHex=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16))),t.hexToNumber=e=>{(0,i.assertIsHexString)(e);let t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},t.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))},40476:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},84682:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,(r=t.Duration||(t.Duration={}))[r.Millisecond=1]="Millisecond",r[r.Second=1e3]="Second",r[r.Minute=6e4]="Minute",r[r.Hour=36e5]="Hour",r[r.Day=864e5]="Day",r[r.Week=6048e5]="Week",r[r.Year=31536e6]="Year";let n=e=>Number.isInteger(e)&&e>=0,i=(e,t)=>{if(!n(e))throw Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};t.inMilliseconds=function(e,t){return i(e,"count"),e*t},t.timeSince=function(e){return i(e,"timestamp"),Date.now()-e}},54650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},34432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;let n=r(29793),i=r(66517),s=r(8922);t.VersionStruct=(0,i.refine)((0,i.string)(),"Version",e=>null!==(0,n.valid)(e)||`Expected SemVer version, got "${e}"`),t.VersionRangeStruct=(0,i.refine)((0,i.string)(),"Version range",e=>null!==(0,n.validRange)(e)||`Expected SemVer range, got "${e}"`),t.isValidSemVerVersion=function(e){return(0,i.is)(e,t.VersionStruct)},t.isValidSemVerRange=function(e){return(0,i.is)(e,t.VersionRangeStruct)},t.assertIsSemVerVersion=function(e){(0,s.assertStruct)(e,t.VersionStruct)},t.assertIsSemVerRange=function(e){(0,s.assertStruct)(e,t.VersionRangeStruct)},t.gtVersion=function(e,t){return(0,n.gt)(e,t)},t.gtRange=function(e,t){return(0,n.gtr)(e,t)},t.satisfiesVersionRange=function(e,t){return(0,n.satisfies)(e,t,{includePrerelease:!0})}},99839:function(e,t,r){"use strict";let n=r(95140),i=Symbol("max"),s=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),h=Symbol("lruList"),d=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=()=>1;class g{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[i]=e.max||1/0;let t=e.length||p;if(this[o]="function"!=typeof t?p:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[i]=e||1/0,m(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[u]=e,m(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[o]&&(this[o]=e,this[s]=0,this[h].forEach(e=>{e.length=this[o](e.value,e.key),this[s]+=e.length})),m(this)}get lengthCalculator(){return this[o]}get length(){return this[s]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let r=this[h].tail;null!==r;){let n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[h].head;null!==r;){let n=r.next;w(this,e,r,t),r=n}}keys(){return this[h].toArray().map(e=>e.key)}values(){return this[h].toArray().map(e=>e.value)}reset(){this[c]&&this[h]&&this[h].length&&this[h].forEach(e=>this[c](e.key,e.value)),this[d]=new Map,this[h]=new n,this[s]=0}dump(){return this[h].map(e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[h]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,a=this[o](t,e);if(this[d].has(e)){if(a>this[i])return b(this,this[d].get(e)),!1;let o=this[d].get(e).value;return this[c]&&!this[l]&&this[c](e,o.value),o.now=n,o.maxAge=r,o.value=t,this[s]+=a-o.length,o.length=a,this.get(e),m(this),!0}let f=new _(e,t,a,n,r);return f.length>this[i]?(this[c]&&this[c](e,t),!1):(this[s]+=f.length,this[h].unshift(f),this[d].set(e,this[h].head),m(this),!0)}has(e){return!!this[d].has(e)&&!v(this,this[d].get(e).value)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){let e=this[h].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[d].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{let e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach((e,t)=>y(this,t,!1))}}let y=(e,t,r)=>{let n=e[d].get(t);if(n){let t=n.value;if(v(e,t)){if(b(e,n),!e[a])return}else r&&(e[f]&&(n.value.now=Date.now()),e[h].unshiftNode(n));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},m=e=>{if(e[s]>e[i])for(let t=e[h].tail;e[s]>e[i]&&null!==t;){let r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){let r=t.value;e[c]&&e[c](r.key,r.value),e[s]-=r.length,e[d].delete(r.key),e[h].removeNode(t)}};class _{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}let w=(e,t,r,n)=>{let i=r.value;v(e,i)&&(b(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=g},50167:function(e){"use strict";let t=(e,t)=>function(){let r=t.promiseModule,n=Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r((r,i)=>{t.errorFirst?n.push(function(e,n){if(t.multiArgs){let t=Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),i(t)):r(t)}else e?i(e):r(n)}):n.push(function(e){if(t.multiArgs){let e=Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)}),e.apply(this,n)})};e.exports=(e,r)=>{let n;r=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);let i=e=>{let t=t=>"string"==typeof t?e===t:t.test(e);return r.include?r.include.some(t):!r.exclude.some(t)};for(let s in n="function"==typeof e?function(){return r.excludeMain?e.apply(this,arguments):t(e,r).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e)),e){let o=e[s];n[s]="function"==typeof o&&i(s)?t(o,r):o}return n}},8909:function(e,t,r){let n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof i){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new l(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||u(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||u(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=i;let s=r(1330),{safeRe:o,t:a}=r(63461),u=r(26868),c=r(93594),l=r(19920),h=r(30527)},30527:function(e,t,r){class n{constructor(e,t){if(t=s(t),e instanceof n){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new n(e.raw,t)}if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&p)|(this.options.loose&&g))+":"+e,r=i.get(t);if(r)return r;let n=this.options.loose,s=n?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];a("hyphen replace",e=e.replace(s,R(this.options.includePrerelease))),a("comparator trim",e=e.replace(c[l.COMPARATORTRIM],h)),a("tilde trim",e=e.replace(c[l.TILDETRIM],d)),a("caret trim",e=e.replace(c[l.CARETTRIM],f));let u=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>x(e,this.options));n&&(u=u.filter(e=>(a("loose invalid filter",e,this.options),!!e.match(c[l.COMPARATORLOOSE])))),a("range list",u);let v=new Map;for(let e of u.map(e=>new o(e,this.options))){if(y(e))return[e];v.set(e.value,e)}v.size>1&&v.has("")&&v.delete("");let m=[...v.values()];return i.set(t,m),m}intersects(e,t){if(!(e instanceof n))throw TypeError("a Range is required");return this.set.some(r=>m(r,t)&&e.set.some(e=>m(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}e.exports=n;let i=new(r(99839))({max:1e3}),s=r(1330),o=r(8909),a=r(93594),u=r(19920),{safeRe:c,t:l,comparatorTrimReplace:h,tildeTrimReplace:d,caretTrimReplace:f}=r(63461),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:g}=r(495),y=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,m=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(e=>i.intersects(e,t)),i=n.pop();return r},b=(e,t)=>(a("comp",e,t),a("caret",e=S(e,t)),a("tildes",e=w(e,t)),a("xrange",e=k(e,t)),a("stars",e=O(e,t)),e),_=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map(e=>E(e,t)).join(" "),E=(e,t)=>{let r=t.loose?c[l.TILDELOOSE]:c[l.TILDE];return e.replace(r,(t,r,n,i,s)=>{let o;return a("tilde",e,t,r,n,i,s),_(r)?o="":_(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:_(i)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(a("replaceTilde pr",s),o=`>=${r}.${n}.${i}-${s} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,a("tilde return",o),o})},S=(e,t)=>e.trim().split(/\s+/).map(e=>I(e,t)).join(" "),I=(e,t)=>{a("caret",e,t);let r=t.loose?c[l.CARETLOOSE]:c[l.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,i,s,o)=>{let u;return a("caret",e,t,r,i,s,o),_(r)?u="":_(i)?u=`>=${r}.0.0${n} <${+r+1}.0.0-0`:_(s)?u="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:o?(a("replaceCaret pr",o),u="0"===r?"0"===i?`>=${r}.${i}.${s}-${o} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}-${o} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s}-${o} <${+r+1}.0.0-0`):(a("no pr"),u="0"===r?"0"===i?`>=${r}.${i}.${s}${n} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s} <${+r+1}.0.0-0`),a("caret return",u),u})},k=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();let r=t.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return e.replace(r,(r,n,i,s,o,u)=>{a("xRange",e,r,n,i,s,o,u);let c=_(i),l=c||_(s),h=l||_(o);return"="===n&&h&&(n=""),u=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(l&&(s=0),o=0,">"===n?(n=">=",l?(i=+i+1,s=0):s=+s+1,o=0):"<="===n&&(n="<",l?i=+i+1:s=+s+1),"<"===n&&(u="-0"),r=`${n+i}.${s}.${o}${u}`):l?r=`>=${i}.0.0${u} <${+i+1}.0.0-0`:h&&(r=`>=${i}.${s}.0${u} <${i}.${+s+1}.0-0`),a("xRange return",r),r})},O=(e,t)=>(a("replaceStars",e,t),e.trim().replace(c[l.STAR],"")),x=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),R=e=>(t,r,n,i,s,o,a,u,c,l,h,d,f)=>(r=_(n)?"":_(i)?`>=${n}.0.0${e?"-0":""}`:_(s)?`>=${n}.${i}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`,u=_(c)?"":_(l)?`<${+c+1}.0.0-0`:_(h)?`<${c}.${+l+1}.0-0`:d?`<=${c}.${l}.${h}-${d}`:e?`<${c}.${l}.${+h+1}-0`:`<=${u}`,`${r} ${u}`.trim()),A=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==o.ANY&&e[r].semver.prerelease.length>0){let n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},19920:function(e,t,r){let n=r(93594),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=r(495),{safeRe:o,t:a}=r(63461),u=r(1330),{compareIdentifiers:c}=r(19365);class l{constructor(e,t){if(t=u(t),e instanceof l){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<s)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return c(r,i)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{let r=this.build[t],i=e.build[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return c(r,i)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(r)?1:0;if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=l},22431:function(e,t,r){let n=r(64993);e.exports=(e,t)=>{let r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},26868:function(e,t,r){let n=r(65801),i=r(84979),s=r(31545),o=r(81073),a=r(4247),u=r(37945);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return i(e,r,c);case">":return s(e,r,c);case">=":return o(e,r,c);case"<":return a(e,r,c);case"<=":return u(e,r,c);default:throw TypeError(`Invalid operator: ${t}`)}}},19033:function(e,t,r){let n=r(19920),i=r(64993),{safeRe:s,t:o}=r(63461);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=s[o.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),s[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;s[o.COERCERTL].lastIndex=-1}else r=e.match(s[o.COERCE]);return null===r?null:i(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},95301:function(e,t,r){let n=r(19920);e.exports=(e,t,r)=>{let i=new n(e,r),s=new n(t,r);return i.compare(s)||i.compareBuild(s)}},34980:function(e,t,r){let n=r(78103);e.exports=(e,t)=>n(e,t,!0)},78103:function(e,t,r){let n=r(19920);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},60111:function(e,t,r){let n=r(64993);e.exports=(e,t)=>{let r=n(e,null,!0),i=n(t,null,!0),s=r.compare(i);if(0===s)return null;let o=s>0,a=o?r:i,u=o?i:r,c=!!a.prerelease.length;if(u.prerelease.length&&!c)return u.patch||u.minor?a.patch?"patch":a.minor?"minor":"major":"major";let l=c?"pre":"";return r.major!==i.major?l+"major":r.minor!==i.minor?l+"minor":r.patch!==i.patch?l+"patch":"prerelease"}},65801:function(e,t,r){let n=r(78103);e.exports=(e,t,r)=>0===n(e,t,r)},31545:function(e,t,r){let n=r(78103);e.exports=(e,t,r)=>n(e,t,r)>0},81073:function(e,t,r){let n=r(78103);e.exports=(e,t,r)=>n(e,t,r)>=0},92989:function(e,t,r){let n=r(19920);e.exports=(e,t,r,i,s)=>{"string"==typeof r&&(s=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,s).version}catch(e){return null}}},4247:function(e,t,r){let n=r(78103);e.exports=(e,t,r)=>0>n(e,t,r)},37945:function(e,t,r){let n=r(78103);e.exports=(e,t,r)=>0>=n(e,t,r)},54481:function(e,t,r){let n=r(19920);e.exports=(e,t)=>new n(e,t).major},94851:function(e,t,r){let n=r(19920);e.exports=(e,t)=>new n(e,t).minor},84979:function(e,t,r){let n=r(78103);e.exports=(e,t,r)=>0!==n(e,t,r)},64993:function(e,t,r){let n=r(19920);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},62668:function(e,t,r){let n=r(19920);e.exports=(e,t)=>new n(e,t).patch},40467:function(e,t,r){let n=r(64993);e.exports=(e,t)=>{let r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},94864:function(e,t,r){let n=r(78103);e.exports=(e,t,r)=>n(t,e,r)},28142:function(e,t,r){let n=r(95301);e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},8085:function(e,t,r){let n=r(30527);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},92262:function(e,t,r){let n=r(95301);e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},24333:function(e,t,r){let n=r(64993);e.exports=(e,t)=>{let r=n(e,t);return r?r.version:null}},29793:function(e,t,r){let n=r(63461),i=r(495),s=r(19920),o=r(19365),a=r(64993),u=r(24333),c=r(22431),l=r(92989),h=r(60111),d=r(54481),f=r(94851),p=r(62668),g=r(40467),y=r(78103),v=r(94864),m=r(34980),b=r(95301),_=r(92262),w=r(28142),E=r(31545),S=r(4247),I=r(65801),k=r(84979),C=r(81073),O=r(37945),x=r(26868),R=r(19033),A=r(8909),P=r(30527),D=r(8085),N=r(15321),T=r(47516),M=r(30080),L=r(66170),j=r(59335),B=r(76032),q=r(60427),U=r(97455),F=r(80754),$=r(26968),H=r(88859);e.exports={parse:a,valid:u,clean:c,inc:l,diff:h,major:d,minor:f,patch:p,prerelease:g,compare:y,rcompare:v,compareLoose:m,compareBuild:b,sort:_,rsort:w,gt:E,lt:S,eq:I,neq:k,gte:C,lte:O,cmp:x,coerce:R,Comparator:A,Range:P,satisfies:D,toComparators:N,maxSatisfying:T,minSatisfying:M,minVersion:L,validRange:j,outside:B,gtr:q,ltr:U,intersects:F,simplifyRange:$,subset:H,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},495:function(e){let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},93594:function(e,t,r){var n=r(25566);let i="object"==typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=i},19365:function(e){let t=/^[0-9]+$/,r=(e,r)=>{let n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},1330:function(e){let t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},63461:function(e,t,r){let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=r(495),o=r(93594),a=(t=e.exports={}).re=[],u=t.safeRe=[],c=t.src=[],l=t.t={},h=0,d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",s],[d,i]],p=e=>{for(let[t,r]of f)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},g=(e,t,r)=>{let n=p(t),i=h++;o(e,i,t),l[e]=i,c[i]=t,a[i]=new RegExp(t,r?"g":void 0),u[i]=new RegExp(n,r?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),g("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${d}+`),g("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),g("FULL",`^${c[l.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),g("LOOSE",`^${c[l.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),g("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),g("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),g("COERCERTL",c[l.COERCE],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},60427:function(e,t,r){let n=r(76032);e.exports=(e,t,r)=>n(e,t,">",r)},80754:function(e,t,r){let n=r(30527);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},97455:function(e,t,r){let n=r(76032);e.exports=(e,t,r)=>n(e,t,"<",r)},47516:function(e,t,r){let n=r(19920),i=r(30527);e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!s||-1===o.compare(e))&&(o=new n(s=e,r))}),s}},30080:function(e,t,r){let n=r(19920),i=r(30527);e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!s||1===o.compare(e))&&(o=new n(s=e,r))}),s}},66170:function(e,t,r){let n=r(19920),i=r(30527),s=r(31545);e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r)||(r=new n("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let i=e.set[t],o=null;i.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!o||s(t,o))&&(o=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),o&&(!r||s(r,o))&&(r=o)}return r&&e.test(r)?r:null}},76032:function(e,t,r){let n=r(19920),i=r(8909),{ANY:s}=i,o=r(30527),a=r(8085),u=r(31545),c=r(4247),l=r(37945),h=r(81073);e.exports=(e,t,r,d)=>{let f,p,g,y,v;switch(e=new n(e,d),t=new o(t,d),r){case">":f=u,p=l,g=c,y=">",v=">=";break;case"<":f=c,p=h,g=u,y="<",v="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){let n=t.set[r],o=null,a=null;if(n.forEach(e=>{e.semver===s&&(e=new i(">=0.0.0")),o=o||e,a=a||e,f(e.semver,o.semver,d)?o=e:g(e.semver,a.semver,d)&&(a=e)}),o.operator===y||o.operator===v||(!a.operator||a.operator===y)&&p(e,a.semver)||a.operator===v&&g(e,a.semver))return!1}return!0}},26968:function(e,t,r){let n=r(8085),i=r(78103);e.exports=(e,t,r)=>{let s=[],o=null,a=null,u=e.sort((e,t)=>i(e,t,r));for(let e of u)n(e,t,r)?(a=e,o||(o=e)):(a&&s.push([o,a]),a=null,o=null);o&&s.push([o,null]);let c=[];for(let[e,t]of s)e===t?c.push(e):t||e!==u[0]?t?e===u[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let l=c.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return l.length<h.length?l:t}},88859:function(e,t,r){let n=r(30527),i=r(8909),{ANY:s}=i,o=r(8085),a=r(78103),u=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],l=(e,t,r)=>{let n,i,l,f,p,g,y;if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?u:c}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=c}let v=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=h(n,t,r):"<"===t.operator||"<="===t.operator?i=d(i,t,r):v.add(t.semver);if(v.size>1||n&&i&&((l=a(n.semver,i.semver,r))>0||0===l&&(">="!==n.operator||"<="!==i.operator)))return null;for(let e of v){if(n&&!o(e,String(n),r)||i&&!o(e,String(i),r))return null;for(let n of t)if(!o(e,String(n),r))return!1;return!0}let m=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver,b=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(m&&1===m.prerelease.length&&"<"===i.operator&&0===m.prerelease[0]&&(m=!1),t)){if(y=y||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,n){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((f=h(n,e,r))===e&&f!==n)return!1}else if(">="===n.operator&&!o(n.semver,String(e),r))return!1}if(i){if(m&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===m.major&&e.semver.minor===m.minor&&e.semver.patch===m.patch&&(m=!1),"<"===e.operator||"<="===e.operator){if((p=d(i,e,r))===e&&p!==i)return!1}else if("<="===i.operator&&!o(i.semver,String(e),r))return!1}if(!e.operator&&(i||n)&&0!==l)return!1}return(!n||!g||!!i||0===l)&&(!i||!y||!!n||0===l)&&!b&&!m},h=(e,t,r)=>{if(!e)return t;let n=a(e.semver,t.semver,r);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;let n=a(e.semver,t.semver,r);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;e:for(let n of e.set){for(let e of t.set){let t=l(n,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},15321:function(e,t,r){let n=r(30527);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},59335:function(e,t,r){let n=r(30527);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},45830:function(e){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},95140:function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=i,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=arguments[t],this.tail=new i(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},n.prototype.unshift=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=arguments[t],this.head=new i(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;for(var o=[],n=0;s&&n<t;n++)o.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=function(e,t,r){var n=t===e.head?new i(r,null,t,e):new i(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}(this,s,r[n]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(45830)(n)}catch(e){}},87530:function(e,t,r){let n=r(92224);class i extends n{constructor(){super(),this.allResults=[]}async update(){throw Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}e.exports=i},92224:function(e,t,r){let n=r(96817).default;class i extends n{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(e=>this.emit("update",e))}addInitialResults(e){}getChangesAndClear(){let e=this.updates;return this.updates=[],e}}e.exports=i},39907:function(e,t,r){let n=r(92224),i=r(57495),{incrementHexInt:s}=r(25789);class o extends n{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){let r=s(e),n=(await i({provider:this.provider,fromBlock:r,toBlock:t})).map(e=>e.hash);this.addResults(n)}}e.exports=o},57495:function(e){async function t({provider:e,fromBlock:t,toBlock:s}){t||(t=s);let o=r(t),a=Array(r(s)-o+1).fill().map((e,t)=>o+t).map(n);return(await Promise.all(a.map(t=>i(e,"eth_getBlockByNumber",[t,!1])))).filter(e=>null!==e)}function r(e){return null==e?e:Number.parseInt(e,16)}function n(e){return null==e?e:"0x"+e.toString(16)}async function i(e,t,r){for(let n=0;n<3;n++)try{return await function(e,t){return new Promise((r,n)=>{e.sendAsync(t,(e,t)=>{e?n(e):t.error?n(t.error):t.result?r(t.result):n(Error("Result was empty"))})})}(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch(e){console.error(`provider.sendAsync failed: ${e.stack||e.message||e}`)}return null}e.exports=t},25789:function(e){function t(e){return e.sort((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:r(e)-r(t))}function r(e){return null==e?e:Number.parseInt(e,16)}function n(e){if(null==e)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function i(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:function(...e){return t(e)[0]},maxBlockRef:function(...e){let r=t(e);return r[r.length-1]},sortBlockRefs:t,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:r,incrementHexInt:function(e){return null==e?e:n(r(e)+1)},intToHex:n,unsafeRandomBytes:function(e){let t="0x";for(let r=0;r<e;r++)t+=i()+i();return t}}},50755:function(e,t,r){let n=r(49715).WU,{createAsyncMiddleware:i,createScaffoldMiddleware:s}=r(47845),o=r(81116),a=r(39907),u=r(6373),{intToHex:c,hexToInt:l}=r(25789);function h(e){return d(async(...t)=>c((await e(...t)).id))}function d(e){return i(async(t,r)=>{let n=await e.apply(null,t.params);r.result=n})}function f(e,t){let r=[];for(let t in e)r.push(e[t]);return r}e.exports=function({blockTracker:e,provider:t}){let r=0,i={},p=new n,g=function({mutex:e}){return t=>async(r,n,i,s)=>{(await e.acquire())(),t(r,n,i,s)}}({mutex:p}),y=s({eth_newFilter:g(h(m)),eth_newBlockFilter:g(h(b)),eth_newPendingTransactionFilter:g(h(_)),eth_uninstallFilter:g(d(S)),eth_getFilterChanges:g(d(w)),eth_getFilterLogs:g(d(E))}),v=async({oldBlock:e,newBlock:t})=>{if(0===i.length)return;let r=await p.acquire();try{await Promise.all(f(i).map(async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(e){console.error(e)}}))}catch(e){console.error(e)}r()};return y.newLogFilter=m,y.newBlockFilter=b,y.newPendingTransactionFilter=_,y.uninstallFilter=S,y.getFilterChanges=w,y.getFilterLogs=E,y.destroy=()=>{C()},y;async function m(e){let r=new o({provider:t,params:e});return await I(r),r}async function b(){let e=new a({provider:t});return await I(e),e}async function _(){let e=new u({provider:t});return await I(e),e}async function w(e){let t=l(e),r=i[t];if(!r)throw Error(`No filter for index "${t}"`);return r.getChangesAndClear()}async function E(e){let t=l(e),r=i[t];if(!r)throw Error(`No filter for index "${t}"`);let n=[];return"log"===r.type&&(n=r.getAllResults()),n}async function S(e){let t=l(e),r=!!i[t];return r&&await k(t),r}async function I(t){let n=f(i).length,s=await e.getLatestBlock();return await t.initialize({currentBlock:s}),i[++r]=t,t.id=r,t.idHex=c(r),O({prevFilterCount:n,newFilterCount:f(i).length}),r}async function k(e){let t=f(i).length;delete i[e],O({prevFilterCount:t,newFilterCount:f(i).length})}async function C(){let e=f(i).length;i={},O({prevFilterCount:e,newFilterCount:0})}function O({prevFilterCount:t,newFilterCount:r}){if(0===t&&r>0){e.on("sync",v);return}if(t>0&&0===r){e.removeListener("sync",v);return}}}},81116:function(e,t,r){let n=r(88614),i=r(82116),s=r(87530),{bnToHex:o,hexToInt:a,incrementHexInt:u,minBlockRef:c,blockRefIsNumber:l}=r(25789);class h extends s{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new n(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(e=>e.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;let r=c(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),i=await this._fetchLogs(n);this.addInitialResults(i)}async update({oldBlock:e,newBlock:t}){let r;r=e?u(e):t;let n=Object.assign({},this.params,{fromBlock:r,toBlock:t}),i=(await this._fetchLogs(n)).filter(e=>this.matchLog(e));this.addResults(i)}async _fetchLogs(e){return await i(t=>this.ethQuery.getLogs(e,t))()}matchLog(e){if(a(this.params.fromBlock)>=a(e.blockNumber)||l(this.params.toBlock)&&a(this.params.toBlock)<=a(e.blockNumber))return!1;let t=e.address&&e.address.toLowerCase();return(!this.params.address||!t||!!this.params.address.includes(t))&&this.params.topics.every((t,r)=>{let n=e.topics[r];if(!n)return!1;n=n.toLowerCase();let i=Array.isArray(t)?t:[t];return!!i.includes(null)||(i=i.map(e=>e.toLowerCase())).includes(n)})}}e.exports=h},82116:function(e){"use strict";let t=(e,t,r,n)=>function(...i){return new t.promiseModule((s,o)=>{t.multiArgs?i.push((...e)=>{t.errorFirst?e[0]?o(e):(e.shift(),s(e)):s(e)}):t.errorFirst?i.push((e,t)=>{e?o(e):s(t)}):i.push(s),Reflect.apply(e,this===r?n:this,i)})},r=new WeakMap;e.exports=(e,n)=>{n={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...n};let i=typeof e;if(!(null!==e&&("object"===i||"function"===i)))throw TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":i}\``);let s=(e,t)=>{let i=r.get(e);if(i||(i={},r.set(e,i)),t in i)return i[t];let s=e=>"string"==typeof e||"symbol"==typeof t?t===e:e.test(t),o=Reflect.getOwnPropertyDescriptor(e,t),a=void 0===o||o.writable||o.configurable,u=(n.include?n.include.some(s):!n.exclude.some(s))&&a;return i[t]=u,u},o=new WeakMap,a=new Proxy(e,{apply(e,r,i){let s=o.get(e);if(s)return Reflect.apply(s,r,i);let u=n.excludeMain?e:t(e,n,a,e);return o.set(e,u),Reflect.apply(u,r,i)},get(e,r){let i=e[r];if(!s(e,r)||i===Function.prototype[r])return i;let u=o.get(i);if(u)return u;if("function"==typeof i){let r=t(i,n,a,e);return o.set(i,r),r}return i}});return a}},23617:function(e,t,r){let n=r(96817).default,{createAsyncMiddleware:i,createScaffoldMiddleware:s}=r(47845),o=r(50755),{unsafeRandomBytes:a,incrementHexInt:u}=r(25789),c=r(57495);function l(e){return null==e?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function({blockTracker:e,provider:t}){let r={},h=o({blockTracker:e,provider:t}),d=!1,f=new n,p=s({eth_subscribe:i(g),eth_unsubscribe:i(y)});return p.destroy=function(){for(let e in f.removeAllListeners(),r)r[e].destroy(),delete r[e];d=!0},{events:f,middleware:p};async function g(n,i){let s;if(d)throw Error("SubscriptionManager - attempting to use after destroying");let o=n.params[0],f=a(16);switch(o){case"newHeads":s=function({subId:r}){let n={type:o,destroy:async()=>{e.removeListener("sync",n.update)},update:async({oldBlock:e,newBlock:n})=>{let i=u(e);(await c({provider:t,fromBlock:i,toBlock:n})).map(l).filter(e=>null!==e).forEach(e=>{v(r,e)})}};return e.on("sync",n.update),n}({subId:f});break;case"logs":let p=n.params[1];s=function({subId:e,filter:t}){return t.on("update",t=>v(e,t)),{type:o,destroy:async()=>await h.uninstallFilter(t.idHex)}}({subId:f,filter:await h.newLogFilter(p)});break;default:throw Error(`SubscriptionManager - unsupported subscription type "${o}"`)}r[f]=s,i.result=f}async function y(e,t){if(d)throw Error("SubscriptionManager - attempting to use after destroying");let n=e.params[0],i=r[n];if(!i){t.result=!1;return}delete r[n],await i.destroy(),t.result=!0}function v(e,t){f.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},6373:function(e,t,r){let n=r(92224),i=r(57495),{incrementHexInt:s}=r(25789);class o extends n{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){let t=s(e),r=await i({provider:this.provider,fromBlock:t,toBlock:e}),n=[];for(let e of r)n.push(...e.transactions);this.addResults(n)}}e.exports=o},88614:function(e,t,r){let n=r(44924),i=r(8728)();function s(e){this.currentProvider=e}function o(e){return function(){var t=[].slice.call(arguments),r=t.pop();this.sendAsync({method:e,params:t},r)}}function a(e,t){return function(){var r=[].slice.call(arguments),n=r.pop();r.length<e&&r.push("latest"),this.sendAsync({method:t,params:r},n)}}e.exports=s,s.prototype.getBalance=a(2,"eth_getBalance"),s.prototype.getCode=a(2,"eth_getCode"),s.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),s.prototype.getStorageAt=a(3,"eth_getStorageAt"),s.prototype.call=a(2,"eth_call"),s.prototype.protocolVersion=o("eth_protocolVersion"),s.prototype.syncing=o("eth_syncing"),s.prototype.coinbase=o("eth_coinbase"),s.prototype.mining=o("eth_mining"),s.prototype.hashrate=o("eth_hashrate"),s.prototype.gasPrice=o("eth_gasPrice"),s.prototype.accounts=o("eth_accounts"),s.prototype.blockNumber=o("eth_blockNumber"),s.prototype.getBlockTransactionCountByHash=o("eth_getBlockTransactionCountByHash"),s.prototype.getBlockTransactionCountByNumber=o("eth_getBlockTransactionCountByNumber"),s.prototype.getUncleCountByBlockHash=o("eth_getUncleCountByBlockHash"),s.prototype.getUncleCountByBlockNumber=o("eth_getUncleCountByBlockNumber"),s.prototype.sign=o("eth_sign"),s.prototype.sendTransaction=o("eth_sendTransaction"),s.prototype.sendRawTransaction=o("eth_sendRawTransaction"),s.prototype.estimateGas=o("eth_estimateGas"),s.prototype.getBlockByHash=o("eth_getBlockByHash"),s.prototype.getBlockByNumber=o("eth_getBlockByNumber"),s.prototype.getTransactionByHash=o("eth_getTransactionByHash"),s.prototype.getTransactionByBlockHashAndIndex=o("eth_getTransactionByBlockHashAndIndex"),s.prototype.getTransactionByBlockNumberAndIndex=o("eth_getTransactionByBlockNumberAndIndex"),s.prototype.getTransactionReceipt=o("eth_getTransactionReceipt"),s.prototype.getUncleByBlockHashAndIndex=o("eth_getUncleByBlockHashAndIndex"),s.prototype.getUncleByBlockNumberAndIndex=o("eth_getUncleByBlockNumberAndIndex"),s.prototype.getCompilers=o("eth_getCompilers"),s.prototype.compileLLL=o("eth_compileLLL"),s.prototype.compileSolidity=o("eth_compileSolidity"),s.prototype.compileSerpent=o("eth_compileSerpent"),s.prototype.newFilter=o("eth_newFilter"),s.prototype.newBlockFilter=o("eth_newBlockFilter"),s.prototype.newPendingTransactionFilter=o("eth_newPendingTransactionFilter"),s.prototype.uninstallFilter=o("eth_uninstallFilter"),s.prototype.getFilterChanges=o("eth_getFilterChanges"),s.prototype.getFilterLogs=o("eth_getFilterLogs"),s.prototype.getLogs=o("eth_getLogs"),s.prototype.getWork=o("eth_getWork"),s.prototype.submitWork=o("eth_submitWork"),s.prototype.submitHashrate=o("eth_submitHashrate"),s.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(n({id:i(),jsonrpc:"2.0",params:[]},e),function(e,r){if(!e&&r.error&&(e=Error("EthQuery - RPC Error - "+r.error.message)),e)return t(e);t(null,r.result)})}},12456:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;let n=r(98794);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){let e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}t.EthereumRpcError=i;class s extends i{constructor(e,t,r){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=s},70497:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},31370:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;let n=r(12456),i=r(63356),s=r(70497);function o(e,t){let[r,s]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),s)}function a(e,t){let[r,s]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),s)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>o(s.errorCodes.rpc.parse,e),invalidRequest:e=>o(s.errorCodes.rpc.invalidRequest,e),invalidParams:e=>o(s.errorCodes.rpc.invalidParams,e),methodNotFound:e=>o(s.errorCodes.rpc.methodNotFound,e),internal:e=>o(s.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return o(t,e)},invalidInput:e=>o(s.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>o(s.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>o(s.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>o(s.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>o(s.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>o(s.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>a(s.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(s.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(s.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(s.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(s.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},98215:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;let n=r(12456);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});let i=r(63356);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});let s=r(31370);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return s.ethErrors}});let o=r(70497);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return o.errorCodes}})},63356:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let n=r(70497),i=r(12456),s=n.errorCodes.rpc.internal,o={code:s,message:a(s)};function a(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){let r=e.toString();if(l(n.errorValues,r))return n.errorValues[r].message;if(e>=-32099&&e<=-32e3)return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(n.errorValues[t]||e>=-32099&&e<=-32e3)}function c(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=a,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=o,shouldIncludeStack:r=!1}={}){if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();let n={};if(e&&"object"==typeof e&&!Array.isArray(e)&&l(e,"code")&&u(e.code))n.code=e.code,e.message&&"string"==typeof e.message?(n.message=e.message,l(e,"data")&&(n.data=e.data)):(n.message=a(n.code),n.data={originalError:c(e)});else{n.code=t.code;let r=null==e?void 0:e.message;n.message=r&&"string"==typeof r?r:t.message,n.data={originalError:c(e)}}let s=null==e?void 0:e.stack;return r&&e&&s&&"string"==typeof s&&(n.stack=s),n}},68885:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,n){var i;function s(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",s),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&g(e,"error",s,i))})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){if(a(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var i,s,o,c=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,a=Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else for(var c=u.length,l=p(u,c),r=0;r<c;++r)n(l[r],this,t);return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,o;if(a(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},98794:function(e){e.exports=o,o.default=o,o.stable=c,o.stableStringify=c;var t="[...]",r="[Circular]",n=[],i=[];function s(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function o(e,o,u,c){void 0===c&&(c=s()),function e(n,i,s,o,u,c,l){if(c+=1,"object"==typeof n&&null!==n){for(h=0;h<o.length;h++)if(o[h]===n){a(r,n,i,u);return}if(void 0!==l.depthLimit&&c>l.depthLimit||void 0!==l.edgesLimit&&s+1>l.edgesLimit){a(t,n,i,u);return}if(o.push(n),Array.isArray(n))for(h=0;h<n.length;h++)e(n[h],h,h,o,n,c,l);else{var h,d=Object.keys(n);for(h=0;h<d.length;h++){var f=d[h];e(n[f],f,h,o,n,c,l)}}o.pop()}}(e,"",0,[],void 0,0,c);try{h=0===i.length?JSON.stringify(e,o,u):JSON.stringify(e,l(o),u)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var h,d=n.pop();4===d.length?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return h}function a(e,t,r,s){var o=Object.getOwnPropertyDescriptor(s,r);void 0!==o.get?o.configurable?(Object.defineProperty(s,r,{value:e}),n.push([s,r,t,o])):i.push([t,r,e]):(s[r]=e,n.push([s,r,t]))}function u(e,t){return e<t?-1:e>t?1:0}function c(e,o,c,h){void 0===h&&(h=s());var d,f=function e(i,s,o,c,l,h,d){if(h+=1,"object"==typeof i&&null!==i){for(f=0;f<c.length;f++)if(c[f]===i){a(r,i,s,l);return}try{if("function"==typeof i.toJSON)return}catch(e){return}if(void 0!==d.depthLimit&&h>d.depthLimit||void 0!==d.edgesLimit&&o+1>d.edgesLimit){a(t,i,s,l);return}if(c.push(i),Array.isArray(i))for(f=0;f<i.length;f++)e(i[f],f,f,c,i,h,d);else{var f,p={},g=Object.keys(i).sort(u);for(f=0;f<g.length;f++){var y=g[f];e(i[y],y,f,c,i,h,d),p[y]=i[y]}if(void 0===l)return p;n.push([l,s,i]),l[s]=p}c.pop()}}(e,"",0,[],void 0,0,h)||e;try{d=0===i.length?JSON.stringify(f,o,c):JSON.stringify(f,l(o),c)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var p=n.pop();4===p.length?Object.defineProperty(p[0],p[1],p[3]):p[0][p[1]]=p[2]}}return d}function l(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(i.length>0)for(var n=0;n<i.length;n++){var s=i[n];if(s[1]===t&&s[0]===r){r=s[2],i.splice(n,1);break}}return e.call(this,t,r)}}},24816:function(e){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),s=0;s<n.length;s++){var o=n[s],a=e[o];(i?-1!==t.indexOf(o):t(o,a,e))&&(r[o]=a)}return r}},87398:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},19930:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;let i=n(r(90194)),s=r(98215);class o extends i.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{let[i,s,a]=await o._runAllMiddleware(e,t,this._middleware);if(s)return await o._runReturnHandlers(a),n(i);return r(async e=>{try{await o._runReturnHandlers(a)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _handleBatch(e,t){try{let r=await Promise.all(e.map(this._promiseHandle.bind(this)));if(t)return t(null,r);return r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,r)=>{t(r)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){let r=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){let r=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}let r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc},i=null;try{await this._processRequest(r,n)}catch(e){i=e}return i&&(delete n.result,n.error||(n.error=s.serializeError(i))),t(i,n)}async _processRequest(e,t){let[r,n,i]=await o._runAllMiddleware(e,t,this._middleware);if(o._checkForCompletion(e,t,n),await o._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(e,t,r){let n=[],i=null,s=!1;for(let a of r)if([i,s]=await o._runMiddleware(e,t,a,n),s)break;return[i,s,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(i=>{let o=e=>{let r=e||t.error;r&&(t.error=s.serializeError(r)),i([r,!0])};try{r(e,t,r=>{t.error?o(t.error):(r&&("function"!=typeof r&&o(new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:
${a(e)}`,{request:e})),n.push(r)),i([null,!1]))},o)}catch(e){o(e)}})}static async _runReturnHandlers(e){for(let t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${a(e)}`,{request:e});if(!r)throw new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${a(e)}`,{request:e})}}function a(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=o},77914:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let s;let o=new Promise(e=>{s=e}),a=null,u=!1,c=async()=>{u=!0,n(e=>{a=e,s()}),await o};try{await e(t,r,c),u?(await o,a(null)):i(null)}catch(e){a?a(e):i(e)}}}},65287:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{let s=e[t.method];return void 0===s?n():"function"==typeof s?s(t,r,n,i):(r.result=s,i())}}},20985:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;let r=Math.floor(4294967295*Math.random());t.getUniqueId=function(){return r=(r+1)%4294967295}},82644:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;let n=r(20985);t.createIdRemapMiddleware=function(){return(e,t,r,i)=>{let s=e.id,o=n.getUniqueId();e.id=o,t.id=o,r(r=>{e.id=s,t.id=s,r()})}}},47845:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(82644),t),i(r(77914),t),i(r(65287),t),i(r(20985),t),i(r(19930),t),i(r(27140),t)},27140:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;let n=r(19930);t.mergeMiddleware=function(e){let t=new n.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}},90194:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(68885);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class s extends n.EventEmitter{emit(e,...t){let r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;let r=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw r.context=e,r}let s=n[e];if(void 0===s)return!1;if("function"==typeof s)i(s,this,t);else{let e=s.length,r=function(e){let t=e.length,r=Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(s);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=s},8728:function(e){e.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}},6230:function(e,t,r){e.exports=r(80826)(r(14417))},80826:function(e,t,r){let n=r(58091),i=r(1911);e.exports=function(e){let t=n(e),r=i(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw Error("Invald algorithm: "+e)}}}},58091:function(e,t,r){var n=r(9109).Buffer;let{Transform:i}=r(5939);e.exports=e=>class t extends i{constructor(t,r,n,i,s){super(s),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=s,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}update(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw TypeError("Data must be a string or a buffer");if(this._finalized)throw Error("Digest already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this}digest(e){if(this._finalized)throw Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},1911:function(e,t,r){var n=r(9109).Buffer;let{Transform:i}=r(5939);e.exports=e=>class t extends i{constructor(t,r,n,i){super(i),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw TypeError("Data must be a string or a buffer");if(this._finalized)throw Error("Squeeze already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},66768:function(e,t){let r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(e){for(let t=0;t<24;++t){let n=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],d=e[9]^e[19]^e[29]^e[39]^e[49],f=h^(s<<1|o>>>31),p=d^(o<<1|s>>>31),g=e[0]^f,y=e[1]^p,v=e[10]^f,m=e[11]^p,b=e[20]^f,_=e[21]^p,w=e[30]^f,E=e[31]^p,S=e[40]^f,I=e[41]^p;f=n^(a<<1|u>>>31),p=i^(u<<1|a>>>31);let k=e[2]^f,C=e[3]^p,O=e[12]^f,x=e[13]^p,R=e[22]^f,A=e[23]^p,P=e[32]^f,D=e[33]^p,N=e[42]^f,T=e[43]^p;f=s^(c<<1|l>>>31),p=o^(l<<1|c>>>31);let M=e[4]^f,L=e[5]^p,j=e[14]^f,B=e[15]^p,q=e[24]^f,U=e[25]^p,F=e[34]^f,$=e[35]^p,H=e[44]^f,z=e[45]^p;f=a^(h<<1|d>>>31),p=u^(d<<1|h>>>31);let V=e[6]^f,W=e[7]^p,K=e[16]^f,G=e[17]^p,Q=e[26]^f,J=e[27]^p,Z=e[36]^f,Y=e[37]^p,X=e[46]^f,ee=e[47]^p;f=c^(n<<1|i>>>31),p=l^(i<<1|n>>>31);let et=e[8]^f,er=e[9]^p,en=e[18]^f,ei=e[19]^p,es=e[28]^f,eo=e[29]^p,ea=e[38]^f,eu=e[39]^p,ec=e[48]^f,el=e[49]^p,eh=m<<4|v>>>28,ed=v<<4|m>>>28,ef=b<<3|_>>>29,ep=_<<3|b>>>29,eg=E<<9|w>>>23,ey=w<<9|E>>>23,ev=S<<18|I>>>14,em=I<<18|S>>>14,eb=k<<1|C>>>31,e_=C<<1|k>>>31,ew=x<<12|O>>>20,eE=O<<12|x>>>20,eS=R<<10|A>>>22,eI=A<<10|R>>>22,ek=D<<13|P>>>19,eC=P<<13|D>>>19,eO=N<<2|T>>>30,ex=T<<2|N>>>30,eR=L<<30|M>>>2,eA=M<<30|L>>>2,eP=j<<6|B>>>26,eD=B<<6|j>>>26,eN=U<<11|q>>>21,eT=q<<11|U>>>21,eM=F<<15|$>>>17,eL=$<<15|F>>>17,ej=z<<29|H>>>3,eB=H<<29|z>>>3,eq=V<<28|W>>>4,eU=W<<28|V>>>4,eF=G<<23|K>>>9,e$=K<<23|G>>>9,eH=Q<<25|J>>>7,ez=J<<25|Q>>>7,eV=Z<<21|Y>>>11,eW=Y<<21|Z>>>11,eK=ee<<24|X>>>8,eG=X<<24|ee>>>8,eQ=et<<27|er>>>5,eJ=er<<27|et>>>5,eZ=en<<20|ei>>>12,eY=ei<<20|en>>>12,eX=eo<<7|es>>>25,e0=es<<7|eo>>>25,e1=ea<<8|eu>>>24,e2=eu<<8|ea>>>24,e3=ec<<14|el>>>18,e5=el<<14|ec>>>18;e[0]=g^~ew&eN,e[1]=y^~eE&eT,e[10]=eq^~eZ&ef,e[11]=eU^~eY&ep,e[20]=eb^~eP&eH,e[21]=e_^~eD&ez,e[30]=eQ^~eh&eS,e[31]=eJ^~ed&eI,e[40]=eR^~eF&eX,e[41]=eA^~e$&e0,e[2]=ew^~eN&eV,e[3]=eE^~eT&eW,e[12]=eZ^~ef&ek,e[13]=eY^~ep&eC,e[22]=eP^~eH&e1,e[23]=eD^~ez&e2,e[32]=eh^~eS&eM,e[33]=ed^~eI&eL,e[42]=eF^~eX&eg,e[43]=e$^~e0&ey,e[4]=eN^~eV&e3,e[5]=eT^~eW&e5,e[14]=ef^~ek&ej,e[15]=ep^~eC&eB,e[24]=eH^~e1&ev,e[25]=ez^~e2&em,e[34]=eS^~eM&eK,e[35]=eI^~eL&eG,e[44]=eX^~eg&eO,e[45]=e0^~ey&ex,e[6]=eV^~e3&g,e[7]=eW^~e5&y,e[16]=ek^~ej&eq,e[17]=eC^~eB&eU,e[26]=e1^~ev&eb,e[27]=e2^~em&e_,e[36]=eM^~eK&eQ,e[37]=eL^~eG&eJ,e[46]=eg^~eO&eR,e[47]=ey^~ex&eA,e[8]=e3^~g&ew,e[9]=e5^~y&eE,e[18]=ej^~eq&eZ,e[19]=eB^~eU&eY,e[28]=ev^~eb&eP,e[29]=em^~e_&eD,e[38]=eK^~eQ&eh,e[39]=eG^~eJ&ed,e[48]=eO^~eR&eF,e[49]=ex^~eA&e$,e[0]^=r[2*t],e[1]^=r[2*t+1]}}},14417:function(e,t,r){var n=r(9109).Buffer;let i=r(66768);function s(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}s.prototype.initialize=function(e,t){for(let e=0;e<50;++e)this.state[e]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},s.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},s.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,(128&e)!=0&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},s.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);let t=n.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return t},s.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=s},8355:function(e,t,r){e=r.nmd(e);var n,i,s,o="__lodash_hash_undefined__",a="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",g="[object Object]",y="[object Promise]",v="[object RegExp]",m="[object Set]",b="[object String]",_="[object WeakMap]",w="[object ArrayBuffer]",E="[object DataView]",S=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[a]=k[u]=k[w]=k[c]=k[E]=k[l]=k[h]=k[d]=k[f]=k[p]=k[g]=k[v]=k[m]=k[b]=k[_]=!1;var C="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,O="object"==typeof self&&self&&self.Object===Object&&self,x=C||O||Function("return this")(),R=t&&!t.nodeType&&t,A=R&&e&&!e.nodeType&&e,P=A&&A.exports===R,D=P&&C.process,N=function(){try{return D&&D.binding&&D.binding("util")}catch(e){}}(),T=N&&N.isTypedArray;function M(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function L(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var j=Array.prototype,B=Function.prototype,q=Object.prototype,U=x["__core-js_shared__"],F=B.toString,$=q.hasOwnProperty,H=(n=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",z=q.toString,V=RegExp("^"+F.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=P?x.Buffer:void 0,K=x.Symbol,G=x.Uint8Array,Q=q.propertyIsEnumerable,J=j.splice,Z=K?K.toStringTag:void 0,Y=Object.getOwnPropertySymbols,X=W?W.isBuffer:void 0,ee=(i=Object.keys,s=Object,function(e){return i(s(e))}),et=ek(x,"DataView"),er=ek(x,"Map"),en=ek(x,"Promise"),ei=ek(x,"Set"),es=ek(x,"WeakMap"),eo=ek(Object,"create"),ea=ex(et),eu=ex(er),ec=ex(en),el=ex(ei),eh=ex(es),ed=K?K.prototype:void 0,ef=ed?ed.valueOf:void 0;function ep(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function eg(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ey(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ev(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ey;++t<r;)this.add(e[t])}function em(e){var t=this.__data__=new eg(e);this.size=t.size}function eb(e,t){for(var r=e.length;r--;)if(eR(e[r][0],t))return r;return -1}function e_(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Z&&Z in Object(e)?function(e){var t=$.call(e,Z),r=e[Z];try{e[Z]=void 0;var n=!0}catch(e){}var i=z.call(e);return n&&(t?e[Z]=r:delete e[Z]),i}(e):z.call(e)}function ew(e){return eL(e)&&e_(e)==a}function eE(e,t,r,n,i,s){var o=1&r,a=e.length,u=t.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var l=-1,h=!0,d=2&r?new ev:void 0;for(s.set(e,t),s.set(t,e);++l<a;){var f=e[l],p=t[l];if(n)var g=o?n(p,f,l,t,e,s):n(f,p,l,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}(t,function(e,t){if(!d.has(t)&&(f===e||i(f,e,r,n,s)))return d.push(t)})){h=!1;break}}else if(!(f===p||i(f,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function eS(e){var t;return t=function(e){return null!=e&&eT(e.length)&&!eN(e)?function(e,t){var r,n=eP(e),i=!n&&eA(e),s=!n&&!i&&eD(e),o=!n&&!i&&!s&&ej(e),a=n||i||s||o,u=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=u.length;for(var l in e)$.call(e,l)&&!(a&&("length"==l||s&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||(r=null==(r=c)?9007199254740991:r)&&("number"==typeof l||I.test(l))&&l>-1&&l%1==0&&l<r))&&u.push(l);return u}(e):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||q))return ee(e);var t,r=[];for(var n in Object(e))$.call(e,n)&&"constructor"!=n&&r.push(n);return r}(e)}(e),eP(e)?t:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(t,eC(e))}function eI(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function ek(e,t){var r=null==e?void 0:e[t];return!(!eM(r)||H&&H in r)&&(eN(r)?V:S).test(ex(r))?r:void 0}ep.prototype.clear=function(){this.__data__=eo?eo(null):{},this.size=0},ep.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ep.prototype.get=function(e){var t=this.__data__;if(eo){var r=t[e];return r===o?void 0:r}return $.call(t,e)?t[e]:void 0},ep.prototype.has=function(e){var t=this.__data__;return eo?void 0!==t[e]:$.call(t,e)},ep.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=eo&&void 0===t?o:t,this},eg.prototype.clear=function(){this.__data__=[],this.size=0},eg.prototype.delete=function(e){var t=this.__data__,r=eb(t,e);return!(r<0)&&(r==t.length-1?t.pop():J.call(t,r,1),--this.size,!0)},eg.prototype.get=function(e){var t=this.__data__,r=eb(t,e);return r<0?void 0:t[r][1]},eg.prototype.has=function(e){return eb(this.__data__,e)>-1},eg.prototype.set=function(e,t){var r=this.__data__,n=eb(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ey.prototype.clear=function(){this.size=0,this.__data__={hash:new ep,map:new(er||eg),string:new ep}},ey.prototype.delete=function(e){var t=eI(this,e).delete(e);return this.size-=t?1:0,t},ey.prototype.get=function(e){return eI(this,e).get(e)},ey.prototype.has=function(e){return eI(this,e).has(e)},ey.prototype.set=function(e,t){var r=eI(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ev.prototype.add=ev.prototype.push=function(e){return this.__data__.set(e,o),this},ev.prototype.has=function(e){return this.__data__.has(e)},em.prototype.clear=function(){this.__data__=new eg,this.size=0},em.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},em.prototype.get=function(e){return this.__data__.get(e)},em.prototype.has=function(e){return this.__data__.has(e)},em.prototype.set=function(e,t){var r=this.__data__;if(r instanceof eg){var n=r.__data__;if(!er||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ey(n)}return r.set(e,t),this.size=r.size,this};var eC=Y?function(e){return null==e?[]:function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}(Y(e=Object(e)),function(t){return Q.call(e,t)})}:function(){return[]},eO=e_;function ex(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function eR(e,t){return e===t||e!=e&&t!=t}(et&&eO(new et(new ArrayBuffer(1)))!=E||er&&eO(new er)!=f||en&&eO(en.resolve())!=y||ei&&eO(new ei)!=m||es&&eO(new es)!=_)&&(eO=function(e){var t=e_(e),r=t==g?e.constructor:void 0,n=r?ex(r):"";if(n)switch(n){case ea:return E;case eu:return f;case ec:return y;case el:return m;case eh:return _}return t});var eA=ew(function(){return arguments}())?ew:function(e){return eL(e)&&$.call(e,"callee")&&!Q.call(e,"callee")},eP=Array.isArray,eD=X||function(){return!1};function eN(e){if(!eM(e))return!1;var t=e_(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eT(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eM(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eL(e){return null!=e&&"object"==typeof e}var ej=T?function(e){return T(e)}:function(e){return eL(e)&&eT(e.length)&&!!k[e_(e)]};e.exports=function(e,t){return function e(t,r,n,i,s){return t===r||(null!=t&&null!=r&&(eL(t)||eL(r))?function(e,t,r,n,i,s){var o=eP(e),d=eP(t),y=o?u:eO(e),_=d?u:eO(t);y=y==a?g:y,_=_==a?g:_;var S=y==g,I=_==g,k=y==_;if(k&&eD(e)){if(!eD(t))return!1;o=!0,S=!1}if(k&&!S)return s||(s=new em),o||ej(e)?eE(e,t,r,n,i,s):function(e,t,r,n,i,s,o){switch(r){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case w:if(e.byteLength!=t.byteLength||!s(new G(e),new G(t)))break;return!0;case c:case l:case p:return eR(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case f:var a=M;case m:var u=1&n;if(a||(a=L),e.size!=t.size&&!u)break;var d=o.get(e);if(d)return d==t;n|=2,o.set(e,t);var g=eE(a(e),a(t),n,i,s,o);return o.delete(e),g;case"[object Symbol]":if(ef)return ef.call(e)==ef.call(t)}return!1}(e,t,y,r,n,i,s);if(!(1&r)){var C=S&&$.call(e,"__wrapped__"),O=I&&$.call(t,"__wrapped__");if(C||O){var x=C?e.value():e,R=O?t.value():t;return s||(s=new em),i(x,R,r,n,s)}}return!!k&&(s||(s=new em),function(e,t,r,n,i,s){var o=1&r,a=eS(e),u=a.length;if(u!=eS(t).length&&!o)return!1;for(var c=u;c--;){var l=a[c];if(!(o?l in t:$.call(t,l)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var d=!0;s.set(e,t),s.set(t,e);for(var f=o;++c<u;){var p=e[l=a[c]],g=t[l];if(n)var y=o?n(g,p,l,t,e,s):n(p,g,l,e,t,s);if(!(void 0===y?p===g||i(p,g,r,n,s):y)){d=!1;break}f||(f="constructor"==l)}if(d&&!f){var v=e.constructor,m=t.constructor;v!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m)&&(d=!1)}return s.delete(e),s.delete(t),d}(e,t,r,n,i,s))}(t,r,n,i,e,s):t!=t&&r!=r)}(e,t)}},37185:function(e){"use strict";let t=self.fetch.bind(self);e.exports=t,e.exports.default=e.exports},40905:function(e,t){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DOMAttributeNames:function(){return n},default:function(){return o},isEqualNode:function(){return s}});let n={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"};function i(e){let{type:t,props:r}=e,i=document.createElement(t);for(let e in r){if(!r.hasOwnProperty(e)||"children"===e||"dangerouslySetInnerHTML"===e||void 0===r[e])continue;let s=n[e]||e.toLowerCase();"script"===t&&("async"===s||"defer"===s||"noModule"===s)?i[s]=!!r[e]:i.setAttribute(s,r[e])}let{children:s,dangerouslySetInnerHTML:o}=r;return o?i.innerHTML=o.__html||"":s&&(i.textContent="string"==typeof s?s:Array.isArray(s)?s.join(""):""),i}function s(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){let r=t.getAttribute("nonce");if(r&&!e.getAttribute("nonce")){let n=t.cloneNode(!0);return n.setAttribute("nonce",""),n.nonce=r,r===e.nonce&&e.isEqualNode(n)}}return e.isEqualNode(t)}function o(){return{mountedInstances:new Set,updateHead:e=>{let t={};e.forEach(e=>{if("link"===e.type&&e.props["data-optimized-fonts"]){if(document.querySelector('style[data-href="'+e.props["data-href"]+'"]'))return;e.props.href=e.props["data-href"],e.props["data-href"]=void 0}let r=t[e.type]||[];r.push(e),t[e.type]=r});let n=t.title?t.title[0]:null,i="";if(n){let{children:e}=n.props;i="string"==typeof e?e:Array.isArray(e)?e.join(""):""}i!==document.title&&(document.title=i),["meta","base","link","style","script"].forEach(e=>{r(e,t[e]||[])})}}}r=(e,t)=>{let r=document.getElementsByTagName("head")[0],n=r.querySelector("meta[name=next-head-count]"),o=Number(n.content),a=[];for(let t=0,r=n.previousElementSibling;t<o;t++,r=(null==r?void 0:r.previousElementSibling)||null){var u;(null==r?void 0:null==(u=r.tagName)?void 0:u.toLowerCase())===e&&a.push(r)}let c=t.map(i).filter(e=>{for(let t=0,r=a.length;t<r;t++)if(s(a[t],e))return a.splice(t,1),!1;return!0});a.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),c.forEach(e=>r.insertBefore(e,n)),n.content=(o-a.length+c.length).toString()},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84080:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return b},handleClientScriptLoad:function(){return y},initScriptLoader:function(){return v}});let n=r(99920),i=r(41452),s=r(57437),o=n._(r(54887)),a=i._(r(2265)),u=r(36590),c=r(40905),l=r(49189),h=new Map,d=new Set,f=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"],p=e=>{if(o.default.preinit){e.forEach(e=>{o.default.preinit(e,{as:"style"})});return}if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}},g=e=>{let{src:t,id:r,onLoad:n=()=>{},onReady:i=null,dangerouslySetInnerHTML:s,children:o="",strategy:a="afterInteractive",onError:u,stylesheets:l}=e,g=r||t;if(g&&d.has(g))return;if(h.has(t)){d.add(g),h.get(t).then(n,u);return}let y=()=>{i&&i(),d.add(g)},v=document.createElement("script"),m=new Promise((e,t)=>{v.addEventListener("load",function(t){e(),n&&n.call(this,t),y()}),v.addEventListener("error",function(e){t(e)})}).catch(function(e){u&&u(e)});for(let[r,n]of(s?(v.innerHTML=s.__html||"",y()):o?(v.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):"",y()):t&&(v.src=t,h.set(t,m)),Object.entries(e))){if(void 0===n||f.includes(r))continue;let e=c.DOMAttributeNames[r]||r.toLowerCase();v.setAttribute(e,n)}"worker"===a&&v.setAttribute("type","text/partytown"),v.setAttribute("data-nscript",a),l&&p(l),document.body.appendChild(v)};function y(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,l.requestIdleCallback)(()=>g(e))}):g(e)}function v(e){e.forEach(y),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");d.add(t)})}function m(e){let{id:t,src:r="",onLoad:n=()=>{},onReady:i=null,strategy:c="afterInteractive",onError:h,stylesheets:f,...p}=e,{updateScripts:y,scripts:v,getIsSsr:m,appDir:b,nonce:_}=(0,a.useContext)(u.HeadManagerContext),w=(0,a.useRef)(!1);(0,a.useEffect)(()=>{let e=t||r;w.current||(i&&e&&d.has(e)&&i(),w.current=!0)},[i,t,r]);let E=(0,a.useRef)(!1);if((0,a.useEffect)(()=>{!E.current&&("afterInteractive"===c?g(e):"lazyOnload"===c&&("complete"===document.readyState?(0,l.requestIdleCallback)(()=>g(e)):window.addEventListener("load",()=>{(0,l.requestIdleCallback)(()=>g(e))})),E.current=!0)},[e,c]),("beforeInteractive"===c||"worker"===c)&&(y?(v[c]=(v[c]||[]).concat([{id:t,src:r,onLoad:n,onReady:i,onError:h,...p}]),y(v)):m&&m()?d.add(t||r):m&&!m()&&g(e)),b){if(f&&f.forEach(e=>{o.default.preinit(e,{as:"style"})}),"beforeInteractive"===c)return r?(o.default.preload(r,p.integrity?{as:"script",integrity:p.integrity,nonce:_}:{as:"script",nonce:_}),(0,s.jsx)("script",{nonce:_,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([r,{...p,id:t}])+")"}})):(p.dangerouslySetInnerHTML&&(p.children=p.dangerouslySetInnerHTML.__html,delete p.dangerouslySetInnerHTML),(0,s.jsx)("script",{nonce:_,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...p,id:t}])+")"}}));"afterInteractive"===c&&r&&o.default.preload(r,p.integrity?{as:"script",integrity:p.integrity,nonce:_}:{as:"script",nonce:_})}return null}Object.defineProperty(m,"__nextScript",{value:!0});let b=m;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},57764:function(e,t,r){"use strict";r.r(t),r.d(t,{Component:function(){return E},Fragment:function(){return w},cloneElement:function(){return B},createContext:function(){return q},createElement:function(){return m},createRef:function(){return _},h:function(){return m},hydrate:function(){return j},isValidElement:function(){return o},options:function(){return i},render:function(){return L},toChildArray:function(){return function e(t,r){return r=r||[],null==t||"boolean"==typeof t||(g(t)?t.some(function(t){e(t,r)}):r.push(t)),r}}});var n,i,s,o,a,u,c,l,h,d={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,g=Array.isArray;function y(e,t){for(var r in t)e[r]=t[r];return e}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,r){var i,s,o,a={};for(o in t)"key"==o?i=t[o]:"ref"==o?s=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return b(e,a,i,s,null)}function b(e,t,r,n,o){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++s:o,__i:-1,__u:0};return null==o&&null!=i.vnode&&i.vnode(a),a}function _(){return{current:null}}function w(e){return e.children}function E(e,t){this.props=e,this.context=t}function S(e,t){if(null==t)return e.__?S(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?S(e):null}function I(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!k.__r++||u!==i.debounceRendering)&&((u=i.debounceRendering)||c)(k)}function k(){var e,t,r,n=[],s=[];for(a.sort(l);e=a.shift();)e.__d&&(r=a.length,t=function(e,t,r){var n,s=e.__v,o=s.__e,a=e.__P;if(a)return(n=y({},s)).__v=s.__v+1,i.vnode&&i.vnode(n),P(a,n,s,e.__n,void 0!==a.ownerSVGElement,32&s.__u?[o]:null,t,null==o?S(s):o,!!(32&s.__u),r),n.__.__k[n.__i]=n,n.__d=void 0,n.__e!=o&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n),n}(e,n,s)||t,0===r||a.length>r?(D(n,t,s),s.length=n.length=0,t=void 0,a.sort(l)):t&&i.__c&&i.__c(t,f));t&&D(n,t,s),k.__r=0}function C(e,t,r,n,i,s,o,a,u,c,l){var h,p,y,v,m,_=n&&n.__k||f,E=t.length;for(r.__d=u,function(e,t,r){var n,i,s,o,a,u=t.length,c=r.length,l=c,h=0;for(e.__k=[],n=0;n<u;n++)null!=(i=e.__k[n]=null==(i=t[n])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?b(null,i,null,null,i):g(i)?b(w,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?b(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,a=function(e,t,r,n){var i=e.key,s=e.type,o=r-1,a=r+1,u=t[r];if(null===u||u&&i==u.key&&s===u.type)return r;if(n>(null!=u&&0==(131072&u.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((u=t[o])&&0==(131072&u.__u)&&i==u.key&&s===u.type)return o;o--}if(a<t.length){if((u=t[a])&&0==(131072&u.__u)&&i==u.key&&s===u.type)return a;a++}}return -1}(i,r,o=n+h,l),i.__i=a,s=null,-1!==a&&(l--,(s=r[a])&&(s.__u|=131072)),null==s||null===s.__v?(-1==a&&h--,"function"!=typeof i.type&&(i.__u|=65536)):a!==o&&(a===o+1?h++:a>o?l>u-o?h+=a-o:h--:h=a<o&&a==o-1?a-o:0,a!==n+h&&(i.__u|=65536))):(s=r[n])&&null==s.key&&s.__e&&(s.__e==e.__d&&(e.__d=S(s)),T(s,s,!1),r[n]=null,l--);if(l)for(n=0;n<c;n++)null!=(s=r[n])&&0==(131072&s.__u)&&(s.__e==e.__d&&(e.__d=S(s)),T(s,s))}(r,t,_),u=r.__d,h=0;h<E;h++)null!=(y=r.__k[h])&&"boolean"!=typeof y&&"function"!=typeof y&&(p=-1===y.__i?d:_[y.__i]||d,y.__i=h,P(e,y,p,i,s,o,a,u,c,l),v=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&N(p.ref,null,y),l.push(y.ref,y.__c||v,y)),null==m&&null!=v&&(m=v),65536&y.__u||p.__k===y.__k?u=function e(t,r,n){var i,s;if("function"==typeof t.type){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,r=e(i[s],r,n));return r}t.__e!=r&&(n.insertBefore(t.__e,r||null),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8===r.nodeType);return r}(y,u,e):"function"==typeof y.type&&void 0!==y.__d?u=y.__d:v&&(u=v.nextSibling),y.__d=void 0,y.__u&=-196609);r.__d=u,r.__e=m}function O(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||p.test(t)?r:r+"px"}function x(e,t,r,n,i){var s;t:if("style"===t){if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||O(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||O(e.style,t,r[t])}}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase() in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n?r.u=n.u:(r.u=Date.now(),e.addEventListener(t,s?A:R,s)):e.removeEventListener(t,s?A:R,s);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==r?"":r;break t}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,r))}}function R(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(i.event?i.event(e):e)}}function A(e){if(this.l)return this.l[e.type+!0](i.event?i.event(e):e)}function P(e,t,r,s,o,a,u,c,l,h){var f,p,m,b,_,I,k,O,R,A,P,D,N,T,L,j=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(l=!!(32&r.__u),a=[c=t.__e=r.__e]),(f=i.__b)&&f(t);t:if("function"==typeof j)try{if(O=t.props,R=(f=j.contextType)&&s[f.__c],A=f?R?R.props.value:f.__:s,r.__c?k=(p=t.__c=r.__c).__=p.__E:("prototype"in j&&j.prototype.render?t.__c=p=new j(O,A):(t.__c=p=new E(O,A),p.constructor=j,p.render=M),R&&R.sub(p),p.props=O,p.state||(p.state={}),p.context=A,p.__n=s,m=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=j.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=y({},p.__s)),y(p.__s,j.getDerivedStateFromProps(O,p.__s))),b=p.props,_=p.state,p.__v=t,m)null==j.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==j.getDerivedStateFromProps&&O!==b&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(O,A),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(O,p.__s,A)||t.__v===r.__v)){for(t.__v!==r.__v&&(p.props=O,p.state=p.__s,p.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),P=0;P<p._sb.length;P++)p.__h.push(p._sb[P]);p._sb=[],p.__h.length&&u.push(p);break t}null!=p.componentWillUpdate&&p.componentWillUpdate(O,p.__s,A),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(b,_,I)})}if(p.context=A,p.props=O,p.__P=e,p.__e=!1,D=i.__r,N=0,"prototype"in j&&j.prototype.render){for(p.state=p.__s,p.__d=!1,D&&D(t),f=p.render(p.props,p.state,p.context),T=0;T<p._sb.length;T++)p.__h.push(p._sb[T]);p._sb=[]}else do p.__d=!1,D&&D(t),f=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++N<25);p.state=p.__s,null!=p.getChildContext&&(s=y(y({},s),p.getChildContext())),m||null==p.getSnapshotBeforeUpdate||(I=p.getSnapshotBeforeUpdate(b,_)),C(e,g(L=null!=f&&f.type===w&&null==f.key?f.props.children:f)?L:[L],t,r,s,o,a,u,c,l,h),p.base=t.__e,t.__u&=-161,p.__h.length&&u.push(p),k&&(p.__E=p.__=null)}catch(e){t.__v=null,l||null!=a?(t.__e=c,t.__u|=l?160:32,a[a.indexOf(c)]=null):(t.__e=r.__e,t.__k=r.__k),i.__e(e,t,r)}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,i,s,o,a,u,c){var l,h,f,p,y,m,b,_=r.props,w=t.props,E=t.type;if("svg"===E&&(s=!0),null!=o){for(l=0;l<o.length;l++)if((y=o[l])&&"setAttribute"in y==!!E&&(E?y.localName===E:3===y.nodeType)){e=y,o[l]=null;break}}if(null==e){if(null===E)return document.createTextNode(w);e=s?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,w.is&&w),o=null,u=!1}if(null===E)_===w||u&&e.data===w||(e.data=w);else{if(o=o&&n.call(e.childNodes),_=r.props||d,!u&&null!=o)for(_={},l=0;l<e.attributes.length;l++)_[(y=e.attributes[l]).name]=y.value;for(l in _)y=_[l],"children"==l||("dangerouslySetInnerHTML"==l?f=y:"key"===l||l in w||x(e,l,null,y,s));for(l in w)y=w[l],"children"==l?p=y:"dangerouslySetInnerHTML"==l?h=y:"value"==l?m=y:"checked"==l?b=y:"key"===l||u&&"function"!=typeof y||_[l]===y||x(e,l,y,_[l],s);if(h)u||f&&(h.__html===f.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(f&&(e.innerHTML=""),C(e,g(p)?p:[p],t,r,i,s&&"foreignObject"!==E,o,a,o?o[0]:r.__k&&S(r,0),u,c),null!=o)for(l=o.length;l--;)null!=o[l]&&v(o[l]);u||(l="value",void 0===m||m===e[l]&&("progress"!==E||m)&&("option"!==E||m===_[l])||x(e,l,m,_[l],!1),l="checked",void 0!==b&&b!==e[l]&&x(e,l,b,_[l],!1))}return e}(r.__e,t,r,s,o,a,u,l,h);(f=i.diffed)&&f(t)}function D(e,t,r){for(var n=0;n<r.length;n++)N(r[n],r[++n],r[++n]);i.__c&&i.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){i.__e(e,t.__v)}})}function N(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,r)}}function T(e,t,r){var n,s;if(i.unmount&&i.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||N(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){i.__e(e,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(s=0;s<n.length;s++)n[s]&&T(n[s],t,r||"function"!=typeof e.type);r||null==e.__e||v(e.__e),e.__=e.__e=e.__d=void 0}function M(e,t,r){return this.constructor(e,r)}function L(e,t,r){var s,o,a,u;i.__&&i.__(e,t),o=(s="function"==typeof r)?null:r&&r.__k||t.__k,a=[],u=[],P(t,e=(!s&&r||t).__k=m(w,null,[e]),o||d,d,void 0!==t.ownerSVGElement,!s&&r?[r]:o?null:t.firstChild?n.call(t.childNodes):null,a,!s&&r?r:o?o.__e:t.firstChild,s,u),e.__d=void 0,D(a,e,u)}function j(e,t){L(e,t,j)}function B(e,t,r){var i,s,o,a,u=y({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==o?i=t[o]:"ref"==o?s=t[o]:u[o]=void 0===t[o]&&void 0!==a?a[o]:t[o];return arguments.length>2&&(u.children=arguments.length>3?n.call(arguments,2):r),b(e.type,u,i||e.key,s||e.ref,null)}function q(e,t){var r={__c:t="__cC"+h++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n;return this.getChildContext||(r=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&r.some(function(e){e.__e=!0,I(e)})},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Provider.__=r.Consumer.contextType=r}n=f.slice,i={__e:function(e,t,r,n){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},s=0,o=function(e){return null!=e&&null==e.constructor},E.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof e&&(e=e(y({},r),this.props)),e&&y(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),I(this))},E.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),I(this))},E.prototype.render=w,a=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(e,t){return e.__v.__b-t.__v.__b},k.__r=0,h=0},83148:function(e,t,r){"use strict";r.r(t),r.d(t,{useCallback:function(){return C},useContext:function(){return O},useDebugValue:function(){return x},useEffect:function(){return w},useErrorBoundary:function(){return R},useId:function(){return A},useImperativeHandle:function(){return I},useLayoutEffect:function(){return E},useMemo:function(){return k},useReducer:function(){return _},useRef:function(){return S},useState:function(){return b}});var n,i,s,o,a=r(57764),u=0,c=[],l=[],h=a.options,d=h.__b,f=h.__r,p=h.diffed,g=h.__c,y=h.unmount,v=h.__;function m(e,t){h.__h&&h.__h(i,e,u||t),u=0;var r=i.__H||(i.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({__V:l}),r.__[e]}function b(e){return u=1,_(L,e)}function _(e,t,r){var s=m(n++,2);if(s.t=e,!s.__c&&(s.__=[r?r(t):L(void 0,t),function(e){var t=s.__N?s.__N[0]:s.__[0],r=s.t(t,e);t!==r&&(s.__N=[r,s.__[1]],s.__c.setState({}))}],s.__c=i,!i.u)){var o=function(e,t,r){if(!s.__c.__H)return!0;var n=s.__c.__H.__.filter(function(e){return!!e.__c});if(n.every(function(e){return!e.__N}))return!a||a.call(this,e,t,r);var i=!1;return n.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}}),!(!i&&s.__c.props===e)&&(!a||a.call(this,e,t,r))};i.u=!0;var a=i.shouldComponentUpdate,u=i.componentWillUpdate;i.componentWillUpdate=function(e,t,r){if(this.__e){var n=a;a=void 0,o(e,t,r),a=n}u&&u.call(this,e,t,r)},i.shouldComponentUpdate=o}return s.__N||s.__}function w(e,t){var r=m(n++,3);!h.__s&&M(r.__H,t)&&(r.__=e,r.i=t,i.__H.__h.push(r))}function E(e,t){var r=m(n++,4);!h.__s&&M(r.__H,t)&&(r.__=e,r.i=t,i.__h.push(r))}function S(e){return u=5,k(function(){return{current:e}},[])}function I(e,t,r){u=6,E(function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},null==r?r:r.concat(e))}function k(e,t){var r=m(n++,7);return M(r.__H,t)?(r.__V=e(),r.i=t,r.__h=e,r.__V):r.__}function C(e,t){return u=8,k(function(){return e},t)}function O(e){var t=i.context[e.__c],r=m(n++,9);return r.c=e,t?(null==r.__&&(r.__=!0,t.sub(i)),t.props.value):e.__}function x(e,t){h.useDebugValue&&h.useDebugValue(t?t(e):e)}function R(e){var t=m(n++,10),r=b();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e,n){t.__&&t.__(e,n),r[1](e)}),[r[0],function(){r[1](void 0)}]}function A(){var e=m(n++,11);if(!e.__){for(var t=i.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function P(){for(var e;e=c.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(N),e.__H.__h.forEach(T),e.__H.__h=[]}catch(t){e.__H.__h=[],h.__e(t,e.__v)}}h.__b=function(e){i=null,d&&d(e)},h.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),v&&v(e,t)},h.__r=function(e){f&&f(e),n=0;var t=(i=e.__c).__H;t&&(s===i?(t.__h=[],i.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=l,e.__N=e.i=void 0})):(t.__h.forEach(N),t.__h.forEach(T),t.__h=[],n=0)),s=i},h.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==c.push(t)&&o===h.requestAnimationFrame||((o=h.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),D&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);D&&(t=requestAnimationFrame(r))})(P)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==l&&(e.__=e.__V),e.i=void 0,e.__V=l})),s=i=null},h.__c=function(e,t){t.some(function(e){try{e.__h.forEach(N),e.__h=e.__h.filter(function(e){return!e.__||T(e)})}catch(r){t.some(function(e){e.__h&&(e.__h=[])}),t=[],h.__e(r,e.__v)}}),g&&g(e,t)},h.unmount=function(e){y&&y(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(e){try{N(e)}catch(e){t=e}}),r.__H=void 0,t&&h.__e(t,r.__v))};var D="function"==typeof requestAnimationFrame;function N(e){var t=i,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),i=t}function T(e){var t=i;e.__c=e.__(),i=t}function M(e,t){return!e||e.length!==t.length||t.some(function(t,r){return t!==e[r]})}function L(e,t){return"function"==typeof t?t(e):t}},61179:function(e,t,r){"use strict";let n=r(29276),i=r(56368),s=r(76442),o=r(24816),a=e=>null==e,u=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function h(e,t){return t.decode?i(e):e}function d(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function f(e){let t=(e=d(e)).indexOf("?");return -1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function g(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"comma":case"separator":return(t,r,n)=>{let i="string"==typeof r&&r.includes(e.arrayFormatSeparator),s="string"==typeof r&&!i&&h(r,e).includes(e.arrayFormatSeparator);r=s?h(r,e):r;let o=i||s?r.split(e.arrayFormatSeparator).map(t=>h(t,e)):null===r?r:h(r,e);n[t]=o};case"bracket-separator":return(t,r,n)=>{let i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i){n[t]=r?h(r,e):r;return}let s=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>h(t,e));if(void 0===n[t]){n[t]=s;return}n[t]=[].concat(n[t],s)};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let i of e.split("&")){if(""===i)continue;let[e,o]=s(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:h(o,t),r(h(e,t),o,n)}for(let e of Object.keys(n)){let r=n[e];if("object"==typeof r&&null!==r)for(let e of Object.keys(r))r[e]=p(r[e],t);else n[e]=p(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return r&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=f,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let r=r=>t.skipNull&&a(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[l(t,e),"[",i,"]"].join("")]:[...r,[l(t,e),"[",l(i,e),"]=",l(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[l(t,e),"[]"].join("")]:[...r,[l(t,e),"[]=",l(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[l(t,e),":list="].join("")]:[...r,[l(t,e),":list=",l(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length)?[[l(r,e),t,l(i,e)].join("")]:[[n,l(i,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,l(t,e)]:[...r,[l(t,e),"=",l(n,e)].join("")]}}(t),i={};for(let t of Object.keys(e))r(t)||(i[t]=e[t]);let s=Object.keys(i);return!1!==t.sort&&s.sort(t.sort),s.map(r=>{let i=e[r];return void 0===i?"":null===i?l(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?l(r,t)+"[]":i.reduce(n(r),[]).join("&"):l(r,t)+"="+l(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=s(e,"#");return Object.assign({url:r.split("?")[0]||"",query:g(f(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:h(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[u]:!0},r);let n=d(e.url).split("?")[0]||"",i=t.extract(e.url),s=Object.assign(t.parse(i,{sort:!1}),e.query),o=t.stringify(s,r);o&&(o=`?${o}`);let a=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(a=`#${r[u]?l(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${o}${a}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[u]:!1},n);let{url:i,query:s,fragmentIdentifier:a}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:o(s,r),fragmentIdentifier:a},n)},t.exclude=(e,r,n)=>{let i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},57963:function(e){"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,n){var i=n&&n.stringify||t;if("object"==typeof e&&null!==e){var s=r.length+1;if(1===s)return e;var o=Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(r[a]);return o.join(" ")}if("string"!=typeof e)return e;var u=r.length;if(0===u)return e;for(var c="",l=0,h=-1,d=e&&e.length||0,f=0;f<d;){if(37===e.charCodeAt(f)&&f+1<d){switch(h=h>-1?h:0,e.charCodeAt(f+1)){case 100:case 102:if(l>=u||null==r[l])break;h<f&&(c+=e.slice(h,f)),c+=Number(r[l]),h=f+2,f++;break;case 105:if(l>=u||null==r[l])break;h<f&&(c+=e.slice(h,f)),c+=Math.floor(Number(r[l])),h=f+2,f++;break;case 79:case 111:case 106:if(l>=u||void 0===r[l])break;h<f&&(c+=e.slice(h,f));var p=typeof r[l];if("string"===p){c+="'"+r[l]+"'",h=f+2,f++;break}if("function"===p){c+=r[l].name||"<anonymous>",h=f+2,f++;break}c+=i(r[l]),h=f+2,f++;break;case 115:if(l>=u)break;h<f&&(c+=e.slice(h,f)),c+=String(r[l]),h=f+2,f++;break;case 37:h<f&&(c+=e.slice(h,f)),c+="%",h=f+2,f++,l--}++l}++f}return -1===h?e:(h<d&&(c+=e.slice(h)),c)}},16058:function(e){"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){function t(t,n,i){return e.call(this,"string"==typeof r?r:r(t,n,i))||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,t}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(!Array.isArray(e))return"of ".concat(t," ").concat(String(e));var r=e.length;return(e=e.map(function(e){return String(e)}),r>2)?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(u="must not be",t=t.replace(/^not /,"")):u="must be",s=" argument",(void 0===o||o>e.length)&&(o=e.length),e.substring(o-s.length,o)===s)c="The ".concat(e," ").concat(u," ").concat(n(t,"type"));else{var i,s,o,a,u,c,l=("number"!=typeof a&&(a=0),a+1>e.length||-1===e.indexOf(".",a))?"argument":"property";c='The "'.concat(e,'" ').concat(l," ").concat(u," ").concat(n(t,"type"))}return c+". Received type ".concat(typeof r)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},414:function(e,t,r){"use strict";var n=r(25566),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var s=r(27813),o=r(67684);r(87398)(l,s);for(var a=i(o.prototype),u=0;u<a.length;u++){var c=a[u];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},87802:function(e,t,r){"use strict";e.exports=i;var n=r(64958);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(87398)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},27813:function(e,t,r){"use strict";var n,i,s,o,a,u=r(25566);e.exports=k,k.ReadableState=I,r(68885).EventEmitter;var c=function(e,t){return e.listeners(t).length},l=r(81725),h=r(9109).Buffer,d=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(94616);i=f&&f.debuglog?f.debuglog("stream"):function(){};var p=r(36337),g=r(3587),y=r(72164).getHighWaterMark,v=r(16058).q,m=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,w=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(87398)(k,l);var E=g.errorOrDestroy,S=["error","close","destroy","pause","resume"];function I(e,t,i){n=n||r(414),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=r(56123).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function k(e){if(n=n||r(414),!(this instanceof k))return new k(e);var t=this instanceof n;this._readableState=new I(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function C(e,t,r,n,s){i("readableAddChunk",t);var o,a,u,c,l,f=e._readableState;if(null===t)f.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}(e,f);else{if(s||(o=f,a=t,h.isBuffer(a)||a instanceof d||"string"==typeof a||void 0===a||o.objectMode||(u=new m("chunk",["string","Buffer","Uint8Array"],a)),l=u),l)E(e,l);else if(f.objectMode||t&&t.length>0){if("string"==typeof t||f.objectMode||Object.getPrototypeOf(t)===h.prototype||(c=t,t=h.from(c)),n)f.endEmitted?E(e,new w):O(e,f,t,!0);else if(f.ended)E(e,new b);else{if(f.destroyed)return!1;f.reading=!1,f.decoder&&!r?(t=f.decoder.write(t),f.objectMode||0!==t.length?O(e,f,t,!1):P(e,f)):O(e,f,t,!1)}}else n||(f.reading=!1,P(e,f))}return!f.ended&&(f.length<f.highWaterMark||0===f.length)}function O(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),P(e,t)}function x(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;if(e>t.highWaterMark){var r;t.highWaterMark=((r=e)>=1073741824?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)}return e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)}function R(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,u.nextTick(A,e))}function A(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function P(e,t){t.readingMore||(t.readingMore=!0,u.nextTick(D,e,t))}function D(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function T(e){i("readable nexttick read 0"),e.read(0)}function M(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function B(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,u.nextTick(q,t,e))}function q(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=g.destroy,k.prototype._undestroy=g.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=h.from(e,t),t=""),r=!0),C(this,e,t,!1,r)},k.prototype.unshift=function(e){return C(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){s||(s=r(56123).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},k.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return i("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?B(this):R(this),null;if(0===(e=x(e,r))&&r.ended)return 0===r.length&&B(this),null;var s=r.needReadable;return i("need readable",s),(0===r.length||r.length-e<r.highWaterMark)&&i("length less than watermark",s=!0),r.ended||r.reading?i("reading or ended",s=!1):s&&(i("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=x(n,r))),null===(t=e>0?j(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&B(this)),null!==t&&this.emit("data",t),t},k.prototype._read=function(e){E(this,new _("_read()"))},k.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===u.stdout||e===u.stderr?g:o;function o(){i("onend"),e.end()}n.endEmitted?u.nextTick(s):r.once("end",s),e.on("unpipe",function t(s,u){i("onunpipe"),s===r&&u&&!1===u.hasUnpiped&&(u.hasUnpiped=!0,i("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",a),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",o),r.removeListener("end",g),r.removeListener("data",h),l=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&a())});var a=function(){var e=r._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&c(r,"data")&&(e.flowing=!0,L(r))};e.on("drain",a);var l=!1;function h(t){i("ondata");var s=e.write(t);i("dest.write",s),!1===s&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!l&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){i("onerror",t),g(),e.removeListener("error",d),0===c(e,"error")&&E(e,t)}function f(){e.removeListener("finish",p),g()}function p(){i("onfinish"),e.removeListener("close",f),g()}function g(){i("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",f),e.once("finish",p),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=U(t.pipes,e);return -1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},k.prototype.on=function(e,t){var r=l.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?R(this):n.reading||u.nextTick(T,this)),r},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var r=l.prototype.removeListener.call(this,e,t);return"readable"===e&&u.nextTick(N,this),r},k.prototype.removeAllListeners=function(e){var t=l.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&u.nextTick(N,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,u.nextTick(M,this,e))),e.paused=!1,this},k.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var s in e.on("end",function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(s){i("wrapped data"),r.decoder&&(s=r.decoder.write(s)),(!r.objectMode||null!=s)&&(r.objectMode||s&&s.length)&&(t.push(s)||(n=!0,e.pause()))}),e)void 0===this[s]&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===o&&(o=r(87136)),o(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=j,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(e,t){return void 0===a&&(a=r(98505)),a(k,e,t)})},64958:function(e,t,r){"use strict";e.exports=l;var n=r(16058).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(414);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,r){d(e,t,r)})}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(87398)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},67684:function(e,t,r){"use strict";var n,i,s=r(25566);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e})(t,e)}}e.exports=k,k.WritableState=I;var a={deprecate:r(20310)},u=r(81725),c=r(9109).Buffer,l=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},h=r(3587),d=r(72164).getHighWaterMark,f=r(16058).q,p=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,m=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,_=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,E=h.errorOrDestroy;function S(){}function I(e,t,i){n=n||r(414),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new y;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,n?(s.nextTick(i,t),s.nextTick(P,e,r),e._writableState.errorEmitted=!0,E(e,t)):(i(t),e._writableState.errorEmitted=!0,E(e,t),P(e,r));else{var o=R(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),n?s.nextTick(O,e,r,o,i):O(e,r,o,i)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function k(e){var t=this instanceof(n=n||r(414));if(!t&&!i.call(k,this))return new k(e);this._writableState=new I(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function C(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function O(e,t,r,n){r||0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain")),t.pendingcb--,n(),P(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var s=0,a=!0;r;)n[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;n.allBuffers=a,C(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,h=t.objectMode?1:u.length;if(C(e,t,!1,h,u,c,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final(function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),P(e,t)})}function P(e,t){var r=R(t);if(r&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,s.nextTick(A,e,t))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(87398)(k,u),I.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(I.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===k&&e&&e._writableState instanceof I}})):i=function(e){return e instanceof this},k.prototype.pipe=function(){E(this,new v)},k.prototype.write=function(e,t,r){var n,i,o,a,u,h,d,f=this._writableState,g=!1,y=!f.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return y&&!c.isBuffer(e)&&(i=e,e=c.from(i)),("function"==typeof t&&(r=t,t=null),y?t="buffer":t||(t=f.defaultEncoding),"function"!=typeof r&&(r=S),f.ending)?(o=r,E(this,a=new _),s.nextTick(o,a)):(y||(u=e,h=r,null===u?d=new b:"string"==typeof u||f.objectMode||(d=new p("chunk",["string","Buffer"],u)),!d||(E(this,d),s.nextTick(h,d),0)))&&(f.pendingcb++,g=function(e,t,r,n,i,s){if(!r){var o,a,u=(o=n,a=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof o||(o=c.from(o,a)),o);n!==u&&(r=!0,i="buffer",n=u)}var l=t.objectMode?1:n.length;t.length+=l;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else C(e,t,!1,l,n,i,s);return h}(this,f,y,e,t,r)),g},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,r){r(new g("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,r){var n,i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||(n=r,i.ending=!0,P(this,i),n&&(i.finished?s.nextTick(n):this.once("finish",n)),i.ended=!0,this.writable=!1),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=h.destroy,k.prototype._undestroy=h.undestroy,k.prototype._destroy=function(e,t){t(e)}},87136:function(e,t,r){"use strict";var n,i=r(25566);function s(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(91763),a=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[h]=null,e[a]=null,e[u]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var v=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((s(n={get stream(){return this[f]},next:function(){var e,t,r=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[l])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise(function(e,t){i.nextTick(function(){r[c]?t(r[c]):e(p(void 0,!0))})});var s=this[h];if(s)t=new Promise((e=this,function(t,r){s.then(function(){if(e[l]){t(p(void 0,!0));return}e[d](t,r)},r)}));else{var o=this[f].read();if(null!==o)return Promise.resolve(p(o,!1));t=new Promise(this[d])}return this[h]=t,t}},Symbol.asyncIterator,function(){return this}),s(n,"return",function(){var e=this;return new Promise(function(t,r){e[f].destroy(null,function(e){if(e){r(e);return}t(p(void 0,!0))})})}),n),v);e.exports=function(e){var t,r=Object.create(m,(s(t={},f,{value:e,writable:!0}),s(t,a,{value:null,writable:!0}),s(t,u,{value:null,writable:!0}),s(t,c,{value:null,writable:!0}),s(t,l,{value:e._readableState.endEmitted,writable:!0}),s(t,d,{value:function(e,t){var n=r[f].read();n?(r[h]=null,r[a]=null,r[u]=null,e(p(n,!1))):(r[a]=e,r[u]=t)},writable:!0}),t));return r[h]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];null!==t&&(r[h]=null,r[a]=null,r[u]=null,t(e)),r[c]=e;return}var n=r[a];null!==n&&(r[h]=null,r[a]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0}),e.on("readable",y.bind(null,r)),r}},36337:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=s(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var o=r(9109).Buffer,a=r(52361).inspect,u=a&&a.custom||"inspect";e.exports=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n=o.allocUnsafe(e>>>0),i=this.head,s=0;i;)t=i.data,r=s,o.prototype.copy.call(t,n,r),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0==(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return a(this,i(i({},t),{},{depth:0,customInspect:!1}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()},3587:function(e,t,r){"use strict";var n=r(25566);function i(e,t){o(e,t),s(e)}function s(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,e)):n.nextTick(o,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(s,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(s,r),t(e)):n.nextTick(s,r)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},91763:function(e,t,r){"use strict";var n=r(16058).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),o=s||i,a=!1,s=function(){if(!a){a=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.apply(this,t)}};var o,a,u=r.readable||!1!==r.readable&&t.readable,c=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||d()},h=t._writableState&&t._writableState.finished,d=function(){c=!1,h=!0,u||s.call(t)},f=t._readableState&&t._readableState.endEmitted,p=function(){u=!1,f=!0,c||s.call(t)},g=function(e){s.call(t,e)},y=function(){var e;return u&&!f?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):c&&!h?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},v=function(){t.req.on("finish",d)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",d),t.on("abort",y),t.req?v():t.on("request",v)):c&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",p),t.on("finish",d),!1!==r.error&&t.on("error",g),t.on("close",y),function(){t.removeListener("complete",d),t.removeListener("abort",y),t.removeListener("request",v),t.req&&t.req.removeListener("finish",d),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",d),t.removeListener("end",p),t.removeListener("error",g),t.removeListener("close",y)}}},98505:function(e){e.exports=function(){throw Error("Readable.from is not available in the browser")}},85597:function(e,t,r){"use strict";var n,i=r(16058).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e,t,i=arguments.length,l=Array(i),h=0;h<i;h++)l[h]=arguments[h];var d=(e=l).length&&"function"==typeof e[e.length-1]?e.pop():a;if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new s("streams");var f=l.map(function(e,i){var s,a,c,h,p,g,y=i<l.length-1;return s=i>0,c=a=function(e){t||(t=e),e&&f.forEach(u),y||(f.forEach(u),d(t))},h=!1,a=function(){h||(h=!0,c.apply(void 0,arguments))},p=!1,e.on("close",function(){p=!0}),void 0===n&&(n=r(91763)),n(e,{readable:y,writable:s},function(e){if(e)return a(e);p=!0,a()}),g=!1,function(t){if(!p&&!g){if(g=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();a(t||new o("pipe"))}}});return l.reduce(c)}},72164:function(e,t,r){"use strict";var n=r(16058).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var s=null!=t.highWaterMark?t.highWaterMark:i?t[r]:null;if(null!=s){if(!(isFinite(s)&&Math.floor(s)===s)||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},81725:function(e,t,r){e.exports=r(68885).EventEmitter},5939:function(e,t,r){(t=e.exports=r(27813)).Stream=t,t.Readable=t,t.Writable=r(67684),t.Duplex=r(414),t.Transform=r(64958),t.PassThrough=r(87802),t.finished=r(91763),t.pipeline=r(85597)},40333:function(e,t,r){var n=r(10632).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,s=e.length,o=this._len,a=0;a<s;){for(var u=o%i,c=Math.min(s-a,i-u),l=0;l<c;l++)r[u+l]=e[a+l];o+=c,a+=c,o%i==0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0;this._block.writeUInt32BE((r-n)/4294967296,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i},i.prototype._update=function(){throw Error("_update must be implemented by subclass")},e.exports=i},42724:function(e,t,r){var n=e.exports=function(e){var t=n[e=e.toLowerCase()];if(!t)throw Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(53799),n.sha1=r(4836),n.sha224=r(44455),n.sha256=r(51250),n.sha384=r(43836),n.sha512=r(58103)},53799:function(e,t,r){var n=r(87398),i=r(40333),s=r(10632).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,a=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var c=0;c<80;++c){var l,h,d,f,p,g=~~(c/20),y=((l=r)<<5|l>>>27)+(h=n,d=i,f=s,0===g?h&d|~h&f:2===g?h&d|h&f|d&f:h^d^f)+a+t[c]+o[g]|0;a=s,s=i,i=(p=n)<<30|p>>>2,n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},u.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},4836:function(e,t,r){var n=r(87398),i=r(40333),s=r(10632).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,a=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=(l=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|l>>>31;for(var c=0;c<80;++c){var l,h,d,f,p,g,y=~~(c/20),v=((h=r)<<5|h>>>27)+(d=n,f=i,p=s,0===y?d&f|~d&p:2===y?d&f|d&p|f&p:d^f^p)+a+t[c]+o[y]|0;a=s,s=i,i=(g=n)<<30|g>>>2,n=r,r=v}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},u.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},44455:function(e,t,r){var n=r(87398),i=r(51250),s=r(40333),o=r(10632).Buffer,a=Array(64);function u(){this.init(),this._w=a,s.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},51250:function(e,t,r){var n=r(87398),i=r(40333),s=r(10632).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,a=0|this._e,u=0|this._f,c=0|this._g,l=0|this._h,h=0;h<16;++h)t[h]=e.readInt32BE(4*h);for(;h<64;++h)t[h]=(((f=t[h-2])>>>17|f<<15)^(f>>>19|f<<13)^f>>>10)+t[h-7]+(((p=t[h-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)+t[h-16]|0;for(var d=0;d<64;++d){var f,p,g,y,v,m,b,_,w,E=l+(((g=a)>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(y=a,v=u,(m=c)^y&(v^m))+o[d]+t[d]|0,S=(((b=r)>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10))+((_=r)&(w=n)|i&(_|w))|0;l=c,c=u,u=a,a=s+E|0,s=i,i=n,n=r,r=E+S|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=u+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0},u.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},43836:function(e,t,r){var n=r(87398),i=r(58103),s=r(40333),o=r(10632).Buffer,a=Array(160);function u(){this.init(),this._w=a,s.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=o.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},58103:function(e,t,r){var n=r(87398),i=r(40333),s=r(10632).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function l(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return e>>>0<t>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,a=0|this._eh,u=0|this._fh,d=0|this._gh,f=0|this._hh,p=0|this._al,g=0|this._bl,y=0|this._cl,v=0|this._dl,m=0|this._el,b=0|this._fl,_=0|this._gl,w=0|this._hl,E=0;E<32;E+=2)t[E]=e.readInt32BE(4*E),t[E+1]=e.readInt32BE(4*E+4);for(;E<160;E+=2){var S,I,k,C,O,x,R,A,P=t[E-30],D=t[E-30+1],N=((S=P)>>>1|(I=D)<<31)^(S>>>8|I<<24)^S>>>7,T=((k=D)>>>1|(C=P)<<31)^(k>>>8|C<<24)^(k>>>7|C<<25);P=t[E-4],D=t[E-4+1];var M=((O=P)>>>19|(x=D)<<13)^(x>>>29|O<<3)^O>>>6,L=((R=D)>>>19|(A=P)<<13)^(A>>>29|R<<3)^(R>>>6|A<<26),j=t[E-14],B=t[E-14+1],q=t[E-32],U=t[E-32+1],F=T+B|0,$=N+j+h(F,T)|0;$=($=$+M+h(F=F+L|0,L)|0)+q+h(F=F+U|0,U)|0,t[E]=$,t[E+1]=F}for(var H=0;H<160;H+=2){$=t[H],F=t[H+1];var z,V,W,K,G,Q,J,Z,Y,X,ee=(z=r)&(V=n)|i&(z|V),et=(W=p)&(K=g)|y&(W|K),er=c(r,p),en=c(p,r),ei=l(a,m),es=l(m,a),eo=o[H],ea=o[H+1],eu=(G=a,Q=u,(J=d)^G&(Q^J)),ec=(Z=m,Y=b,(X=_)^Z&(Y^X)),el=w+es|0,eh=f+ei+h(el,w)|0;eh=(eh=(eh=eh+eu+h(el=el+ec|0,ec)|0)+eo+h(el=el+ea|0,ea)|0)+$+h(el=el+F|0,F)|0;var ed=en+et|0,ef=er+ee+h(ed,en)|0;f=d,w=_,d=u,_=b,u=a,b=m,a=s+eh+h(m=v+el|0,v)|0,s=i,v=y,i=n,y=g,n=r,g=p,r=eh+ef+h(p=el+ed|0,el)|0}this._al=this._al+p|0,this._bl=this._bl+g|0,this._cl=this._cl+y|0,this._dl=this._dl+v|0,this._el=this._el+m|0,this._fl=this._fl+b|0,this._gl=this._gl+_|0,this._hl=this._hl+w|0,this._ah=this._ah+r+h(this._al,p)|0,this._bh=this._bh+n+h(this._bl,g)|0,this._ch=this._ch+i+h(this._cl,y)|0,this._dh=this._dh+s+h(this._dl,v)|0,this._eh=this._eh+a+h(this._el,m)|0,this._fh=this._fh+u+h(this._fl,b)|0,this._gh=this._gh+d+h(this._gl,_)|0,this._hh=this._hh+f+h(this._hl,w)|0},u.prototype._hash=function(){var e=s.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},76442:function(e){"use strict";e.exports=(e,t)=>{if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];let r=e.indexOf(t);return -1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},29276:function(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},56123:function(e,t,r){"use strict";var n=r(10632).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:this.write=d,this.end=f;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},20310:function(e,t,r){e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}};function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}},44924:function(e){e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},81525:function(){},3436:function(){},44193:function(){},39997:function(e){e.exports={style:{fontFamily:"'__sauceItalic_f3e977', '__sauceItalic_Fallback_f3e977'"},className:"__className_f3e977",variable:"__variable_f3e977"}},93807:function(e){e.exports={style:{fontFamily:"'__sauceLight_cd4e10', '__sauceLight_Fallback_cd4e10'"},className:"__className_cd4e10",variable:"__variable_cd4e10"}},72896:function(e){e.exports={style:{fontFamily:"'__sauceRegular_963c46', '__sauceRegular_Fallback_963c46'"},className:"__className_963c46",variable:"__variable_963c46"}},67940:function(e){e.exports={style:{fontFamily:"'__sauceBold_2a6a56', '__sauceBold_Fallback_2a6a56'"},className:"__className_2a6a56",variable:"__variable_2a6a56"}},78227:function(e,t,r){"use strict";let n=r(57963);e.exports=s;let i=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function s(e){var t,r;(e=e||{}).browser=e.browser||{};let n=e.browser.transmit;if(n&&"function"!=typeof n.send)throw Error("pino: transmit option must have a send function");let l=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);let h=e.serializers||{},g=Array.isArray(t=e.browser.serialize)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(h),y=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(y=!1),"function"==typeof l&&(l.error=l.fatal=l.warn=l.info=l.debug=l.trace=l),!1===e.enabled&&(e.level="silent");let v=e.level||"info",m=Object.create(l);m.log||(m.log=d),Object.defineProperty(m,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(m,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,o(b,m,"error","log"),o(b,m,"fatal","error"),o(b,m,"warn","error"),o(b,m,"info","log"),o(b,m,"debug","log"),o(b,m,"trace","log")}});let b={transmit:n,serialize:g,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?f:p};return m.levels=s.levels,m.level=v,m.setMaxListeners=m.getMaxListeners=m.emit=m.addListener=m.on=m.prependListener=m.once=m.prependOnceListener=m.removeListener=m.removeAllListeners=m.listeners=m.listenerCount=m.eventNames=m.write=m.flush=d,m.serializers=h,m._serialize=g,m._stdErrSerialize=y,m.child=function(t,r){if(!t)throw Error("missing bindings for child Pino");r=r||{},g&&t.serializers&&(r.serializers=t.serializers);let i=r.serializers;if(g&&i){var s=Object.assign({},h,i),o=!0===e.browser.serialize?Object.keys(s):g;delete t.serializers,a([t],o,s,this._stdErrSerialize)}function l(e){this._childLevel=(0|e._childLevel)+1,this.error=u(e,t,"error"),this.fatal=u(e,t,"fatal"),this.warn=u(e,t,"warn"),this.info=u(e,t,"info"),this.debug=u(e,t,"debug"),this.trace=u(e,t,"trace"),s&&(this.serializers=s,this._serialize=o),n&&(this._logEvent=c([].concat(e._logEvent.bindings,t)))}return l.prototype=this,new l(this)},n&&(m._logEvent=c()),m}function o(e,t,r,o){let u=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?d:u[r]?u[r]:i[r]||i[o]||d,function(e,t,r){if(e.transmit||t[r]!==d){var o;t[r]=(o=t[r],function(){let u=e.timestamp(),l=Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<l.length;d++)l[d]=arguments[d];if(e.serialize&&!e.asObject&&a(l,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?o.call(h,function(e,t,r,i){e._serialize&&a(r,e._serialize,e.serializers,e._stdErrSerialize);let o=r.slice(),u=o[0],c={};i&&(c.time=i),c.level=s.levels.values[t];let l=(0|e._childLevel)+1;if(l<1&&(l=1),null!==u&&"object"==typeof u){for(;l--&&"object"==typeof o[0];)Object.assign(c,o.shift());u=o.length?n(o.shift(),o):void 0}else"string"==typeof u&&(u=n(o.shift(),o));return void 0!==u&&(c.msg=u),c}(this,r,l,u)):o.apply(h,l),e.transmit){let n=e.transmit.level||t.level,i=s.levels.values[n],o=s.levels.values[r];if(o<i)return;(function(e,t,r){let n=t.send,i=t.ts,s=t.methodLevel,o=t.methodValue,u=t.val,l=e._logEvent.bindings;a(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter(function(e){return -1===l.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,n(s,e._logEvent,u),e._logEvent=c(l)})(this,{ts:u,methodLevel:r,methodValue:o,transmitLevel:n,transmitValue:s.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},l)}})}}(e,t,r)}function a(e,t,r,n){for(let i in e)if(n&&e[i]instanceof Error)e[i]=s.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(let n in e[i])t&&t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function u(e,t,r){return function(){let n=Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function c(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function l(){return{}}function h(e){return e}function d(){}function f(){return!1}function p(){return Date.now()}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers={mapHttpRequest:l,mapHttpResponse:l,wrapRequestSerializer:h,wrapResponseSerializer:h,wrapErrorSerializer:h,req:l,res:l,err:function(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}},s.stdTimeFunctions=Object.assign({},{nullTime:f,epochTime:p,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},41287:function(e,t,r){"use strict";r.d(t,{h:function(){return ek}});var n,i,s=r(11735),o=r(88164),a=r(53310),u=r(34511),c=r(96530),l=r(71531),h=r(9670),d=r(47737),f=r(3754),p=r(91568),g=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=(0,a.re)(c.Yk,{max:l.Q["cache.fragmentQueryDocuments"]||1e3,cache:f.k})}return e.prototype.batch=function(e){var t,r=this,n="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction(function(){return t=e.update(r)},n),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,s.__assign)((0,s.__assign)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.watchFragment=function(e){var t,r=this,n=e.fragment,i=e.fragmentName,o=e.from,a=e.optimistic,c={returnPartialData:!0,id:"string"==typeof o?o:this.identify(o),query:this.getFragmentDoc(n,i),optimistic:void 0===a||a};return new h.y(function(e){return r.watch((0,s.__assign)((0,s.__assign)({},c),{immediate:!0,query:r.getFragmentDoc(n,i),callback:function(r){if(!(0,u.D)(r,t)){var n={data:r.result,complete:!!r.complete};r.missing&&(n.missing=(0,d.bw)(r.missing.map(function(e){return e.missing}))),t=r,e.next(n)}}}))})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,s.__assign)((0,s.__assign)({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,r=e.data,n=(0,s.__rest)(e,["id","data"]);return this.write(Object.assign(n,{dataId:t||"ROOT_QUERY",result:r}))},e.prototype.writeFragment=function(e){var t=e.id,r=e.data,n=e.fragment,i=e.fragmentName,o=(0,s.__rest)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(n,i),dataId:t,result:r}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(r){var n=r.readQuery(e),i=t(n);return null==i?n:(r.writeQuery((0,s.__assign)((0,s.__assign)({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(r){var n=r.readFragment(e),i=t(n);return null==i?n:(r.writeFragment((0,s.__assign)((0,s.__assign)({},e),{data:i})),i)}})},e}();!1!==globalThis.__DEV__&&(g.prototype.getMemoryInternals=p.Kb);var y=function(e){function t(r,n,i,s){var o,a=e.call(this,r)||this;if(a.message=r,a.path=n,a.query=i,a.variables=s,Array.isArray(a.path)){a.missing=a.message;for(var u=a.path.length-1;u>=0;--u)a.missing=((o={})[a.path[u]]=a.missing,o)}else a.missing=a.path;return a.__proto__=t.prototype,a}return(0,s.__extends)(t,e),t}(Error),v=r(64774),m=r(69159),b=r(79045),_=r(32457),w=r(98290),E=r(18350),S=r(92511),I=r(8620),k=r(20084),C=r(52120),O=r(72018),x=r(81167),R=r(47637),A=r(91567),P=Object.prototype.hasOwnProperty;function D(e){return null==e}function N(e,t){var r=e.__typename,n=e.id,i=e._id;if("string"==typeof r&&(t&&(t.keyObject=D(n)?D(i)?void 0:{_id:i}:{id:n}),D(n)&&!D(i)&&(n=i),!D(n)))return"".concat(r,":").concat("number"==typeof n||"string"==typeof n?n:JSON.stringify(n))}var T={dataIdFromObject:N,addTypename:!0,resultCaching:!0,canonizeResults:!1};function M(e){var t=e.canonizeResults;return void 0===t?T.canonizeResults:t}var L=/^[_a-z][_0-9a-z]*/i;function j(e){var t=e.match(L);return t?t[0]:e}function B(e){return(0,x.s)(e)&&!(0,w.Yk)(e)&&!(0,A.k)(e)}function q(e,t){var r=(0,c.F)((0,k.kU)(e));return{fragmentMap:r,lookupFragment:function(e){var n=r[e];return!n&&t&&(n=t.lookup(e)),n||null}}}var U=Object.create(null),F=function(){return U},$=Object.create(null),H=function(){function e(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,O.J)((0,w.Yk)(e)?r.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return(0,w.Yk)(e)?r.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return(0,w.kQ)(e);if((0,w.Yk)(e))return e;var n=r.policies.identify(e)[0];if(n){var i=(0,w.kQ)(n);return t&&r.merge(n,e),i}}}return e.prototype.toObject=function(){return(0,s.__assign)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),P.call(this.data,e)){var r=this.data[e];if(r&&P.call(r,t))return r[t]}return"__typename"===t&&P.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof W?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return(t&&this.group.depend(e,"__exists"),P.call(this.data,e))?this.data[e]:this instanceof W?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var r,n=this;(0,w.Yk)(e)&&(e=e.__ref),(0,w.Yk)(t)&&(t=t.__ref);var i="string"==typeof e?this.lookup(r=e):e,s="string"==typeof t?this.lookup(r=t):t;if(s){(0,o.kG)("string"==typeof r,1);var a=new d.w0(G).merge(i,s);if(this.data[r]=a,a!==i&&(delete this.refs[r],this.group.caching)){var u=Object.create(null);i||(u.__exists=1),Object.keys(s).forEach(function(e){if(!i||i[e]!==a[e]){u[e]=1;var t=j(e);t===e||n.policies.hasKeyArgs(a.__typename,t)||(u[t]=1),void 0!==a[e]||n instanceof W||delete a[e]}}),u.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[r]===a.__typename&&delete u.__typename,Object.keys(u).forEach(function(e){return n.group.dirty(r,e)})}}},e.prototype.modify=function(e,t){var r=this,n=this.lookup(e);if(n){var i=Object.create(null),a=!1,u=!0,c={DELETE:U,INVALIDATE:$,isReference:w.Yk,toReference:this.toReference,canRead:this.canRead,readField:function(t,n){return r.policies.readField("string"==typeof t?{fieldName:t,from:n||(0,w.kQ)(e)}:t,{store:r})}};if(Object.keys(n).forEach(function(l){var h=j(l),d=n[l];if(void 0!==d){var f="function"==typeof t?t:t[l]||t[h];if(f){var p=f===F?U:f((0,O.J)(d),(0,s.__assign)((0,s.__assign)({},c),{fieldName:h,storeFieldName:l,storage:r.getStorage(e,l)}));if(p===$)r.group.dirty(e,l);else if(p===U&&(p=void 0),p!==d&&(i[l]=p,a=!0,d=p,!1!==globalThis.__DEV__)){var g=function(e){if(void 0===r.lookup(e.__ref))return!1!==globalThis.__DEV__&&o.kG.warn(2,e),!0};if((0,w.Yk)(p))g(p);else if(Array.isArray(p))for(var y=!1,v=void 0,m=0,b=p;m<b.length;m++){var _=b[m];if((0,w.Yk)(_)){if(y=!0,g(_))break}else"object"==typeof _&&_&&r.policies.identify(_)[0]&&(v=_);if(y&&void 0!==v){!1!==globalThis.__DEV__&&o.kG.warn(3,v);break}}}}void 0!==d&&(u=!1)}}),a)return this.merge(e,i),u&&(this instanceof W?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,r){var n,i=this.lookup(e);if(i){var s=this.getFieldValue(i,"__typename"),o=t&&r?this.policies.getStoreFieldName({typename:s,fieldName:t,args:r}):t;return this.modify(e,o?((n={})[o]=F,n):F)}return!1},e.prototype.evict=function(e,t){var r=!1;return e.id&&(P.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof W&&this!==t&&(r=this.parent.evict(e,t)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),r=[];return this.getRootIdSet().forEach(function(t){P.call(e.policies.rootTypenamesById,t)||r.push(t)}),r.length&&(t.__META={extraRootIds:r.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach(function(r){e&&P.call(e,r)||t.delete(r)}),e){var r=e.__META,n=(0,s.__rest)(e,["__META"]);Object.keys(n).forEach(function(e){t.merge(e,n[e])}),r&&r.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof W?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),r=this.toObject();t.forEach(function(n){P.call(r,n)&&(Object.keys(e.findChildRefIds(n)).forEach(t.add,t),delete r[n])});var n=Object.keys(r);if(n.length){for(var i=this;i instanceof W;)i=i.parent;n.forEach(function(e){return i.delete(e)})}return n},e.prototype.findChildRefIds=function(e){if(!P.call(this.refs,e)){var t=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return t;var n=new Set([r]);n.forEach(function(e){(0,w.Yk)(e)&&(t[e.__ref]=!0),(0,x.s)(e)&&Object.keys(e).forEach(function(t){var r=e[t];(0,x.s)(r)&&n.add(r)})})}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),z=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?(0,a.dP)():null,this.keyMaker=new R.B(S.mr)},e.prototype.depend=function(e,t){if(this.d){this.d(t+"#"+e);var r=j(t);r!==t&&this.d(r+"#"+e),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(t+"#"+e,"__exists"===t?"forget":"setDirty")},e}();function V(e,t){Q(e)&&e.group.depend(t,"__exists")}i=function(e){function t(t){var r=t.policies,n=t.resultCaching,i=t.seed,s=e.call(this,r,new z(void 0===n||n))||this;return s.stump=new K(s),s.storageTrie=new R.B(S.mr),i&&s.replace(i),s}return(0,s.__extends)(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(n=H||(H={})),n.Root=i;var W=function(e){function t(t,r,n,i){var s=e.call(this,r.policies,i)||this;return s.id=t,s.parent=r,s.replay=n,s.group=i,n(s),s}return(0,s.__extends)(t,e),t.prototype.addLayer=function(e,r){return new t(e,this,r,this.group)},t.prototype.removeLayer=function(e){var t=this,r=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(e){var n=t.data[e],i=r.lookup(e);i?n?n!==i&&Object.keys(n).forEach(function(r){(0,u.D)(n[r],i[r])||t.group.dirty(e,r)}):(t.group.dirty(e,"__exists"),Object.keys(i).forEach(function(r){t.group.dirty(e,r)})):t.delete(e)}),r):r===this.parent?this:r.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,s.__assign)((0,s.__assign)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var r=this.parent.findChildRefIds(t);return P.call(this.data,t)?(0,s.__assign)((0,s.__assign)({},r),e.prototype.findChildRefIds.call(this,t)):r},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(H),K=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,function(){},new z(t.group.caching,t.group))||this}return(0,s.__extends)(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(e,t){return this.parent.merge(e,t)},t}(W);function G(e,t,r){var n=e[r],i=t[r];return(0,u.D)(n,i)?n:i}function Q(e){return!!(e instanceof H&&e.group.caching)}var J=function(){function e(){this.known=new(S.sy?WeakSet:Set),this.pool=new R.B(S.mr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return(0,x.s)(e)&&this.known.has(e)},e.prototype.pass=function(e){if((0,x.s)(e)){var t=(0,x.s)(e)?(0,A.k)(e)?e.slice(0):(0,s.__assign)({__proto__:Object.getPrototypeOf(e)},e):e;return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if((0,x.s)(e)){var r=this.passes.get(e);if(r)return r;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))break;var n=e.map(this.admit,this),i=this.pool.lookupArray(n);return i.array||(this.known.add(i.array=n),!1!==globalThis.__DEV__&&Object.freeze(n)),i.array;case null:case Object.prototype:if(this.known.has(e))break;var s=Object.getPrototypeOf(e),o=[s],a=this.sortedKeys(e);o.push(a.json);var u=o.length;a.sorted.forEach(function(r){o.push(t.admit(e[r]))});var i=this.pool.lookupArray(o);if(!i.object){var c=i.object=Object.create(s);this.known.add(c),a.sorted.forEach(function(e,t){c[e]=o[u+t]}),!1!==globalThis.__DEV__&&Object.freeze(c)}return i.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),r=this.pool.lookupArray(t);if(!r.keys){t.sort();var n=JSON.stringify(t);(r.keys=this.keysByJSON.get(n))||this.keysByJSON.set(n,r.keys={sorted:t,json:n})}return r.keys},e}();function Z(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var Y=function(){function e(e){var t=this;this.knownResults=new(S.mr?WeakMap:Map),this.config=(0,I.o)(e,{addTypename:!1!==e.addTypename,canonizeResults:M(e)}),this.canon=e.canon||new J,this.executeSelectionSet=(0,a.re)(function(e){var r,n=e.context.canonizeResults,i=Z(e);i[3]=!n;var o=(r=t.executeSelectionSet).peek.apply(r,i);return o?n?(0,s.__assign)((0,s.__assign)({},o),{result:t.canon.admit(o.result)}):o:(V(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))},{max:this.config.resultCacheMaxSize||l.Q["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:Z,makeCacheKey:function(e,t,r,n){if(Q(r.store))return r.store.makeCacheKey(e,(0,w.Yk)(t)?t.__ref:t,r.varString,n)}}),this.executeSubSelectedArray=(0,a.re)(function(e){return V(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)},{max:this.config.resultCacheMaxSize||l.Q["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(e){var t=e.field,r=e.array,n=e.context;if(Q(n.store))return n.store.makeCacheKey(t,r,n.varString)}})}return e.prototype.resetCanon=function(){this.canon=new J},e.prototype.diffQueryAgainstStore=function(e){var t,r=e.store,n=e.query,i=e.rootId,o=e.variables,a=e.returnPartialData,u=e.canonizeResults,c=void 0===u?this.config.canonizeResults:u,l=this.config.cache.policies;o=(0,s.__assign)((0,s.__assign)({},(0,k.O4)((0,k.iW)(n))),o);var h=(0,w.kQ)(void 0===i?"ROOT_QUERY":i),d=this.executeSelectionSet({selectionSet:(0,k.p$)(n).selectionSet,objectOrReference:h,enclosingRef:h,context:(0,s.__assign)({store:r,query:n,policies:l,variables:o,varString:(0,b.B)(o),canonizeResults:c},q(n,this.config.fragments))});if(d.missing&&(t=[new y(function(e){try{JSON.stringify(e,function(e,t){if("string"==typeof t)throw t;return t})}catch(e){return e}}(d.missing),d.missing,n,o)],!(void 0===a||a)))throw t[0];return{result:d.result,complete:!t,missing:t}},e.prototype.isFresh=function(e,t,r,n){if(Q(n.store)&&this.knownResults.get(e)===r){var i=this.executeSelectionSet.peek(r,t,n,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t,r=this,n=e.selectionSet,i=e.objectOrReference,s=e.enclosingRef,a=e.context;if((0,w.Yk)(i)&&!a.policies.rootTypenamesById[i.__ref]&&!a.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var u=a.variables,l=a.policies,h=a.store.getFieldValue(i,"__typename"),f=[],p=new d.w0;function g(e,r){var n;return e.missing&&(t=p.merge(t,((n={})[r]=e.missing,n))),e.result}this.config.addTypename&&"string"==typeof h&&!l.rootIdsByTypename[h]&&f.push({__typename:h});var y=new Set(n.selections);y.forEach(function(e){var n,d;if((0,C.LZ)(e,u)){if((0,w.My)(e)){var v=l.readField({fieldName:e.name.value,field:e,variables:a.variables,from:i},a),b=(0,w.u2)(e);void 0===v?m.Gw.added(e)||(t=p.merge(t,((n={})[b]="Can't find field '".concat(e.name.value,"' on ").concat((0,w.Yk)(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),n))):(0,A.k)(v)?v.length>0&&(v=g(r.executeSubSelectedArray({field:e,array:v,enclosingRef:s,context:a}),b)):e.selectionSet?null!=v&&(v=g(r.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:v,enclosingRef:(0,w.Yk)(v)?v:s,context:a}),b)):a.canonizeResults&&(v=r.canon.pass(v)),void 0!==v&&f.push(((d={})[b]=v,d))}else{var _=(0,c.hi)(e,a.lookupFragment);if(!_&&e.kind===E.h.FRAGMENT_SPREAD)throw(0,o._K)(9,e.name.value);_&&l.fragmentMatches(_,h)&&_.selectionSet.selections.forEach(y.add,y)}}});var v={result:(0,d.bw)(f),missing:t},b=a.canonizeResults?this.canon.admit(v):(0,O.J)(v);return b.result&&this.knownResults.set(b.result,n),b},e.prototype.execSubSelectedArrayImpl=function(e){var t,r=this,n=e.field,i=e.array,s=e.enclosingRef,a=e.context,u=new d.w0;function c(e,r){var n;return e.missing&&(t=u.merge(t,((n={})[r]=e.missing,n))),e.result}return n.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map(function(e,t){return null===e?null:(0,A.k)(e)?c(r.executeSubSelectedArray({field:n,array:e,enclosingRef:s,context:a}),t):n.selectionSet?c(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:e,enclosingRef:(0,w.Yk)(e)?e:s,context:a}),t):(!1!==globalThis.__DEV__&&function(e,t,r){if(!t.selectionSet){var n=new Set([r]);n.forEach(function(r){(0,x.s)(r)&&((0,o.kG)(!(0,w.Yk)(r),10,(0,w.Yk)(r)?e.get(r.__ref,"__typename"):r&&r.__typename,t.name.value),Object.values(r).forEach(n.add,n))})}}(a.store,n,e),e)}),{result:a.canonizeResults?this.canon.admit(i):i,missing:t}},e}(),X=r(81893),ee=r(48142),et=r(78771),er=Object.create(null);function en(e){var t=JSON.stringify(e);return er[t]||(er[t]=Object.create(null))}function ei(e){var t=en(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,r){var n=function(e,t){return r.readField(t,e)},i=r.keyObject=eo(e,function(e){var i=eu(r.storeObject,e,n);return void 0===i&&t!==r.storeObject&&P.call(t,e[0])&&(i=eu(t,e,ea)),(0,o.kG)(void 0!==i,4,e.join("."),t),i});return"".concat(r.typename,":").concat(JSON.stringify(i))})}function es(e){var t=en(e);return t.keyArgsFn||(t.keyArgsFn=function(t,r){var n=r.field,i=r.variables,s=r.fieldName,o=JSON.stringify(eo(e,function(e){var r=e[0],s=r.charAt(0);if("@"===s){if(n&&(0,A.O)(n.directives)){var o=r.slice(1),a=n.directives.find(function(e){return e.name.value===o}),u=a&&(0,w.NC)(a,i);return u&&eu(u,e.slice(1))}return}if("$"===s){var c=r.slice(1);if(i&&P.call(i,c)){var l=e.slice(0);return l[0]=c,eu(i,l)}return}if(t)return eu(t,e)}));return(t||"{}"!==o)&&(s+=":"+o),s})}function eo(e,t){var r=new d.w0;return(function e(t){var r=en(t);if(!r.paths){var n=r.paths=[],i=[];t.forEach(function(r,s){(0,A.k)(r)?(e(r).forEach(function(e){return n.push(i.concat(e))}),i.length=0):(i.push(r),(0,A.k)(t[s+1])||(n.push(i.slice(0)),i.length=0))})}return r.paths})(e).reduce(function(e,n){var i,s=t(n);if(void 0!==s){for(var o=n.length-1;o>=0;--o)(i={})[n[o]]=s,s=i;e=r.merge(e,s)}return e},Object.create(null))}function ea(e,t){return e[t]}function eu(e,t,r){return r=r||ea,function e(t){return(0,x.s)(t)?(0,A.k)(t)?t.map(e):eo(Object.keys(t).sort(),function(e){return eu(t,e)}):t}(t.reduce(function e(t,n){return(0,A.k)(t)?t.map(function(t){return e(t,n)}):t&&r(t,n)},e))}function ec(e){return void 0!==e.args?e.args:e.field?(0,w.NC)(e.field,e.variables):null}var el=function(){},eh=function(e,t){return t.fieldName},ed=function(e,t,r){return(0,r.mergeObjects)(e,t)},ef=function(e,t){return t},ep=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,s.__assign)({dataIdFromObject:N},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var r,n,i=this,o=t&&(t.typename||(null===(r=t.storeObject)||void 0===r?void 0:r.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var a=t&&t.storeObject||e,u=(0,s.__assign)((0,s.__assign)({},t),{typename:o,storeObject:a,readField:t&&t.readField||function(){var e=ey(arguments,a);return i.readField(e,{store:i.cache.data,variables:e.variables})}}),c=o&&this.getTypePolicy(o),l=c&&c.keyFn||this.config.dataIdFromObject;l;){var h=l((0,s.__assign)((0,s.__assign)({},e),a),u);if((0,A.k)(h))l=ei(h);else{n=h;break}}return n=n?String(n):void 0,u.keyObject?[n,u.keyObject]:[n]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach(function(r){var n=e[r],i=n.queryType,o=n.mutationType,a=n.subscriptionType,u=(0,s.__rest)(n,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",r),o&&t.setRootTypename("Mutation",r),a&&t.setRootTypename("Subscription",r),P.call(t.toBeAdded,r)?t.toBeAdded[r].push(u):t.toBeAdded[r]=[u]})},e.prototype.updateTypePolicy=function(e,t){var r=this,n=this.getTypePolicy(e),i=t.keyFields,s=t.fields;function o(e,t){e.merge="function"==typeof t?t:!0===t?ed:!1===t?ef:e.merge}o(n,t.merge),n.keyFn=!1===i?el:(0,A.k)(i)?ei(i):"function"==typeof i?i:n.keyFn,s&&Object.keys(s).forEach(function(t){var n=r.getFieldPolicy(e,t,!0),i=s[t];if("function"==typeof i)n.read=i;else{var a=i.keyArgs,u=i.read,c=i.merge;n.keyFn=!1===a?eh:(0,A.k)(a)?es(a):"function"==typeof a?a:n.keyFn,"function"==typeof u&&(n.read=u),o(n,c)}n.read&&n.merge&&(n.keyFn=n.keyFn||eh)})},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var r="ROOT_"+e.toUpperCase(),n=this.rootTypenamesById[r];t!==n&&((0,o.kG)(!n||n===e,5,e),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){t.getSupertypeSet(r,!0),e[r].forEach(function(e){t.getSupertypeSet(e,!0).add(r);var n=e.match(L);n&&n[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))})})},e.prototype.getTypePolicy=function(e){var t=this;if(!P.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var n=this.supertypeMap.get(e);!n&&this.fuzzySubtypes.size&&(n=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(r,i){if(r.test(e)){var s=t.supertypeMap.get(i);s&&s.forEach(function(e){return n.add(e)})}})),n&&n.size&&n.forEach(function(e){var n=t.getTypePolicy(e),i=n.fields;Object.assign(r,(0,s.__rest)(n,["fields"])),Object.assign(r.fields,i)})}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach(function(r){t.updateTypePolicy(e,r)}),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,r){if(e){var n=this.getTypePolicy(e).fields;return n[t]||r&&(n[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r},e.prototype.fragmentMatches=function(e,t,r,n){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var s=e.typeCondition.name.value;if(t===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var a=this.getSupertypeSet(t,!0),u=[a],c=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&0>u.indexOf(t)&&u.push(t)},l=!!(r&&this.fuzzySubtypes.size),h=!1,d=0;d<u.length;++d){var f=u[d];if(f.has(s))return a.has(s)||(h&&!1!==globalThis.__DEV__&&o.kG.warn(6,t,s),a.add(s)),!0;f.forEach(c),l&&d===u.length-1&&function e(t,r,n){return!!(0,x.s)(r)&&((0,A.k)(r)?r.every(function(r){return e(t,r,n)}):t.selections.every(function(t){if((0,w.My)(t)&&(0,C.LZ)(t,n)){var i=(0,w.u2)(t);return P.call(r,i)&&(!t.selectionSet||e(t.selectionSet,r[i],n))}return!0}))}(e.selectionSet,r,n)&&(l=!1,h=!0,this.fuzzySubtypes.forEach(function(e,r){var n=t.match(e);n&&n[0]===t&&c(r)}))}return!1},e.prototype.hasKeyArgs=function(e,t){var r=this.getFieldPolicy(e,t,!1);return!!(r&&r.keyFn)},e.prototype.getStoreFieldName=function(e){var t,r=e.typename,n=e.fieldName,i=this.getFieldPolicy(r,n,!1),s=i&&i.keyFn;if(s&&r)for(var o={typename:r,fieldName:n,field:e.field||null,variables:e.variables},a=ec(e);s;){var u=s(a,o);if((0,A.k)(u))s=es(u);else{t=u||n;break}}return(void 0===t&&(t=e.field?(0,w.vf)(e.field,e.variables):(0,w.PT)(n,ec(e))),!1===t)?n:n===j(t)?t:n+":"+t},e.prototype.readField=function(e,t){var r=e.from;if(r&&(e.field||e.fieldName)){if(void 0===e.typename){var n=t.store.getFieldValue(r,"__typename");n&&(e.typename=n)}var i=this.getStoreFieldName(e),s=j(i),o=t.store.getFieldValue(r,i),a=this.getFieldPolicy(e.typename,s,!1),u=a&&a.read;if(u){var c=eg(this,r,e,t,t.store.getStorage((0,w.Yk)(r)?r.__ref:r,i));return et.ab.withValue(this.cache,u,[o,c])}return o}},e.prototype.getReadFunction=function(e,t){var r=this.getFieldPolicy(e,t,!1);return r&&r.read},e.prototype.getMergeFunction=function(e,t,r){var n=this.getFieldPolicy(e,t,!1),i=n&&n.merge;return!i&&r&&(i=(n=this.getTypePolicy(r))&&n.merge),i},e.prototype.runMergeFunction=function(e,t,r,n,i){var s=r.field,o=r.typename,a=r.merge;return a===ed?ev(n.store)(e,t):a===ef?t:(n.overwrite&&(e=void 0),a(e,t,eg(this,void 0,{typename:o,fieldName:s.name.value,field:s,variables:n.variables},n,i||Object.create(null))))},e}();function eg(e,t,r,n,i){var s=e.getStoreFieldName(r),o=j(s),a=r.variables||n.variables,u=n.store,c=u.toReference,l=u.canRead;return{args:ec(r),field:r.field||null,fieldName:o,storeFieldName:s,variables:a,isReference:w.Yk,toReference:c,storage:i,cache:e.cache,canRead:l,readField:function(){return e.readField(ey(arguments,t,a),n)},mergeObjects:ev(n.store)}}function ey(e,t,r){var n,i=e[0],a=e[1],u=e.length;return"string"==typeof i?n={fieldName:i,from:u>1?a:t}:(n=(0,s.__assign)({},i),P.call(n,"from")||(n.from=t)),!1!==globalThis.__DEV__&&void 0===n.from&&!1!==globalThis.__DEV__&&o.kG.warn(7,(0,ee.v)(Array.from(e))),void 0===n.variables&&(n.variables=r),n}function ev(e){return function(t,r){if((0,A.k)(t)||(0,A.k)(r))throw(0,o._K)(8);if((0,x.s)(t)&&(0,x.s)(r)){var n=e.getFieldValue(t,"__typename"),i=e.getFieldValue(r,"__typename");if(n&&i&&n!==i)return r;if((0,w.Yk)(t)&&B(r))return e.merge(t.__ref,r),t;if(B(t)&&(0,w.Yk)(r))return e.merge(t,r.__ref),r;if(B(t)&&B(r))return(0,s.__assign)((0,s.__assign)({},t),r)}return r}}function em(e,t,r){var n="".concat(t).concat(r),i=e.flavors.get(n);return i||e.flavors.set(n,i=e.clientOnly===t&&e.deferred===r?e:(0,s.__assign)((0,s.__assign)({},e),{clientOnly:t,deferred:r})),i}var eb=function(){function e(e,t,r){this.cache=e,this.reader=t,this.fragments=r}return e.prototype.writeToStore=function(e,t){var r=this,n=t.query,i=t.result,a=t.dataId,c=t.variables,l=t.overwrite,h=(0,k.$H)(n),f=new d.w0;c=(0,s.__assign)((0,s.__assign)({},(0,k.O4)(h)),c);var p=(0,s.__assign)((0,s.__assign)({store:e,written:Object.create(null),merge:function(e,t){return f.merge(e,t)},variables:c,varString:(0,b.B)(c)},q(n,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),g=this.processSelectionSet({result:i||Object.create(null),dataId:a,selectionSet:h.selectionSet,mergeTree:{map:new Map},context:p});if(!(0,w.Yk)(g))throw(0,o._K)(11,i);return p.incomingById.forEach(function(t,n){var i=t.storeObject,s=t.mergeTree,a=t.fieldNodeSet,c=(0,w.kQ)(n);if(s&&s.map.size){var l=r.applyMerges(s,c,i,p);if((0,w.Yk)(l))return;i=l}if(!1!==globalThis.__DEV__&&!p.overwrite){var h=Object.create(null);a.forEach(function(e){e.selectionSet&&(h[e.name.value]=!0)});var d=function(e){var t=s&&s.map.get(e);return!!(t&&t.info&&t.info.merge)};Object.keys(i).forEach(function(e){!0!==h[j(e)]||d(e)||function(e,t,r,n){var i=function(e){var t=n.getFieldValue(e,r);return"object"==typeof t&&t},s=i(e);if(s){var a=i(t);if(!(!a||(0,w.Yk)(s)||(0,u.D)(s,a)||Object.keys(s).every(function(e){return void 0!==n.getFieldValue(a,e)}))){var c=n.getFieldValue(e,"__typename")||n.getFieldValue(t,"__typename"),l=j(r),h="".concat(c,".").concat(l);if(!eI.has(h)){eI.add(h);var d=[];(0,A.k)(s)||(0,A.k)(a)||[s,a].forEach(function(e){var t=n.getFieldValue(e,"__typename");"string"!=typeof t||d.includes(t)||d.push(t)}),!1!==globalThis.__DEV__&&o.kG.warn(14,l,c,d.length?"either ensure all objects of type "+d.join(" and ")+" have an ID or a custom merge function, or ":"",h,s,a)}}}}(c,i,e,p.store)})}e.merge(n,i)}),e.retain(g.__ref),g},e.prototype.processSelectionSet=function(e){var t=this,r=e.dataId,n=e.result,i=e.selectionSet,a=e.context,u=e.mergeTree,c=this.cache.policies,l=Object.create(null),h=r&&c.rootTypenamesById[r]||(0,w.qw)(n,i,a.fragmentMap)||r&&a.store.get(r,"__typename");"string"==typeof h&&(l.__typename=h);var d=function(){var e=ey(arguments,l,a.variables);if((0,w.Yk)(e.from)){var t=a.incomingById.get(e.from.__ref);if(t){var r=c.readField((0,s.__assign)((0,s.__assign)({},e),{from:t.storeObject}),a);if(void 0!==r)return r}}return c.readField(e,a)},f=new Set;this.flattenFields(i,n,a,h).forEach(function(e,r){var i,s=n[(0,w.u2)(r)];if(f.add(r),void 0!==s){var a=c.getStoreFieldName({typename:h,fieldName:r.name.value,field:r,variables:e.variables}),p=ew(u,a),g=t.processFieldValue(s,r,r.selectionSet?em(e,!1,!1):e,p),y=void 0;r.selectionSet&&((0,w.Yk)(g)||B(g))&&(y=d("__typename",g));var v=c.getMergeFunction(h,r.name.value,y);v?p.info={field:r,typename:h,merge:v}:eS(u,a),l=e.merge(l,((i={})[a]=g,i))}else!1===globalThis.__DEV__||e.clientOnly||e.deferred||m.Gw.added(r)||c.getReadFunction(h,r.name.value)||!1===globalThis.__DEV__||o.kG.error(12,(0,w.u2)(r),n)});try{var p=c.identify(n,{typename:h,selectionSet:i,fragmentMap:a.fragmentMap,storeObject:l,readField:d}),g=p[0],y=p[1];r=r||g,y&&(l=a.merge(l,y))}catch(e){if(!r)throw e}if("string"==typeof r){var v=(0,w.kQ)(r),b=a.written[r]||(a.written[r]=[]);if(b.indexOf(i)>=0||(b.push(i),this.reader&&this.reader.isFresh(n,v,i,a)))return v;var _=a.incomingById.get(r);return _?(_.storeObject=a.merge(_.storeObject,l),_.mergeTree=function e(t,r){if(t===r||!r||eE(r))return t;if(!t||eE(t))return r;var n=t.info&&r.info?(0,s.__assign)((0,s.__assign)({},t.info),r.info):t.info||r.info,i=t.map.size&&r.map.size,o={info:n,map:i?new Map:t.map.size?t.map:r.map};if(i){var a=new Set(r.map.keys());t.map.forEach(function(t,n){o.map.set(n,e(t,r.map.get(n))),a.delete(n)}),a.forEach(function(n){o.map.set(n,e(r.map.get(n),t.map.get(n)))})}return o}(_.mergeTree,u),f.forEach(function(e){return _.fieldNodeSet.add(e)})):a.incomingById.set(r,{storeObject:l,mergeTree:eE(u)?void 0:u,fieldNodeSet:f}),v}return l},e.prototype.processFieldValue=function(e,t,r,n){var i=this;return t.selectionSet&&null!==e?(0,A.k)(e)?e.map(function(e,s){var o=i.processFieldValue(e,t,r,ew(n,s));return eS(n,s),o}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:n}):!1!==globalThis.__DEV__?(0,X.X)(e):e},e.prototype.flattenFields=function(e,t,r,n){void 0===n&&(n=(0,w.qw)(t,e,r.fragmentMap));var i=new Map,s=this.cache.policies,a=new R.B(!1);return function e(u,l){var h=a.lookup(u,l.clientOnly,l.deferred);h.visited||(h.visited=!0,u.selections.forEach(function(a){if((0,C.LZ)(a,r.variables)){var u=l.clientOnly,h=l.deferred;if(!(u&&h)&&(0,A.O)(a.directives)&&a.directives.forEach(function(e){var t=e.name.value;if("client"===t&&(u=!0),"defer"===t){var n=(0,w.NC)(e,r.variables);n&&!1===n.if||(h=!0)}}),(0,w.My)(a)){var d=i.get(a);d&&(u=u&&d.clientOnly,h=h&&d.deferred),i.set(a,em(r,u,h))}else{var f=(0,c.hi)(a,r.lookupFragment);if(!f&&a.kind===E.h.FRAGMENT_SPREAD)throw(0,o._K)(13,a.name.value);f&&s.fragmentMatches(f,n,t,r.variables)&&e(f.selectionSet,em(r,u,h))}}}))}(e,r),i},e.prototype.applyMerges=function(e,t,r,n,i){var a=this;if(e.map.size&&!(0,w.Yk)(r)){var u,c,l=!(0,A.k)(r)&&((0,w.Yk)(t)||B(t))?t:void 0,h=r;l&&!i&&(i=[(0,w.Yk)(l)?l.__ref:l]);var d=function(e,t){return(0,A.k)(e)?"number"==typeof t?e[t]:void 0:n.store.getFieldValue(e,String(t))};e.map.forEach(function(e,t){var r=d(l,t),s=d(h,t);if(void 0!==s){i&&i.push(t);var u=a.applyMerges(e,r,s,n,i);u!==s&&(c=c||new Map).set(t,u),i&&(0,o.kG)(i.pop()===t)}}),c&&(r=(0,A.k)(h)?h.slice(0):(0,s.__assign)({},h),c.forEach(function(e,t){r[t]=e}))}return e.info?this.cache.policies.runMergeFunction(t,r,e.info,n,i&&(u=n.store).getStorage.apply(u,i)):r},e}(),e_=[];function ew(e,t){var r=e.map;return r.has(t)||r.set(t,e_.pop()||{map:new Map}),r.get(t)}function eE(e){return!e||!(e.info||e.map.size)}function eS(e,t){var r=e.map,n=r.get(t);n&&eE(n)&&(e_.push(n),r.delete(t))}var eI=new Set,ek=function(e){function t(t){void 0===t&&(t={});var r,n=e.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new v.A(m.Gw),n.assumeImmutableResults=!0,n.makeVar=et.QS,n.txCount=0,n.config=(r=t,(0,I.o)(T,r)),n.addTypename=!!n.config.addTypename,n.policies=new ep({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return(0,s.__extends)(t,e),t.prototype.init=function(){var e=this.data=new H.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,r=this.storeReader,n=this.config.fragments;this.storeWriter=new eb(this,this.storeReader=new Y({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:M(this.config),canon:e?void 0:r&&r.canon,fragments:n}),n),this.maybeBroadcastWatch=(0,a.re)(function(e,r){return t.broadcastWatch(e,r)},{max:this.config.resultCacheMaxSize||l.Q["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(e){var r=e.optimistic?t.optimisticData:t.data;if(Q(r)){var n=e.optimistic,i=e.id,s=e.variables;return r.makeCacheKey(e.query,e.callback,(0,b.B)({optimistic:n,id:i,variables:s}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(e){return e.resetCaching()})},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData;try{return this.storeReader.diffQueryAgainstStore((0,s.__assign)((0,s.__assign)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:void 0!==t&&t})).result||null}catch(e){if(e instanceof y)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(P.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore((0,s.__assign)((0,s.__assign)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t=this;return this.watches.size||(0,et._v)(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&(0,et.li)(t),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){b.B.reset(),_.S.reset(),this.addTypenameTransform.resetCache(),null===(t=this.config.fragments)||void 0===t||t.resetCaches();var t,r=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),r},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if((0,w.Yk)(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){!1!==globalThis.__DEV__&&o.kG.warn(e)}},t.prototype.evict=function(e){if(!e.id){if(P.call(e,"id"))return!1;e=(0,s.__assign)((0,s.__assign)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),b.B.reset(),e&&e.discardWatches?(this.watches.forEach(function(e){return t.maybeBroadcastWatch.forget(e)}),this.watches.clear(),(0,et.li)(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,r=this,n=e.update,i=e.optimistic,o=void 0===i||i,a=e.removeOptimistic,u=e.onWatchUpdated,c=function(e){var i=r.data,s=r.optimisticData;++r.txCount,e&&(r.data=r.optimisticData=e);try{return t=n(r)}finally{--r.txCount,r.data=i,r.optimisticData=s}},l=new Set;return u&&!this.txCount&&this.broadcastWatches((0,s.__assign)((0,s.__assign)({},e),{onWatchUpdated:function(e){return l.add(e),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,c):!1===o?c(this.data):c(),"string"==typeof a&&(this.optimisticData=this.optimisticData.removeLayer(a)),u&&l.size?(this.broadcastWatches((0,s.__assign)((0,s.__assign)({},e),{onWatchUpdated:function(e,t){var r=u.call(this,e,t);return!1!==r&&l.delete(e),r}})),l.size&&l.forEach(function(e){return r.maybeBroadcastWatch.dirty(e)})):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach(function(r){return t.maybeBroadcastWatch(r,e)})},t.prototype.addFragmentsToDocument=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,t){var r=e.lastDiff,n=this.diff(e);(!t||(e.optimistic&&"string"==typeof t.optimistic&&(n.fromOptimisticTransaction=!0),!t.onWatchUpdated||!1!==t.onWatchUpdated.call(this,e,n,r)))&&(r&&(0,u.D)(r.result,n.result)||e.callback(e.lastDiff=n,r))},t}(g);!1!==globalThis.__DEV__&&(ek.prototype.getMemoryInternals=p.q4)},78771:function(e,t,r){"use strict";r.d(t,{QS:function(){return c},_v:function(){return u},ab:function(){return i},li:function(){return a}});var n=r(53310),i=new n.g7,s=new WeakMap;function o(e){var t=s.get(e);return t||s.set(e,t={vars:new Set,dep:(0,n.dP)()}),t}function a(e){o(e).vars.forEach(function(t){return t.forgetCache(e)})}function u(e){o(e).vars.forEach(function(t){return t.attachCache(e)})}function c(e){var t=new Set,r=new Set,n=function(a){if(arguments.length>0){if(e!==a){e=a,t.forEach(function(e){o(e).dep.dirty(n),e.broadcastWatches&&e.broadcastWatches()});var u=Array.from(r);r.clear(),u.forEach(function(t){return t(e)})}}else{var c=i.getValue();c&&(s(c),o(c).dep(n))}return e};n.onNextChange=function(e){return r.add(e),function(){r.delete(e)}};var s=n.attachCache=function(e){return t.add(e),o(e).vars.add(n),n};return n.forgetCache=function(e){return t.delete(e)},n}},94603:function(e,t,r){"use strict";r.d(t,{f:function(){return ek}});var n=r(11735),i=r(88164),s=r(9670),o=r(20084);function a(e,t){return t?t(e):s.y.of()}function u(e){return"function"==typeof e?new l(e):e}function c(e){return e.request.length<=1}var l=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e(function(){return s.y.of()})},e.from=function(t){return 0===t.length?e.empty():t.map(u).reduce(function(e,t){return e.concat(t)})},e.split=function(t,r,n){var i=u(r),o=u(n||new e(a));return Object.assign(new e(c(i)&&c(o)?function(e){return t(e)?i.request(e)||s.y.of():o.request(e)||s.y.of()}:function(e,r){return t(e)?i.request(e,r)||s.y.of():o.request(e,r)||s.y.of()}),{left:i,right:o})},e.execute=function(e,t){var r,a,u,c;return e.request((u=t.context,(a={variables:(r=function(e){for(var t=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(e);r<n.length;r++){var s=n[r];if(0>t.indexOf(s))throw(0,i._K)(43,s)}return e}(t)).variables||{},extensions:r.extensions||{},operationName:r.operationName,query:r.query}).operationName||(a.operationName="string"!=typeof a.query?(0,o.rY)(a.query)||void 0:""),c=(0,n.__assign)({},u),Object.defineProperty(a,"setContext",{enumerable:!1,value:function(e){c="function"==typeof e?(0,n.__assign)((0,n.__assign)({},c),e(c)):(0,n.__assign)((0,n.__assign)({},c),e)}}),Object.defineProperty(a,"getContext",{enumerable:!1,value:function(){return(0,n.__assign)({},c)}}),a))||s.y.of()},e.concat=function(t,r){var n=u(t);if(c(n))return!1!==globalThis.__DEV__&&i.kG.warn(35,n),n;var o=u(r);return Object.assign(new e(c(o)?function(e){return n.request(e,function(e){return o.request(e)||s.y.of()})||s.y.of()}:function(e,t){return n.request(e,function(e){return o.request(e,t)||s.y.of()})||s.y.of()}),{left:n,right:o})},e.prototype.split=function(t,r,n){return this.concat(e.split(t,r,n||new e(a)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw(0,i._K)(36)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),h=l.execute,d=r(42635),f=r(52120),p=function(e,t){var r;try{r=JSON.stringify(e)}catch(e){var n=(0,i._K)(39,t,e.message);throw n.parseError=e,n}return r},g=r(92511);function y(e){var t={next:function(){return e.read()}};return g.DN&&(t[Symbol.asyncIterator]=function(){return this}),t}var v=function(e,t,r){var n=Error(r);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n},m=r(41288),b=r(81167),_=r(91567),w=r(47737);function E(e){return"incremental"in e}function S(e,t){var r=e,n=new w.w0;return E(t)&&(0,_.O)(t.incremental)&&t.incremental.forEach(function(e){for(var t=e.data,i=e.path,s=i.length-1;s>=0;--s){var o=i[s],a=isNaN(+o)?{}:[];a[o]=t,t=a}r=n.merge(r,t)}),r}var I=Object.prototype.hasOwnProperty;function k(e,t){e.status>=300&&v(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status));try{return JSON.parse(t)}catch(r){throw r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,r}}var C=function(e){if(!e&&"undefined"==typeof fetch)throw(0,i._K)(37)},O=r(32457),x={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},R=function(e,t){return t(e)};function A(e){return new s.y(function(t){t.error(e)})}var P=r(34739),D=r(69159),N=(0,i.wY)(function(){return fetch}),T=function(e){void 0===e&&(e={});var t=e.uri,r=void 0===t?"/graphql":t,a=e.fetch,u=e.print,c=void 0===u?R:u,h=e.includeExtensions,d=e.preserveHeaderCase,_=e.useGETForQueries,w=e.includeUnusedVariables,E=void 0!==w&&w,S=(0,n.__rest)(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&C(a||N);var T={http:{includeExtensions:h,preserveHeaderCase:d},options:S.fetchOptions,credentials:S.credentials,headers:S.headers};return new l(function(e){var t,u,l,h,d,w,S,C,R=(t=e,u=r,t.getContext().uri||("function"==typeof u?u(t):u||"/graphql")),M=e.getContext(),L={};if(M.clientAwareness){var j=M.clientAwareness,B=j.name,q=j.version;B&&(L["apollographql-client-name"]=B),q&&(L["apollographql-client-version"]=q)}var U=(0,n.__assign)((0,n.__assign)({},L),M.headers),F={http:M.http,options:M.fetchOptions,credentials:M.credentials,headers:U};if((0,f.FS)(["client"],e.query)){var $=(0,D.ob)(e.query);if(!$)return A(Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=$}var H=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var s={},o={};r.forEach(function(e){s=(0,n.__assign)((0,n.__assign)((0,n.__assign)({},s),e.options),{headers:(0,n.__assign)((0,n.__assign)({},s.headers),e.headers)}),e.credentials&&(s.credentials=e.credentials),o=(0,n.__assign)((0,n.__assign)({},o),e.http)}),s.headers&&(s.headers=function(e,t){if(!t){var r=Object.create(null);return Object.keys(Object(e)).forEach(function(t){r[t.toLowerCase()]=e[t]}),r}var n=Object.create(null);Object.keys(Object(e)).forEach(function(t){n[t.toLowerCase()]={originalName:t,value:e[t]}});var i=Object.create(null);return Object.keys(n).forEach(function(e){i[n[e].originalName]=n[e].value}),i}(s.headers,o.preserveHeaderCase));var a=e.operationName,u=e.extensions,c=e.variables,l=e.query,h={operationName:a,variables:c};return o.includeExtensions&&(h.extensions=u),o.includeQuery&&(h.query=t(l,O.S)),{options:s,body:h}}(e,c,x,T,F),z=H.options,V=H.body;V.variables&&!E&&(V.variables=(l=V.variables,h=e.query,d=(0,n.__assign)({},l),w=new Set(Object.keys(l)),(0,P.Vn)(h,{Variable:function(e,t,r){r&&"VariableDefinition"!==r.kind&&w.delete(e.name.value)}}),w.forEach(function(e){delete d[e]}),d)),z.signal||"undefined"==typeof AbortController||(C=new AbortController,z.signal=C.signal);var W="OperationDefinition"===(S=(0,o.p$)(e.query)).kind&&"subscription"===S.operation,K=(0,f.FS)(["defer"],e.query);if(_&&!e.query.definitions.some(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})&&(z.method="GET"),K||W){z.headers=z.headers||{};var G="multipart/mixed;";W&&K&&!1!==globalThis.__DEV__&&i.kG.warn(38),W?G+="boundary=graphql;subscriptionSpec=1.0,application/json":K&&(G+="deferSpec=20220824,application/json"),z.headers.accept=G}if("GET"===z.method){var Q=function(e,t){var r=[],n=function(e,t){r.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var i=void 0;try{i=p(t.variables,"Variables map")}catch(e){return{parseError:e}}n("variables",i)}if(t.extensions){var s=void 0;try{s=p(t.extensions,"Extensions map")}catch(e){return{parseError:e}}n("extensions",s)}var o="",a=e,u=e.indexOf("#");-1!==u&&(o=e.substr(u),a=e.substr(0,u));var c=-1===a.indexOf("?")?"?":"&";return{newURI:a+c+r.join("&")+o}}(R,V),J=Q.newURI,Z=Q.parseError;if(Z)return A(Z);R=J}else try{z.body=p(V,"Payload")}catch(e){return A(e)}return new s.y(function(t){var r=a||(0,i.wY)(function(){return fetch})||N,s=t.next.bind(t);return r(R,z).then(function(t){e.setContext({response:t});var r,i=null===(r=t.headers)||void 0===r?void 0:r.get("content-type");return null!==i&&/^multipart\/mixed/i.test(i)?function(e,t){return(0,n.__awaiter)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h,d,f,p,v,_,w,E,S,I,C,O,x,R,A;return(0,n.__generator)(this,function(P){switch(P.label){case 0:if(void 0===TextDecoder)throw Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),i=null===(A=e.headers)||void 0===A?void 0:A.get("content-type"),s="boundary=",o=(null==i?void 0:i.includes(s))?null==i?void 0:i.substring((null==i?void 0:i.indexOf(s))+s.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",a="\r\n--".concat(o),u="",c=function(e){var t,r,n,i,s,o,a=e;if(e.body&&(a=e.body),t=a,g.DN&&t[Symbol.asyncIterator])return n=a[Symbol.asyncIterator](),(r={next:function(){return n.next()}})[Symbol.asyncIterator]=function(){return this},r;if(a.getReader)return y(a.getReader());if(a.stream)return y(a.stream().getReader());if(a.arrayBuffer)return i=a.arrayBuffer(),s=!1,o={next:function(){return s?Promise.resolve({value:void 0,done:!0}):(s=!0,new Promise(function(e,t){i.then(function(t){e({value:t,done:!1})}).catch(t)}))}},g.DN&&(o[Symbol.asyncIterator]=function(){return this}),o;if(a.pipe)return function(e){var t=null,r=null,n=!1,i=[],s=[];function o(e){if(!r){if(s.length){var t=s.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}i.push(e)}}function a(e){r=e,s.slice().forEach(function(t){t[1](e)}),t&&t()}function u(){n=!0,s.slice().forEach(function(e){e[0]({value:void 0,done:!0})}),t&&t()}t=function(){t=null,e.removeListener("data",o),e.removeListener("error",a),e.removeListener("end",u),e.removeListener("finish",u),e.removeListener("close",u)},e.on("data",o),e.on("error",a),e.on("end",u),e.on("finish",u),e.on("close",u);var c={next:function(){return new Promise(function(e,t){return r?t(r):i.length?e({value:i.shift(),done:!1}):n?e({value:void 0,done:!0}):void s.push([e,t])})}};return g.DN&&(c[Symbol.asyncIterator]=function(){return this}),c}(a);throw Error("Unknown body type for responseIterator. Please pass a streamable response.")}(e),l=!0,P.label=1;case 1:if(!l)return[3,3];return[4,c.next()];case 2:for(d=(h=P.sent()).value,f=h.done,p="string"==typeof d?d:r.decode(d),v=u.length-a.length+1,l=!f,u+=p,_=u.indexOf(a,v);_>-1;){if(w=void 0,w=(x=[u.slice(0,_),u.slice(_+a.length)])[0],u=x[1],E=w.indexOf("\r\n\r\n"),(S=function(e){var t={};return e.split("\n").forEach(function(e){var r=e.indexOf(":");if(r>-1){var n=e.slice(0,r).trim().toLowerCase(),i=e.slice(r+1).trim();t[n]=i}}),t}(w.slice(0,E))["content-type"])&&-1===S.toLowerCase().indexOf("application/json"))throw Error("Unsupported patch content type: application/json is required.");if(I=w.slice(E)){if(Object.keys(C=k(e,I)).length>1||"data"in C||"incremental"in C||"errors"in C||"payload"in C){if((0,b.s)(C)&&"payload"in C){if(O={},"payload"in C){if(1===Object.keys(C).length&&null===C.payload)return[2];O=(0,n.__assign)({},C.payload)}"errors"in C&&(O=(0,n.__assign)((0,n.__assign)({},O),{extensions:(0,n.__assign)((0,n.__assign)({},"extensions"in O?O.extensions:null),((R={})[m.YG]=C.errors,R))})),t(O)}else t(C)}else if(1===Object.keys(C).length&&"hasNext"in C&&!C.hasNext)return[2]}_=u.indexOf(a)}return[3,1];case 3:return[2]}})})}(t,s):t.text().then(function(e){return k(t,e)}).then(function(r){return Array.isArray(r)||I.call(r,"data")||I.call(r,"errors")||v(t,r,"Server response was missing for query '".concat(Array.isArray(e)?e.map(function(e){return e.operationName}):e.operationName,"'.")),r}).then(s)}).then(function(){C=void 0,t.complete()}).catch(function(e){C=void 0,e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}),function(){C&&C.abort()}})})},M=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,T(t).request)||this;return r.options=t,r}return(0,n.__extends)(t,e),t}(l),L=r(34511),j=r(79045),B=r(64774);function q(e,t,r){return new s.y(function(n){var i={then:function(e){return new Promise(function(t){return t(e())})}};function s(e,t){return function(r){if(e){var s=function(){return n.closed?0:e(r)};i=i.then(s,s).then(function(e){return n.next(e)},function(e){return n.error(e)})}else n[t](r)}}var o={next:s(t,"next"),error:s(r,"error"),complete:function(){i.then(function(){return n.complete()})}},a=e.subscribe(o);return function(){return a.unsubscribe()}})}function U(e){var t=F(e);return(0,_.O)(t)}function F(e){var t=(0,_.O)(e.errors)?e.errors.slice(0):[];return E(e)&&(0,_.O)(e.incremental)&&e.incremental.forEach(function(e){e.errors&&t.push.apply(t,e.errors)}),t}var $=r(98290),H=r(31756);function z(e,t,r){var n=[];e.forEach(function(e){return e[t]&&n.push(e)}),n.forEach(function(e){return e[t](r)})}function V(e){function t(t){Object.defineProperty(e,t,{value:s.y})}return g.aS&&Symbol.species&&t(Symbol.species),t("@@species"),e}function W(e){return e&&"function"==typeof e.then}var K=function(e){function t(t){var r=e.call(this,function(e){return r.addObserver(e),function(){return r.removeObserver(e)}})||this;return r.observers=new Set,r.promise=new Promise(function(e,t){r.resolve=e,r.reject=t}),r.handlers={next:function(e){null!==r.sub&&(r.latest=["next",e],r.notify("next",e),z(r.observers,"next",e))},error:function(e){var t=r.sub;null!==t&&(t&&setTimeout(function(){return t.unsubscribe()}),r.sub=null,r.latest=["error",e],r.reject(e),r.notify("error",e),z(r.observers,"error",e))},complete:function(){var e=r.sub,t=r.sources;if(null!==e){var n=(void 0===t?[]:t).shift();n?W(n)?n.then(function(e){return r.sub=e.subscribe(r.handlers)},r.handlers.error):r.sub=n.subscribe(r.handlers):(e&&setTimeout(function(){return e.unsubscribe()}),r.sub=null,r.latest&&"next"===r.latest[0]?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),z(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(e){r.reject(e),r.sources=[],r.handlers.complete()},r.promise.catch(function(e){}),"function"==typeof t&&(t=[new s.y(t)]),W(t)?t.then(function(e){return r.start(e)},r.handlers.error):r.start(t),r}return(0,n.__extends)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],r=e[t];r&&r.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var r=this.nextResultListeners;r.size&&(this.nextResultListeners=new Set,r.forEach(function(r){return r(e,t)}))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add(function(r,n){t||(t=!0,e(r,n))})},t}(s.y);V(K);var G=r(43152),Q=r(8620),J=r(81893),Z=r(96530);function Y(e){return!!e.directives&&e.directives.some(X)}function X(e){return"nonreactive"===e.name.value}var ee=Object.assign,et=Object.hasOwnProperty,er=function(e){function t(t){var r=t.queryManager,i=t.queryInfo,s=t.options,a=e.call(this,function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=ei)}catch(e){}var r=!a.observers.size;a.observers.add(e);var n=a.last;return n&&n.error?e.error&&e.error(n.error):n&&n.result&&e.next&&e.next(n.result),r&&a.reobserve().catch(function(){}),function(){a.observers.delete(e)&&!a.observers.size&&a.tearDownQuery()}})||this;a.observers=new Set,a.subscriptions=new Set,a.queryInfo=i,a.queryManager=r,a.waitForOwnResult=eo(s.fetchPolicy),a.isTornDown=!1;var u=r.defaultOptions.watchQuery,c=(void 0===u?{}:u).fetchPolicy,l=void 0===c?"cache-first":c,h=s.fetchPolicy,d=void 0===h?l:h,f=s.initialFetchPolicy,p=void 0===f?"standby"===d?l:d:f;a.options=(0,n.__assign)((0,n.__assign)({},s),{initialFetchPolicy:p,fetchPolicy:d}),a.queryId=i.queryId||r.generateQueryId();var g=(0,o.$H)(a.query);return a.queryName=g&&g.name&&g.name.value,a}return(0,n.__extends)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise(function(t,r){var n={next:function(r){t(r),e.observers.delete(n),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout(function(){i.unsubscribe()},0)},error:r},i=e.subscribe(n)})},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),r=this.queryInfo.networkStatus||t&&t.networkStatus||G.Ie.ready,i=(0,n.__assign)((0,n.__assign)({},t),{loading:(0,G.Oj)(r),networkStatus:r}),s=this.options.fetchPolicy,o=void 0===s?"cache-first":s;if(eo(o)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(i.data=a.result),(0,L.D)(i.data,{})&&(i.data=void 0),a.complete?(delete i.partial,a.complete&&i.networkStatus===G.Ie.loading&&("cache-first"===o||"cache-only"===o)&&(i.networkStatus=G.Ie.ready,i.loading=!1)):i.partial=!0,!1===globalThis.__DEV__||a.complete||this.options.partialRefetch||i.loading||i.data||i.error||es(a.missing)}return e&&this.updateLastResult(i),i},t.prototype.isDifferentFromLastResult=function(e,t){var r,i,s,a,u,c,l;return!this.last||(this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?(r=this.query,i=this.last.result,s=this.variables,a=i.data,u=(0,n.__rest)(i,["data"]),c=e.data,l=(0,n.__rest)(e,["data"]),!((0,L.Z)(u,l)&&function e(t,r,n,i){if(r===n)return!0;var s=new Set;return t.selections.every(function(t){if(s.has(t)||(s.add(t),!(0,f.LZ)(t,i.variables)||Y(t)))return!0;if((0,$.My)(t)){var o=(0,$.u2)(t),a=r&&r[o],u=n&&n[o],c=t.selectionSet;if(!c)return(0,L.Z)(a,u);var l=Array.isArray(a),h=Array.isArray(u);if(l!==h)return!1;if(l&&h){var d=a.length;if(u.length!==d)return!1;for(var p=0;p<d;++p)if(!e(c,a[p],u[p],i))return!1;return!0}return e(c,a,u,i)}var g=(0,Z.hi)(t,i.fragmentMap);if(g)return!!Y(g)||e(g.selectionSet,r,n,i)})}((0,o.p$)(r).selectionSet,a,c,{fragmentMap:(0,Z.F)((0,o.kU)(r)),variables:s}))):!(0,L.D)(this.last.result,e))||t&&!(0,L.D)(this.last.variables,t)},t.prototype.getLast=function(e,t){var r=this.last;if(r&&r[e]&&(!t||(0,L.D)(r.variables,this.variables)))return r[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,r={pollInterval:0},s=this.options.fetchPolicy;if("cache-and-network"===s?r.fetchPolicy=s:"no-cache"===s?r.fetchPolicy="no-cache":r.fetchPolicy="network-only",!1!==globalThis.__DEV__&&e&&et.call(e,"variables")){var a=(0,o.iW)(this.query),u=a.variableDefinitions;u&&u.some(function(e){return"variables"===e.variable.name.value})||!1===globalThis.__DEV__||i.kG.warn(20,e,(null===(t=a.name)||void 0===t?void 0:t.value)||a)}return e&&!(0,L.D)(this.options.variables,e)&&(r.variables=this.options.variables=(0,n.__assign)((0,n.__assign)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(r,G.Ie.refetch)},t.prototype.fetchMore=function(e){var t=this,r=(0,n.__assign)((0,n.__assign)({},e.query?e:(0,n.__assign)((0,n.__assign)((0,n.__assign)((0,n.__assign)({},this.options),{query:this.options.query}),e),{variables:(0,n.__assign)((0,n.__assign)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});r.query=this.transformDocument(r.query);var i=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):r.query;var s=this.queryInfo,o=s.networkStatus;s.networkStatus=G.Ie.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var a=new Set;return this.queryManager.fetchQuery(i,r,G.Ie.fetchMore).then(function(n){return t.queryManager.removeQuery(i),s.networkStatus===G.Ie.fetchMore&&(s.networkStatus=o),t.queryManager.cache.batch({update:function(i){var s=e.updateQuery;s?i.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},function(e){return s(e,{fetchMoreResult:n.data,variables:r.variables})}):i.writeQuery({query:r.query,variables:r.variables,data:n.data})},onWatchUpdated:function(e){a.add(e.query)}}),n}).finally(function(){a.has(t.query)||en(t)})},t.prototype.subscribeToMore=function(e){var t=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(r){var n=e.updateQuery;n&&t.updateQuery(function(e,t){return n(e,{subscriptionData:r,variables:t.variables})})},error:function(t){if(e.onError){e.onError(t);return}!1!==globalThis.__DEV__&&i.kG.error(21,t)}});return this.subscriptions.add(r),function(){t.subscriptions.delete(r)&&r.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=(0,Q.o)(this.options,e||{});ee(this.options,t)},t.prototype.setVariables=function(e){return(0,L.D)(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size)?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},G.Ie.setVariables):Promise.resolve()},t.prototype.updateQuery=function(e){var t=this.queryManager,r=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});r&&(t.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var r=t.fetchPolicy,n=void 0===r?"cache-first":r,i=t.initialFetchPolicy,s=void 0===i?n:i;"standby"===n||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(n,{reason:e,options:t,observable:this,initialFetchPolicy:s}):"variables-changed"===e?t.fetchPolicy=s:t.fetchPolicy=t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,e,t,r)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,r=this.options.pollInterval;if(!r){t&&(clearTimeout(t.timeout),delete this.pollingInfo);return}if(!t||t.interval!==r){(0,i.kG)(r,22),(t||(this.pollingInfo={})).interval=r;var n=function(){var t,r;e.pollingInfo&&((0,G.Oj)(e.queryInfo.networkStatus)||(null===(r=(t=e.options).skipPollAttempt)||void 0===r?void 0:r.call(t))?s():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},G.Ie.poll).then(s,s))},s=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(n,t.interval))};s()}}},t.prototype.updateLastResult=function(e,t){void 0===t&&(t=this.variables);var r=this.getLastError();return r&&this.last&&!(0,L.D)(t,this.last.variables)&&(r=void 0),this.last=(0,n.__assign)({result:this.queryManager.assumeImmutableResults?e:(0,J.X)(e),variables:t},r?{error:r}:null)},t.prototype.reobserveAsConcast=function(e,t){var r=this;this.isTornDown=!1;var i=t===G.Ie.refetch||t===G.Ie.fetchMore||t===G.Ie.poll,s=this.options.variables,o=this.options.fetchPolicy,a=(0,Q.o)(this.options,e||{}),u=i?a:ee(this.options,a),c=this.transformDocument(u.query);this.lastQuery=c,!i&&(this.updatePolling(),e&&e.variables&&!(0,L.D)(e.variables,s)&&"standby"!==u.fetchPolicy&&u.fetchPolicy===o&&(this.applyNextFetchPolicy("variables-changed",u),void 0===t&&(t=G.Ie.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=eo(u.fetchPolicy));var l=function(){r.concast===f&&(r.waitForOwnResult=!1)},h=u.variables&&(0,n.__assign)({},u.variables),d=this.fetch(u,t,c),f=d.concast,p=d.fromLink,g={next:function(e){(0,L.D)(r.variables,h)&&(l(),r.reportResult(e,h))},error:function(e){(0,L.D)(r.variables,h)&&(l(),r.reportError(e,h))}};return i||!p&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=f,this.observer=g),f.addObserver(g),f},t.prototype.reobserve=function(e,t){return this.reobserveAsConcast(e,t).promise},t.prototype.resubscribeAfterError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.last;this.resetLastResults();var n=this.subscribe.apply(this,e);return this.last=r,n},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var r=this.getLastError(),n=this.isDifferentFromLastResult(e,t);(r||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(r||n)&&z(this.observers,"next",e)},t.prototype.reportError=function(e,t){var r=(0,n.__assign)((0,n.__assign)({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:G.Ie.error,loading:!1});this.updateLastResult(r,t),z(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t}(s.y);function en(e){var t=e.options,r=t.fetchPolicy,n=t.nextFetchPolicy;return"cache-and-network"===r||"network-only"===r?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(e,t){return(this.nextFetchPolicy=n,"function"==typeof this.nextFetchPolicy)?this.nextFetchPolicy(e,t):r}}):e.reobserve()}function ei(e){!1!==globalThis.__DEV__&&i.kG.error(23,e.message,e.stack)}function es(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&i.kG.debug(24,e)}function eo(e){return"network-only"===e||"no-cache"===e||"standby"===e}V(er);var ea=r(18350);function eu(e){return e.kind===ea.h.FIELD||e.kind===ea.h.FRAGMENT_SPREAD||e.kind===ea.h.INLINE_FRAGMENT}var ec=r(78771),el=function(){function e(e){var t=e.cache,r=e.client,n=e.resolvers,i=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,r&&(this.client=r),n&&this.addResolvers(n),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(e){t.resolvers=(0,w.Ee)(t.resolvers,e)}):this.resolvers=(0,w.Ee)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){return(0,n.__awaiter)(this,arguments,void 0,function(e){var t=e.document,r=e.remoteResult,i=e.context,s=e.variables,o=e.onlyRunForcedResolvers,a=void 0!==o&&o;return(0,n.__generator)(this,function(e){return t?[2,this.resolveDocument(t,r.data,i,s,this.fragmentMatcher,a).then(function(e){return(0,n.__assign)((0,n.__assign)({},r),{data:e.result})})]:[2,r]})})},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return(0,f.FS)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return(0,D.ob)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,n.__assign)((0,n.__assign)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e){return(0,n.__awaiter)(this,arguments,void 0,function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),(0,n.__generator)(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then(function(e){return(0,n.__assign)((0,n.__assign)({},t),e.exportedVariables)})]:[2,(0,n.__assign)({},t)]})})},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,P.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some(function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value})))return P.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:(0,D.aL)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t){return(0,n.__awaiter)(this,arguments,void 0,function(e,t,r,i,s,a){var u,c,l,h,d,f,p,g,y,v;return void 0===r&&(r={}),void 0===i&&(i={}),void 0===s&&(s=function(){return!0}),void 0===a&&(a=!1),(0,n.__generator)(this,function(m){return u=(0,o.p$)(e),c=(0,o.kU)(e),l=(0,Z.F)(c),h=this.collectSelectionsToResolve(u,l),f=(d=u.operation)?d.charAt(0).toUpperCase()+d.slice(1):"Query",p=this,g=p.cache,y=p.client,v={fragmentMap:l,context:(0,n.__assign)((0,n.__assign)({},r),{cache:g,client:y}),variables:i,fragmentMatcher:s,defaultOperationType:f,exportedVariables:{},selectionsToResolve:h,onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(u.selectionSet,!1,t,v).then(function(e){return{result:e,exportedVariables:v.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(e,t,r,s){return(0,n.__awaiter)(this,void 0,void 0,function(){var o,a,u,c,l,h=this;return(0,n.__generator)(this,function(d){return o=s.fragmentMap,a=s.context,u=s.variables,c=[r],l=function(e){return(0,n.__awaiter)(h,void 0,void 0,function(){var l,h;return(0,n.__generator)(this,function(n){return(t||s.selectionsToResolve.has(e))&&(0,f.LZ)(e,u)?(0,$.My)(e)?[2,this.resolveField(e,t,r,s).then(function(t){var r;void 0!==t&&c.push(((r={})[(0,$.u2)(e)]=t,r))})]:((0,$.Ao)(e)?l=e:(l=o[e.name.value],(0,i.kG)(l,18,e.name.value)),l&&l.typeCondition&&(h=l.typeCondition.name.value,s.fragmentMatcher(r,h,a)))?[2,this.resolveSelectionSet(l.selectionSet,t,r,s).then(function(e){c.push(e)})]:[2]:[2]})})},[2,Promise.all(e.selections.map(l)).then(function(){return(0,w.bw)(c)})]})})},e.prototype.resolveField=function(e,t,r,i){return(0,n.__awaiter)(this,void 0,void 0,function(){var s,o,a,u,c,l,h,d,f,p=this;return(0,n.__generator)(this,function(n){return r?(s=i.variables,u=(o=e.name.value)!==(a=(0,$.u2)(e)),l=Promise.resolve(c=r[a]||r[o]),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(h=r.__typename||i.defaultOperationType,(d=this.resolvers&&this.resolvers[h])&&(f=d[u?o:a])&&(l=Promise.resolve(ec.ab.withValue(this.cache,f,[r,(0,$.NC)(e,s),i.context,{field:e,fragmentMap:i.fragmentMap}])))),[2,l.then(function(r){if(void 0===r&&(r=c),e.directives&&e.directives.forEach(function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach(function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(i.exportedVariables[e.value.value]=r)})}),!e.selectionSet||null==r)return r;var n,s,o=null!==(s=null===(n=e.directives)||void 0===n?void 0:n.some(function(e){return"client"===e.name.value}))&&void 0!==s&&s;return Array.isArray(r)?p.resolveSubSelectedArray(e,t||o,r,i):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t||o,r,i):void 0})]):[2,null]})})},e.prototype.resolveSubSelectedArray=function(e,t,r,n){var i=this;return Promise.all(r.map(function(r){return null===r?null:Array.isArray(r)?i.resolveSubSelectedArray(e,t,r,n):e.selectionSet?i.resolveSelectionSet(e.selectionSet,t,r,n):void 0}))},e.prototype.collectSelectionsToResolve=function(e,t){var r=function(e){return!Array.isArray(e)},n=this.selectionsToResolveCache;return function e(s){if(!n.has(s)){var o=new Set;n.set(s,o),(0,P.Vn)(s,{Directive:function(e,t,n,i,s){"client"===e.name.value&&s.forEach(function(e){r(e)&&eu(e)&&o.add(e)})},FragmentSpread:function(n,s,a,u,c){var l=t[n.name.value];(0,i.kG)(l,19,n.name.value);var h=e(l);h.size>0&&(c.forEach(function(e){r(e)&&eu(e)&&o.add(e)}),o.add(n),h.forEach(function(e){o.add(e)}))}})}return n.get(s)}(e)},e}(),eh=new(g.mr?WeakMap:Map);function ed(e,t){var r=e[t];"function"==typeof r&&(e[t]=function(){return eh.set(e,(eh.get(e)+1)%1e15),r.apply(this,arguments)})}function ef(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var ep=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;eh.has(r)||(eh.set(r,0),ed(r,"evict"),ed(r,"modify"),ed(r,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||G.Ie.loading;return this.variables&&this.networkStatus!==G.Ie.loading&&!(0,L.D)(this.variables,e.variables)&&(t=G.Ie.setVariables),(0,L.D)(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){ef(this),this.dirty=!1},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&(0,L.D)(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var t=this.observableQuery;if(t&&"no-cache"===t.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(e);return this.updateLastDiff(r,e),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t,r=this,n=this.lastDiff&&this.lastDiff.diff;(!e||e.complete||(null===(t=this.observableQuery)||void 0===t?void 0:t.options.returnPartialData)||n&&n.complete)&&(this.updateLastDiff(e),this.dirty||(0,L.D)(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return r.notify()},0))))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():en(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;ef(this),this.shouldNotify()&&this.listeners.forEach(function(t){return t(e)}),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if((0,G.Oj)(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel;var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var i=(0,n.__assign)((0,n.__assign)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&(0,L.D)(i,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===eh.get(this.cache)&&(0,L.D)(t,r.variables)&&(0,L.D)(e.data,r.result.data))},e.prototype.markResult=function(e,t,r,n){var i=this,s=new w.w0,o=(0,_.O)(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&(0,_.O)(e.incremental)){var a=S(this.getDiff().result,e);e.data=a}else if("hasNext"in e&&e.hasNext){var u=this.getDiff();e.data=s.merge(u.result,e.data)}this.graphQLErrors=o,"no-cache"===r.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):0!==n&&(eg(e,r.errorPolicy)?this.cache.performTransaction(function(s){if(i.shouldWrite(e,r.variables))s.writeQuery({query:t,data:e.data,variables:r.variables,overwrite:1===n}),i.lastWrite={result:e,variables:r.variables,dmCount:eh.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete){e.data=i.lastDiff.diff.result;return}var o=i.getDiffOptions(r.variables),a=s.diff(o);!i.stopped&&(0,L.D)(i.variables,r.variables)&&i.updateWatch(r.variables),i.updateLastDiff(a,o),a.complete&&(e.data=a.result)}):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=G.Ie.ready},e.prototype.markError=function(e){return this.networkStatus=G.Ie.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function eg(e,t){void 0===t&&(t="none");var r="ignore"===t||"all"===t,n=!U(e);return!n&&r&&e.data&&(n=!0),n}var ey=r(47637),ev=r(88288),em=r(71531),eb=Object.prototype.hasOwnProperty,e_=Object.create(null),ew=function(){function e(e){var t=e.cache,r=e.link,n=e.defaultOptions,i=e.documentTransform,s=e.queryDeduplication,o=e.onBroadcast,a=e.ssrMode,u=e.clientAwareness,c=e.localState,l=e.assumeImmutableResults,h=void 0===l?!!t.assumeImmutableResults:l,d=e.defaultContext,f=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new ev.s(em.Q["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new ey.B(!1);var p=new B.A(function(e){return f.cache.transformDocument(e)},{cache:!1});this.cache=t,this.link=r,this.defaultOptions=n||Object.create(null),this.queryDeduplication=void 0!==s&&s,this.clientAwareness=void 0===u?{}:u,this.localState=c||new el({cache:t}),this.ssrMode=void 0!==a&&a,this.assumeImmutableResults=h,this.documentTransform=i?p.concat(i).concat(p):p,this.defaultContext=d||Object.create(null),(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach(function(t,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches((0,i._K)(25))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(t){return t(e)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){return(0,n.__awaiter)(this,arguments,void 0,function(e){var t,r,s,o,a,u,c,l=e.mutation,h=e.variables,d=e.optimisticResponse,f=e.updateQueries,p=e.refetchQueries,g=void 0===p?[]:p,y=e.awaitRefetchQueries,v=void 0!==y&&y,b=e.update,_=e.onQueryUpdated,w=e.fetchPolicy,E=void 0===w?(null===(u=this.defaultOptions.mutate)||void 0===u?void 0:u.fetchPolicy)||"network-only":w,S=e.errorPolicy,I=void 0===S?(null===(c=this.defaultOptions.mutate)||void 0===c?void 0:c.errorPolicy)||"none":S,k=e.keepRootFields,C=e.context;return(0,n.__generator)(this,function(e){switch(e.label){case 0:if((0,i.kG)(l,26),(0,i.kG)("network-only"===E||"no-cache"===E,27),t=this.generateMutationId(),l=this.cache.transformForLink(this.transform(l)),r=this.getDocumentInfo(l).hasClientExports,h=this.getVariables(l,h),!r)return[3,2];return[4,this.localState.addExportedVariables(l,h,C)];case 1:h=e.sent(),e.label=2;case 2:return s=this.mutationStore&&(this.mutationStore[t]={mutation:l,variables:h,loading:!0,error:null}),o=d&&this.markMutationOptimistic(d,{mutationId:t,document:l,variables:h,fetchPolicy:E,errorPolicy:I,context:C,updateQueries:f,update:b,keepRootFields:k}),this.broadcastQueries(),a=this,[2,new Promise(function(e,r){return q(a.getObservableFromLink(l,(0,n.__assign)((0,n.__assign)({},C),{optimisticResponse:o?d:void 0}),h,!1),function(e){if(U(e)&&"none"===I)throw new m.cA({graphQLErrors:F(e)});s&&(s.loading=!1,s.error=null);var r=(0,n.__assign)({},e);return"function"==typeof g&&(g=g(r)),"ignore"===I&&U(r)&&delete r.errors,a.markMutationResult({mutationId:t,result:r,document:l,variables:h,fetchPolicy:E,errorPolicy:I,context:C,update:b,updateQueries:f,awaitRefetchQueries:v,refetchQueries:g,removeOptimistic:o?t:void 0,onQueryUpdated:_,keepRootFields:k})}).subscribe({next:function(t){a.broadcastQueries(),"hasNext"in t&&!1!==t.hasNext||e(t)},error:function(e){s&&(s.loading=!1,s.error=e),o&&a.cache.removeOptimistic(t),a.broadcastQueries(),r(e instanceof m.cA?e:new m.cA({networkError:e}))}})})]}})})},e.prototype.markMutationResult=function(e,t){var r=this;void 0===t&&(t=this.cache);var i=e.result,s=[],a="no-cache"===e.fetchPolicy;if(!a&&eg(i,e.errorPolicy)){if(E(i)||s.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),E(i)&&(0,_.O)(i.incremental)){var u=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),c=void 0;u.result&&(c=S(u.result,i)),void 0!==c&&(i.data=c,s.push({result:c,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var l=e.updateQueries;l&&this.queries.forEach(function(e,n){var a=e.observableQuery,u=a&&a.queryName;if(u&&eb.call(l,u)){var c=l[u],h=r.queries.get(n),d=h.document,f=h.variables,p=t.diff({query:d,variables:f,returnPartialData:!0,optimistic:!1}),g=p.result;if(p.complete&&g){var y=c(g,{mutationResult:i,queryName:d&&(0,o.rY)(d)||void 0,queryVariables:f});y&&s.push({result:y,dataId:"ROOT_QUERY",query:d,variables:f})}}})}if(s.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var h=[];if(this.refetchQueries({updateCache:function(t){a||s.forEach(function(e){return t.write(e)});var o,u=e.update,c=!(E(o=i)||"hasNext"in o&&"data"in o)||E(i)&&!i.hasNext;if(u){if(!a){var l=t.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});l.complete&&("incremental"in(i=(0,n.__assign)((0,n.__assign)({},i),{data:l.result}))&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}c&&u(t,i,{context:e.context,variables:e.variables})}a||e.keepRootFields||!c||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var r=t.fieldName,n=t.DELETE;return"__typename"===r?e:n}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(e){return h.push(e)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(h).then(function(){return i})}return Promise.resolve(i)},e.prototype.markMutationOptimistic=function(e,t){var r=this,s="function"==typeof e?e(t.variables,{IGNORE:e_}):e;return s!==e_&&(this.cache.recordOptimisticTransaction(function(e){try{r.markMutationResult((0,n.__assign)((0,n.__assign)({},t),{result:{data:s}}),e)}catch(e){!1!==globalThis.__DEV__&&i.kG.error(e)}},t.mutationId),!0)},e.prototype.fetchQuery=function(e,t,r){return this.fetchConcastWithInfo(e,t,r).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}}),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var r={hasClientExports:(0,f.mj)(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:(0,f.FS)(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:(0,D.bi)([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:(0,o.O4)((0,o.$H)(e)),asQuery:(0,n.__assign)((0,n.__assign)({},e),{definitions:e.definitions.map(function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,n.__assign)((0,n.__assign)({},e),{operation:"query"}):e})})};t.set(e,r)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,n.__assign)((0,n.__assign)({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);void 0===(e=(0,n.__assign)((0,n.__assign)({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var r=new ep(this),i=new er({queryManager:this,queryInfo:r,options:e});return i.lastQuery=t,this.queries.set(i.queryId,r),r.init({document:t,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(e,t){var r=this;return void 0===t&&(t=this.generateQueryId()),(0,i.kG)(e.query,28),(0,i.kG)("Document"===e.query.kind,29),(0,i.kG)(!e.returnPartialData,30),(0,i.kG)(!e.pollInterval,31),this.fetchQuery(t,(0,n.__assign)((0,n.__assign)({},e),{query:this.transform(e.query)})).finally(function(){return r.stopQuery(t)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches((0,i._K)(32)),this.queries.forEach(function(e){e.observableQuery?e.networkStatus=G.Ie.loading:e.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var r=new Map,s=new Map,o=new Set;return Array.isArray(e)&&e.forEach(function(e){"string"==typeof e?s.set(e,!1):(0,$.JW)(e)?s.set(t.transform(e),!1):(0,b.s)(e)&&e.query&&o.add(e)}),this.queries.forEach(function(t,n){var i=t.observableQuery,o=t.document;if(i){if("all"===e){r.set(n,i);return}var a=i.queryName;if("standby"===i.options.fetchPolicy||"active"===e&&!i.hasObservers())return;("active"===e||a&&s.has(a)||o&&s.has(o))&&(r.set(n,i),a&&s.set(a,!0),o&&s.set(o,!0))}}),o.size&&o.forEach(function(e){var s=(0,H.X)("legacyOneTimeQuery"),o=t.getQuery(s).init({document:e.query,variables:e.variables}),a=new er({queryManager:t,queryInfo:o,options:(0,n.__assign)((0,n.__assign)({},e),{fetchPolicy:"network-only"})});(0,i.kG)(a.queryId===s),o.setObservableQuery(a),r.set(s,a)}),!1!==globalThis.__DEV__&&s.size&&s.forEach(function(e,t){e||!1===globalThis.__DEV__||i.kG.warn("string"==typeof t?33:34,t)}),r},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(n,i){var s=n.options.fetchPolicy;n.resetLastResults(),(e||"standby"!==s&&"cache-only"!==s)&&r.push(n.refetch()),t.getQuery(i).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,n=e.fetchPolicy,i=e.errorPolicy,o=void 0===i?"none":i,a=e.variables,u=e.context,c=void 0===u?{}:u;r=this.transform(r),a=this.getVariables(r,a);var l=function(e){return t.getObservableFromLink(r,c,e).map(function(i){"no-cache"!==n&&(eg(i,o)&&t.cache.write({query:r,result:i.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var s=U(i),a=(0,m.ls)(i);if(s||a){var u={};if(s&&(u.graphQLErrors=i.errors),a&&(u.protocolErrors=i.extensions[m.YG]),"none"===o||a)throw new m.cA(u)}return"ignore"===o&&delete i.errors,i})};if(this.getDocumentInfo(r).hasClientExports){var h=this.localState.addExportedVariables(r,a,c).then(l);return new s.y(function(e){var t=null;return h.then(function(r){return t=r.subscribe(e)},e.error),function(){return t&&t.unsubscribe()}})}return l(a)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,r,i){var a,u,c=this;void 0===i&&(i=null!==(a=null==t?void 0:t.queryDeduplication)&&void 0!==a?a:this.queryDeduplication);var l=this.getDocumentInfo(e),d=l.serverQuery,f=l.clientQuery;if(d){var p=this.inFlightLinkObservables,g=this.link,y={query:d,variables:r,operationName:(0,o.rY)(d)||void 0,context:this.prepareContext((0,n.__assign)((0,n.__assign)({},t),{forceFetch:!i}))};if(t=y.context,i){var v=(0,O.S)(d),m=(0,j.B)(r),b=p.lookup(v,m);if(!(u=b.observable)){var _=new K([h(g,y)]);u=b.observable=_,_.beforeNext(function(){p.remove(v,m)})}}else u=new K([h(g,y)])}else u=new K([s.y.of({data:{}})]),t=this.prepareContext(t);return f&&(u=q(u,function(e){return c.localState.runResolvers({document:f,remoteResult:e,context:t,variables:r})})),u},e.prototype.getResultsFromLink=function(e,t,r){var n=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(r.query);return q(this.getObservableFromLink(i,r.context,r.variables),function(s){var o=F(s),a=o.length>0;if(n>=e.lastRequestId){if(a&&"none"===r.errorPolicy)throw e.markError(new m.cA({graphQLErrors:o}));e.markResult(s,i,r,t),e.markReady()}var u={data:s.data,loading:!1,networkStatus:G.Ie.ready};return a&&"ignore"!==r.errorPolicy&&(u.errors=o,u.networkStatus=G.Ie.error),u},function(t){var r=(0,m.MS)(t)?t:new m.cA({networkError:t});throw n>=e.lastRequestId&&e.markError(r),r})},e.prototype.fetchConcastWithInfo=function(e,t,r,n){var i,s,o=this;void 0===r&&(r=G.Ie.loading),void 0===n&&(n=t.query);var a=this.getVariables(n,t.variables),u=this.getQuery(e),c=this.defaultOptions.watchQuery,l=t.fetchPolicy,h=void 0===l?c&&c.fetchPolicy||"cache-first":l,d=t.errorPolicy,f=void 0===d?c&&c.errorPolicy||"none":d,p=t.returnPartialData,g=t.notifyOnNetworkStatusChange,y=t.context,v=Object.assign({},t,{query:n,variables:a,fetchPolicy:h,errorPolicy:f,returnPartialData:void 0!==p&&p,notifyOnNetworkStatusChange:void 0!==g&&g,context:void 0===y?{}:y}),m=function(e){v.variables=e;var n=o.fetchQueryByPolicy(u,v,r);return"standby"!==v.fetchPolicy&&n.sources.length>0&&u.observableQuery&&u.observableQuery.applyNextFetchPolicy("after-fetch",t),n},b=function(){return o.fetchCancelFns.delete(e)};if(this.fetchCancelFns.set(e,function(e){b(),setTimeout(function(){return i.cancel(e)})}),this.getDocumentInfo(v.query).hasClientExports)i=new K(this.localState.addExportedVariables(v.query,v.variables,v.context).then(m).then(function(e){return e.sources})),s=!0;else{var _=m(v.variables);s=_.fromLink,i=new K(_.sources)}return i.promise.then(b,b),{concast:i,fromLink:s}},e.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,n=e.include,i=e.optimistic,s=void 0!==i&&i,o=e.removeOptimistic,a=void 0===o?s?(0,H.X)("refetchQueries"):void 0:o,u=e.onQueryUpdated,c=new Map;n&&this.getObservableQueries(n).forEach(function(e,r){c.set(r,{oq:e,lastDiff:t.getQuery(r).getDiff()})});var l=new Map;return r&&this.cache.batch({update:r,optimistic:s&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,r){var n=e.watcher instanceof ep&&e.watcher.observableQuery;if(n){if(u){c.delete(n.queryId);var i=u(n,t,r);return!0===i&&(i=n.refetch()),!1!==i&&l.set(n,i),i}null!==u&&c.set(n.queryId,{oq:n,lastDiff:r,diff:t})}}}),c.size&&c.forEach(function(e,r){var n,i=e.oq,s=e.lastDiff,o=e.diff;if(u){if(!o){var a=i.queryInfo;a.reset(),o=a.getDiff()}n=u(i,o,s)}u&&!0!==n||(n=i.refetch()),!1!==n&&l.set(i,n),r.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(r)}),a&&this.cache.removeOptimistic(a),l},e.prototype.fetchQueryByPolicy=function(e,t,r){var i=this,o=t.query,a=t.variables,u=t.fetchPolicy,c=t.refetchWritePolicy,l=t.errorPolicy,h=t.returnPartialData,d=t.context,f=t.notifyOnNetworkStatusChange,p=e.networkStatus;e.init({document:o,variables:a,networkStatus:r});var g=function(){return e.getDiff()},y=function(t,r){void 0===r&&(r=e.networkStatus||G.Ie.loading);var u=t.result;!1===globalThis.__DEV__||h||(0,L.D)(u,{})||es(t.missing);var c=function(e){return s.y.of((0,n.__assign)({data:e,loading:(0,G.Oj)(r),networkStatus:r},t.complete?null:{partial:!0}))};return u&&i.getDocumentInfo(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:u},context:d,variables:a,onlyRunForcedResolvers:!0}).then(function(e){return c(e.data||void 0)}):"none"===l&&r===G.Ie.refetch&&Array.isArray(t.missing)?c(void 0):c(u)},v="no-cache"===u?0:r===G.Ie.refetch&&"merge"!==c?1:2,m=function(){return i.getResultsFromLink(e,v,{query:o,variables:a,context:d,fetchPolicy:u,errorPolicy:l})},b=f&&"number"==typeof p&&p!==r&&(0,G.Oj)(r);switch(u){default:case"cache-first":var _=g();if(_.complete)return{fromLink:!1,sources:[y(_,e.markReady())]};if(h||b)return{fromLink:!0,sources:[y(_),m()]};return{fromLink:!0,sources:[m()]};case"cache-and-network":var _=g();if(_.complete||h||b)return{fromLink:!0,sources:[y(_),m()]};return{fromLink:!0,sources:[m()]};case"cache-only":return{fromLink:!1,sources:[y(g(),e.markReady())]};case"network-only":if(b)return{fromLink:!0,sources:[y(g()),m()]};return{fromLink:!0,sources:[m()]};case"no-cache":if(b)return{fromLink:!0,sources:[y(e.getDiff()),m()]};return{fromLink:!0,sources:[m()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new ep(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,n.__assign)((0,n.__assign)((0,n.__assign)({},this.defaultContext),t),{clientAwareness:this.clientAwareness})},e}(),eE=r(1135),eS=r(91568),eI=!1,ek=function(){function e(e){var t=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw(0,i._K)(15);var r=e.uri,n=e.credentials,s=e.headers,o=e.cache,a=e.documentTransform,u=e.ssrMode,c=void 0!==u&&u,h=e.ssrForceFetchDelay,f=void 0===h?0:h,p=e.connectToDevTools,g=void 0===p?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1!==globalThis.__DEV__:p,y=e.queryDeduplication,v=void 0===y||y,m=e.defaultOptions,b=e.defaultContext,_=e.assumeImmutableResults,w=void 0===_?o.assumeImmutableResults:_,E=e.resolvers,S=e.typeDefs,I=e.fragmentMatcher,k=e.name,C=e.version,O=e.link;O||(O=r?new M({uri:r,credentials:n,headers:s}):l.empty()),this.link=O,this.cache=o,this.disableNetworkFetches=c||f>0,this.queryDeduplication=v,this.defaultOptions=m||Object.create(null),this.typeDefs=S,f&&setTimeout(function(){return t.disableNetworkFetches=!1},f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=d.i,this.localState=new el({cache:o,client:this,resolvers:E,fragmentMatcher:I}),this.queryManager=new ew({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:b,documentTransform:a,queryDeduplication:v,ssrMode:c,clientAwareness:{name:k,version:C},localState:this.localState,assumeImmutableResults:w,onBroadcast:g?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0}),g&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if("object"==typeof window){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}eI||!1===globalThis.__DEV__||(eI=!0,setTimeout(function(){if("undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var e=window.navigator,t=e&&e.userAgent,r=void 0;"string"==typeof t&&(t.indexOf("Chrome/")>-1?r="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":t.indexOf("Firefox/")>-1&&(r="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),r&&!1!==globalThis.__DEV__&&i.kG.log("Download the Apollo DevTools for a better development experience: %s",r)}},1e4))},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=(0,eE.J)(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&("network-only"===e.fetchPolicy||"cache-and-network"===e.fetchPolicy)&&(e=(0,n.__assign)((0,n.__assign)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=(0,eE.J)(this.defaultOptions.query,e)),(0,i.kG)("cache-and-network"!==e.fetchPolicy,16),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,n.__assign)((0,n.__assign)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=(0,eE.J)(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.watchFragment=function(e){return this.cache.watchFragment(e)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return h(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.reFetchObservableQueries()})},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))})},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],n=[];t.forEach(function(e,t){r.push(t),n.push(e)});var s=Promise.all(n);return s.queries=r,s.results=n,s.catch(function(e){!1!==globalThis.__DEV__&&i.kG.debug(17,e)}),s},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();!1!==globalThis.__DEV__&&(ek.prototype.getMemoryInternals=eS.su)},50280:function(e,t,r){"use strict";r.d(t,{e:function(){return a}});var n=r(11735),i=r(88164),s=r(2474),o=r(75536),a=function(e){var t=e.client,r=e.children,a=(0,o.K)(),u=s.useContext(a),c=s.useMemo(function(){return(0,n.__assign)((0,n.__assign)({},u),{client:t||u.client})},[u,t]);return(0,i.kG)(c.client,46),s.createElement(a.Provider,{value:c},r)}},79045:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});var n,i=r(88288),s=r(71531),o=r(91568),a=Object.assign(function(e){return JSON.stringify(e,u)},{reset:function(){n=new i.L(s.Q.canonicalStringify||1e3)}});function u(e,t){if(t&&"object"==typeof t){var r=Object.getPrototypeOf(t);if(r===Object.prototype||null===r){var i=Object.keys(t);if(i.every(c))return t;var s=JSON.stringify(i),o=n.get(s);if(!o){i.sort();var a=JSON.stringify(i);o=n.get(a)||i,n.set(s,o),n.set(a,o)}var u=Object.create(r);return o.forEach(function(e){u[e]=t[e]}),u}}return t}function c(e,t,r){return 0===t||r[t-1]<=e}!1!==globalThis.__DEV__&&(0,o.zP)("canonicalStringify",function(){return n.size}),a.reset()},81893:function(e,t,r){"use strict";r.d(t,{X:function(){return i}});var n=Object.prototype.toString;function i(e){return function e(t,r){switch(n.call(t)){case"[object Array]":if((r=r||new Map).has(t))return r.get(t);var i=t.slice(0);return r.set(t,i),i.forEach(function(t,n){i[n]=e(t,r)}),i;case"[object Object]":if((r=r||new Map).has(t))return r.get(t);var s=Object.create(Object.getPrototypeOf(t));return r.set(t,s),Object.keys(t).forEach(function(n){s[n]=e(t[n],r)}),s;default:return t}}(e)}},47737:function(e,t,r){"use strict";r.d(t,{Ee:function(){return o},bw:function(){return a},w0:function(){return c}});var n=r(11735),i=r(81167),s=Object.prototype.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)}function a(e){var t=e[0]||{},r=e.length;if(r>1)for(var n=new c,i=1;i<r;++i)t=n.merge(t,e[i]);return t}var u=function(e,t,r){return this.merge(e[r],t[r])},c=function(){function e(e){void 0===e&&(e=u),this.reconciler=e,this.isObject=i.s,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var r=this,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];return(0,i.s)(t)&&(0,i.s)(e)?(Object.keys(t).forEach(function(i){if(s.call(e,i)){var a=e[i];if(t[i]!==a){var u=r.reconciler.apply(r,(0,n.__spreadArray)([e,t,i],o,!1));u!==a&&((e=r.shallowCopyForMerge(e))[i]=u)}}else(e=r.shallowCopyForMerge(e))[i]=t[i]}),e):t},e.prototype.shallowCopyForMerge=function(e){return(0,i.s)(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):(0,n.__assign)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}()},64774:function(e,t,r){"use strict";r.d(t,{A:function(){return h}});var n=r(47637),i=r(92511),s=r(20084),o=r(88164),a=r(3754),u=r(53310),c=r(71531);function l(e){return e}var h=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=i.sy?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=!1!==t.cache,this.resetCache()}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(l,{cache:!1})},e.split=function(t,r,n){return void 0===n&&(n=e.identity()),Object.assign(new e(function(e){return(t(e)?r:n).transformDocument(e)},{cache:!1}),{left:r,right:n})},e.prototype.resetCache=function(){var t=this;if(this.cached){var r=new n.B(i.mr);this.performWork=(0,u.re)(e.prototype.performWork.bind(this),{makeCacheKey:function(e){var n=t.getCacheKey(e);if(n)return(0,o.kG)(Array.isArray(n),66),r.lookupArray(n)},max:c.Q["documentTransform.cache"],cache:a.k})}},e.prototype.performWork=function(e){return(0,s.A$)(e),this.transform(e)},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.performWork(e);return this.resultCache.add(t),t},e.prototype.concat=function(t){var r=this;return Object.assign(new e(function(e){return t.transformDocument(r.transformDocument(e))},{cache:!1}),{left:this,right:t})},e}()},52120:function(e,t,r){"use strict";r.d(t,{FS:function(){return o},LZ:function(){return s},mj:function(){return a}});var n=r(88164),i=r(34739);function s(e,t){var r,i=e.directives;return!i||!i.length||(r=[],i&&i.length&&i.forEach(function(e){var t;if(!("skip"!==(t=e.name.value)&&"include"!==t)){var i=e.arguments,s=e.name.value;(0,n.kG)(i&&1===i.length,68,s);var o=i[0];(0,n.kG)(o.name&&"if"===o.name.value,69,s);var a=o.value;(0,n.kG)(a&&("Variable"===a.kind||"BooleanValue"===a.kind),70,s),r.push({directive:e,ifArgument:o})}}),r).every(function(e){var r=e.directive,i=e.ifArgument,s=!1;return"Variable"===i.value.kind?(s=t&&t[i.value.name.value],(0,n.kG)(void 0!==s,67,r.name.value)):s=i.value.value,"skip"===r.name.value?!s:s})}function o(e,t,r){var n=new Set(e),s=n.size;return(0,i.Vn)(t,{Directive:function(e){if(n.delete(e.name.value)&&(!r||!n.size))return i.$_}}),r?!n.size:n.size<s}function a(e){return e&&o(["client","export"],e,!0)}},96530:function(e,t,r){"use strict";r.d(t,{F:function(){return o},Yk:function(){return s},hi:function(){return a}});var n=r(11735),i=r(88164);function s(e,t){var r=t,s=[];return e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw(0,i._K)(71,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&s.push(e)}),void 0===r&&((0,i.kG)(1===s.length,72,s.length),r=s[0].name.value),(0,n.__assign)((0,n.__assign)({},e),{definitions:(0,n.__spreadArray)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],e.definitions,!0)})}function o(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function a(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var r=e.name.value;if("function"==typeof t)return t(r);var n=t&&t[r];return(0,i.kG)(n,73,r),n||null;default:return null}}},20084:function(e,t,r){"use strict";r.d(t,{$H:function(){return o},A$:function(){return s},O4:function(){return d},iW:function(){return c},kU:function(){return u},p$:function(){return h},pD:function(){return l},rY:function(){return a}});var n=r(88164),i=r(98290);function s(e){(0,n.kG)(e&&"Document"===e.kind,74);var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw(0,n._K)(75,e.kind);return e});return(0,n.kG)(t.length<=1,76,t.length),e}function o(e){return s(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function a(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&!!e.name}).map(function(e){return e.name.value})[0]||null}function u(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function c(e){var t=o(e);return(0,n.kG)(t&&"query"===t.operation,77),t}function l(e){(0,n.kG)("Document"===e.kind,78),(0,n.kG)(e.definitions.length<=1,79);var t=e.definitions[0];return(0,n.kG)("FragmentDefinition"===t.kind,80),t}function h(e){s(e);for(var t,r=0,i=e.definitions;r<i.length;r++){var o=i[r];if("OperationDefinition"===o.kind){var a=o.operation;if("query"===a||"mutation"===a||"subscription"===a)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw(0,n._K)(81)}function d(e){var t=Object.create(null),r=e&&e.variableDefinitions;return r&&r.length&&r.forEach(function(e){e.defaultValue&&(0,i.vb)(t,e.variable.name,e.defaultValue)}),t}},32457:function(e,t,r){"use strict";r.d(t,{S:function(){return m}});var n,i=r(11052);let s=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function o(e){return a[e.charCodeAt(0)]}let a=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var u=r(34739);let c={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>l(e.definitions,"\n\n")},OperationDefinition:{leave(e){let t=d("(",l(e.variableDefinitions,", "),")"),r=l([e.operation,l([e.name,t]),l(e.directives," ")]," ");return("query"===r?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+d(" = ",r)+d(" ",l(n," "))},SelectionSet:{leave:({selections:e})=>h(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){let s=d("",e,": ")+t,o=s+d("(",l(r,", "),")");return o.length>80&&(o=s+d("(\n",f(l(r,"\n")),"\n)")),l([o,l(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+d(" ",l(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>l(["...",d("on ",e),l(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${e}${d("(",l(r,", "),")")} on ${t} ${d("",l(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?(0,i.LZ)(e):`"${e.replace(s,o)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+l(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+l(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+d("(",l(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>d("",e,"\n")+l(["schema",l(t," "),h(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>d("",e,"\n")+l(["scalar",t,l(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>d("",e,"\n")+l(["type",t,d("implements ",l(r," & ")),l(n," "),h(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:i})=>d("",e,"\n")+t+(p(r)?d("(\n",f(l(r,"\n")),"\n)"):d("(",l(r,", "),")"))+": "+n+d(" ",l(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:i})=>d("",e,"\n")+l([t+": "+r,d("= ",n),l(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>d("",e,"\n")+l(["interface",t,d("implements ",l(r," & ")),l(n," "),h(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>d("",e,"\n")+l(["union",t,l(r," "),d("= ",l(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>d("",e,"\n")+l(["enum",t,l(r," "),h(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>d("",e,"\n")+l([t,l(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>d("",e,"\n")+l(["input",t,l(r," "),h(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:i})=>d("",e,"\n")+"directive @"+t+(p(r)?d("(\n",f(l(r,"\n")),"\n)"):d("(",l(r,", "),")"))+(n?" repeatable":"")+" on "+l(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>l(["extend schema",l(e," "),h(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>l(["extend scalar",e,l(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>l(["extend type",e,d("implements ",l(t," & ")),l(r," "),h(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>l(["extend interface",e,d("implements ",l(t," & ")),l(r," "),h(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>l(["extend union",e,l(t," "),d("= ",l(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>l(["extend enum",e,l(t," "),h(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>l(["extend input",e,l(t," "),h(r)]," ")}};function l(e,t=""){var r;return null!==(r=null==e?void 0:e.filter(e=>e).join(t))&&void 0!==r?r:""}function h(e){return d("{\n",f(l(e,"\n")),"\n}")}function d(e,t,r=""){return null!=t&&""!==t?e+t+r:""}function f(e){return d("  ",e.replace(/\n/g,"\n  "))}function p(e){var t;return null!==(t=null==e?void 0:e.some(e=>e.includes("\n")))&&void 0!==t&&t}var g=r(88288),y=r(71531),v=r(91568),m=Object.assign(function(e){var t=n.get(e);return t||(t=(0,u.Vn)(e,c),n.set(e,t)),t},{reset:function(){n=new g.s(y.Q.print||2e3)}});m.reset(),!1!==globalThis.__DEV__&&(0,v.zP)("print",function(){return n?n.size:0})},98290:function(e,t,r){"use strict";r.d(t,{Ao:function(){return m},JW:function(){return c},My:function(){return v},NC:function(){return g},PT:function(){return p},Yk:function(){return u},kQ:function(){return a},qw:function(){return function e(t,r,n){for(var i,o=0,a=r.selections;o<a.length;o++){var u=a[o];if(v(u)){if("__typename"===u.name.value)return t[y(u)]}else i?i.push(u):i=[u]}if("string"==typeof t.__typename)return t.__typename;if(i)for(var c=0,l=i;c<l.length;c++){var u=l[c],h=e(t,(0,s.hi)(u,n).selectionSet,n);if("string"==typeof h)return h}}},u2:function(){return y},vb:function(){return l},vf:function(){return h}});var n=r(88164),i=r(81167),s=r(96530),o=r(79045);function a(e){return{__ref:String(e)}}function u(e){return!!(e&&"object"==typeof e&&"string"==typeof e.__ref)}function c(e){return(0,i.s)(e)&&"Document"===e.kind&&Array.isArray(e.definitions)}function l(e,t,r,i){if("IntValue"===r.kind||"FloatValue"===r.kind)e[t.value]=Number(r.value);else if("BooleanValue"===r.kind||"StringValue"===r.kind)e[t.value]=r.value;else if("ObjectValue"===r.kind){var s={};r.fields.map(function(e){return l(s,e.name,e.value,i)}),e[t.value]=s}else if("Variable"===r.kind){var o=(i||{})[r.name.value];e[t.value]=o}else if("ListValue"===r.kind)e[t.value]=r.values.map(function(e){var r={};return l(r,t,e,i),r[t.value]});else if("EnumValue"===r.kind)e[t.value]=r.value;else if("NullValue"===r.kind)e[t.value]=null;else throw(0,n._K)(82,t.value,r.kind)}function h(e,t){var r=null;e.directives&&(r={},e.directives.forEach(function(e){r[e.name.value]={},e.arguments&&e.arguments.forEach(function(n){var i=n.name,s=n.value;return l(r[e.name.value],i,s,t)})}));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach(function(e){var r=e.name,i=e.value;return l(n,r,i,t)})),p(e.name.value,n,r)}var d=["connection","include","skip","client","rest","export","nonreactive"],f=o.B,p=Object.assign(function(e,t,r){if(t&&r&&r.connection&&r.connection.key){if(!r.connection.filter||!(r.connection.filter.length>0))return r.connection.key;var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach(function(e){i[e]=t[e]}),"".concat(r.connection.key,"(").concat(f(i),")")}var s=e;if(t){var o=f(t);s+="(".concat(o,")")}return r&&Object.keys(r).forEach(function(e){-1===d.indexOf(e)&&(r[e]&&Object.keys(r[e]).length?s+="@".concat(e,"(").concat(f(r[e]),")"):s+="@".concat(e))}),s},{setStringify:function(e){var t=f;return f=e,t}});function g(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach(function(e){return l(r,e.name,e.value,t)}),r}return null}function y(e){return e.alias?e.alias.value:e.name.value}function v(e){return"Field"===e.kind}function m(e){return"InlineFragment"===e.kind}},69159:function(e,t,r){"use strict";r.d(t,{Gw:function(){return p},aL:function(){return g},bi:function(){return f},ob:function(){return y}});var n=r(11735),i=r(88164),s=r(18350),o=r(34739),a=r(20084),u=r(98290),c=r(96530),l=r(91567),h={kind:s.h.FIELD,name:{kind:s.h.NAME,value:"__typename"}};function d(e){var t=new Map;return function(r){void 0===r&&(r=e);var n=t.get(r);return n||t.set(r,n={variables:new Set,fragmentSpreads:new Set}),n}}function f(e,t){(0,a.A$)(t);for(var r,u,h,f=d(""),p=d(""),g=function(e){for(var t=0,r=void 0;t<e.length&&(r=e[t]);++t)if(!(0,l.k)(r)){if(r.kind===s.h.OPERATION_DEFINITION)return f(r.name&&r.name.value);if(r.kind===s.h.FRAGMENT_DEFINITION)return p(r.name.value)}return!1!==globalThis.__DEV__&&i.kG.error(83),null},y=0,v=t.definitions.length-1;v>=0;--v)t.definitions[v].kind===s.h.OPERATION_DEFINITION&&++y;var m=(r=new Map,u=new Map,e.forEach(function(e){e&&(e.name?r.set(e.name,e):e.test&&u.set(e.test,e))}),function(e){var t=r.get(e.name.value);return!t&&u.size&&u.forEach(function(r,n){n(e)&&(t=r)}),t}),b=function(e){return(0,l.O)(e)&&e.map(m).some(function(e){return e&&e.remove})},_=new Map,w=!1,E={enter:function(e){if(b(e.directives))return w=!0,null}},S=(0,o.Vn)(t,{Field:E,InlineFragment:E,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,r,n,i){var s=g(i);s&&s.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,r,n,i){if(b(e.directives))return w=!0,null;var s=g(i);s&&s.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,r,n){_.set(JSON.stringify(n),e)},leave:function(e,t,r,n){return e===_.get(JSON.stringify(n))?e:y>0&&e.selectionSet.selections.every(function(e){return e.kind===s.h.FIELD&&"__typename"===e.name.value})?(p(e.name.value).removed=!0,w=!0,null):void 0}},Directive:{leave:function(e){if(m(e))return w=!0,null}}});if(!w)return t;var I=function(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach(function(t){I(p(t)).transitiveVars.forEach(function(t){e.transitiveVars.add(t)})})),e},k=new Set;S.definitions.forEach(function(e){e.kind===s.h.OPERATION_DEFINITION?I(f(e.name&&e.name.value)).fragmentSpreads.forEach(function(e){k.add(e)}):e.kind!==s.h.FRAGMENT_DEFINITION||0!==y||p(e.name.value).removed||k.add(e.name.value)}),k.forEach(function(e){I(p(e)).fragmentSpreads.forEach(function(e){k.add(e)})});var C={enter:function(e){var t;if(t=e.name.value,!k.has(t)||p(t).removed)return null}};return h=(0,o.Vn)(S,{FragmentSpread:C,FragmentDefinition:C,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=I(f(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return(0,n.__assign)((0,n.__assign)({},e),{variableDefinitions:e.variableDefinitions.filter(function(e){return t.has(e.variable.name.value)})})}}}}),!function e(t,r){return!t||t.selectionSet.selections.every(function(t){return t.kind===s.h.FRAGMENT_SPREAD&&e(r[t.name.value],r)})}((0,a.$H)(h)||(0,a.pD)(h),(0,c.F)((0,a.kU)(h)))?h:null}var p=Object.assign(function(e){return(0,o.Vn)(e,{SelectionSet:{enter:function(e,t,r){if(!r||r.kind!==s.h.OPERATION_DEFINITION){var i=e.selections;if(!(!i||i.some(function(e){return(0,u.My)(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))&&!((0,u.My)(r)&&r.directives&&r.directives.some(function(e){return"export"===e.name.value})))return(0,n.__assign)((0,n.__assign)({},e),{selections:(0,n.__spreadArray)((0,n.__spreadArray)([],i,!0),[h],!1)})}}}})},{added:function(e){return e===h}});function g(e){return"query"===(0,a.p$)(e).operation?e:(0,o.Vn)(e,{OperationDefinition:{enter:function(e){return(0,n.__assign)((0,n.__assign)({},e),{operation:"query"})}}})}function y(e){return(0,a.A$)(e),f([{test:function(e){return"client"===e.name.value},remove:!0}],e)}},80328:function(e,t,r){"use strict";let n,i,s;r.d(t,{Eh:function(){return ci}});var o,a,u={};r.r(u),r.d(u,{identity:function(){return tz}});var c={};r.r(c),r.d(c,{base2:function(){return tV}});var l={};r.r(l),r.d(l,{base8:function(){return tW}});var h={};r.r(h),r.d(h,{base10:function(){return tK}});var d={};r.r(d),r.d(d,{base16:function(){return tG},base16upper:function(){return tQ}});var f={};r.r(f),r.d(f,{base32:function(){return tJ},base32hex:function(){return t0},base32hexpad:function(){return t2},base32hexpadupper:function(){return t3},base32hexupper:function(){return t1},base32pad:function(){return tY},base32padupper:function(){return tX},base32upper:function(){return tZ},base32z:function(){return t5}});var p={};r.r(p),r.d(p,{base36:function(){return t6},base36upper:function(){return t4}});var g={};r.r(g),r.d(g,{base58btc:function(){return t8},base58flickr:function(){return t9}});var y={};r.r(y),r.d(y,{base64:function(){return t7},base64pad:function(){return re},base64url:function(){return rt},base64urlpad:function(){return rr}});var v={};r.r(v),r.d(v,{base256emoji:function(){return ro}});var m={};r.r(m),r.d(m,{sha256:function(){return rb},sha512:function(){return r_}});var b={};r.r(b),r.d(b,{identity:function(){return rw}});var _={};r.r(_),r.d(_,{code:function(){return rS},decode:function(){return rk},encode:function(){return rI},name:function(){return rE}});var w={};r.r(w),r.d(w,{code:function(){return rR},decode:function(){return rP},encode:function(){return rA},name:function(){return rx}});var E=r(9109);function S(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}u((n=n.apply(e,t||[])).next())})}"undefined"!=typeof window&&(window.global=globalThis,Object.assign(window,{Buffer:E.Buffer})),"function"==typeof SuppressedError&&SuppressedError;var I=r(25939),k=r(62536),C=r(85053),O=r(75629),x=r(28242),R=r(51463),A=r(51930),P=r(17430),D=r(38078);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let N=BigInt(0),T=BigInt(1),M=BigInt(2),L=BigInt(3),j=BigInt(4),B=BigInt(5),q=BigInt(8);function U(e,t){let r=e%t;return r>=N?r:t+r}function F(e,t,r){let n=e;for(;t-- >N;)n*=n,n%=r;return n}function $(e,t){if(e===N||t<=N)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=U(e,t),n=t,i=N,s=T,o=T,a=N;for(;r!==N;){let e=n/r,t=n%r,u=i-o*e,c=s-a*e;n=r,r=t,i=o,s=a,o=u,a=c}if(n!==T)throw Error("invert: does not exist");return U(i,t)}BigInt(9),BigInt(16);let H=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function z(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function V(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function W(e){let t=V(e);return t+Math.ceil(t/2)}var K=r(95861),G=r(12403);class Q extends G.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,K.vp)(e);let r=(0,G.O0)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return(0,K.Gg)(this),this.iHash.update(e),this}digestInto(e){(0,K.Gg)(this),(0,K.aI)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let J=(e,t,r)=>new Q(e,t).update(r).digest();J.create=(e,t)=>new Q(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let Z=BigInt(0),Y=BigInt(1);function X(e){return!function(e){let t=H.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});(0,D.FF)(e,t)}(e.Fp),(0,D.FF)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...z(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}let{bytesToNumberBE:ee,hexToBytes:et}=D,er={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=er;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ee(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=er,r="string"==typeof e?et(e):e;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=er._parseInt(r.subarray(2)),{d:o,l:a}=er._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},en=BigInt(0),ei=BigInt(1),es=(BigInt(2),BigInt(3));BigInt(4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let eo=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ea=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eu=BigInt(1),ec=BigInt(2),el=(e,t)=>(e+t/ec)/t,eh=function(e,t,r=!1,n={}){if(e<=N)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:s}=z(e,t);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let o=function(e){if(e%j===L){let t=(e+T)/j;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%q===B){let t=(e-B)/q;return function(e,r){let n=e.mul(r,M),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,M),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return function(e){let t,r,n;let i=(e-T)/M;for(t=e-T,r=0;t%M===N;t/=M,r++);for(n=M;n<e&&function(e,t,r){if(r<=N||t<N)throw Error("Expected power/modulo > 0");if(r===T)return N;let n=T;for(;t>N;)t&T&&(n=n*e%r),e=e*e%r,t>>=T;return n}(n,i,e)!==e-T;n++);if(1===r){let t=(e+T)/j;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+T)/M;return function(e,o){if(e.pow(o,i)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,u=e.pow(e.mul(e.ONE,n),t),c=e.pow(o,s),l=e.pow(o,t);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(u,T<<BigInt(a-t-1));u=e.sqr(r),c=e.mul(c,r),l=e.mul(l,u),a=t}return c}}(e)}(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:(0,D.dQ)(i),ZERO:N,ONE:T,create:t=>U(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return N<=t&&t<e},is0:e=>e===N,isOdd:e=>(e&T)===T,neg:t=>U(-t,e),eql:(e,t)=>e===t,sqr:t=>U(t*t,e),add:(t,r)=>U(t+r,e),sub:(t,r)=>U(t-r,e),mul:(t,r)=>U(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<N)throw Error("Expected power > 0");if(r===N)return e.ONE;if(r===T)return t;let n=e.ONE,i=t;for(;r>N;)r&T&&(n=e.mul(n,i)),i=e.sqr(i),r>>=T;return n})(a,e,t),div:(t,r)=>U(t*$(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>$(t,e),sqrt:n.sqrt||(e=>o(a,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,D.S5)(e,s):(0,D.tL)(e,s),fromBytes:e=>{if(e.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return r?(0,D.ty)(e):(0,D.bytesToNumberBE)(e)}});return Object.freeze(a)}(eo,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),u=e*e*e%eo,c=u*u*e%eo,l=F(c,t,eo)*c%eo,h=F(l,t,eo)*c%eo,d=F(h,ec,eo)*u%eo,f=F(d,n,eo)*d%eo,p=F(f,i,eo)*f%eo,g=F(p,o,eo)*p%eo,y=F(g,a,eo)*g%eo,v=F(y,o,eo)*p%eo,m=F(v,t,eo)*c%eo,b=F(m,s,eo)*f%eo,_=F(b,r,eo)*u%eo,w=F(_,ec,eo);if(!eh.eql(eh.sqr(w),e))throw Error("Cannot find square root");return w}}),ed=function(e,t){let r=t=>(function(e){let t=function(e){let t=X(e);return D.FF(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(e){return U(e,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:l}=function(e){let t=/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function(e){let t=X(e);D.FF(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return D.eV(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){let{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw Error("bad generator point: equation left != right");function o(e){return"bigint"==typeof e&&en<e&&e<t.n}function a(e){if(!o(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function u(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:o}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=D.ci(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:D.bytesToNumberBE((0,D.ql)("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(r=U(r,o)),a(r),r}let c=new Map;function l(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}class h{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?h.ZERO:new h(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)}static fromHex(e){let t=h.fromAffine(i((0,D.ql)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(u(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),o=s(e);if(!r.eql(i,o))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){l(e);let{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,u=r.eql(r.mul(t,a),r.mul(s,i)),c=r.eql(r.mul(n,a),r.mul(o,i));return u&&c}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,es),{px:s,py:o,pz:a}=this,u=r.ZERO,c=r.ZERO,l=r.ZERO,d=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),l=r.mul(s,a),l=r.add(l,l),u=r.mul(e,l),c=r.mul(i,p),c=r.add(u,c),u=r.sub(f,c),c=r.add(f,c),c=r.mul(u,c),u=r.mul(g,u),l=r.mul(i,l),p=r.mul(e,p),g=r.sub(d,p),g=r.mul(e,g),g=r.add(g,l),l=r.add(d,d),d=r.add(l,d),d=r.add(d,p),d=r.mul(d,g),c=r.add(c,d),p=r.mul(o,a),p=r.add(p,p),d=r.mul(p,g),u=r.sub(u,d),l=r.mul(p,f),l=r.add(l,l),new h(u,c,l=r.add(l,l))}add(e){l(e);let{px:n,py:i,pz:s}=this,{px:o,py:a,pz:u}=e,c=r.ZERO,d=r.ZERO,f=r.ZERO,p=t.a,g=r.mul(t.b,es),y=r.mul(n,o),v=r.mul(i,a),m=r.mul(s,u),b=r.add(n,i),_=r.add(o,a);b=r.mul(b,_),_=r.add(y,v),b=r.sub(b,_),_=r.add(n,s);let w=r.add(o,u);return _=r.mul(_,w),w=r.add(y,m),_=r.sub(_,w),w=r.add(i,s),c=r.add(a,u),w=r.mul(w,c),c=r.add(v,m),w=r.sub(w,c),f=r.mul(p,_),c=r.mul(g,m),f=r.add(c,f),c=r.sub(v,f),f=r.add(v,f),d=r.mul(c,f),v=r.add(y,y),v=r.add(v,y),m=r.mul(p,m),_=r.mul(g,_),v=r.add(v,m),m=r.sub(y,m),m=r.mul(p,m),_=r.add(_,m),y=r.mul(v,_),d=r.add(d,y),y=r.mul(w,_),c=r.mul(b,c),c=r.sub(c,y),y=r.mul(b,v),f=r.mul(w,f),new h(c,d,f=r.add(f,y))}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,c,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)})}multiplyUnsafe(e){let n=h.ZERO;if(e===en)return n;if(a(e),e===ei)return this;let{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:u,k2:c}=i.splitScalar(e),l=n,d=n,p=this;for(;o>en||c>en;)o&ei&&(l=l.add(p)),c&ei&&(d=d.add(p)),p=p.double(),o>>=ei,c>>=ei;return s&&(l=l.negate()),u&&(d=d.negate()),d=new h(r.mul(d.px,i.beta),d.py,d.pz),l.add(d)}multiply(e){let n,i;a(e);let{endo:s}=t;if(s){let{k1neg:t,k1:o,k2neg:a,k2:u}=s.splitScalar(e),{p:c,f:l}=this.wNAF(o),{p:d,f:p}=this.wNAF(u);c=f.constTimeNegate(t,c),d=f.constTimeNegate(a,d),d=new h(r.mul(d.px,s.beta),d.py,d.pz),n=c.add(d),i=l.add(p)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=h.BASE,i=(e,t)=>t!==en&&t!==ei&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){let{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));let o=r.mul(t,e),a=r.mul(n,e),u=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===ei)return!0;if(r)return r(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===ei?this:r?r(h,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(h,this,e)}toHex(e=!0){return D.ci(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);let d=t.nBitLength,f=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>Z;)r&Y&&(n=n.add(i)),i=i.double(),r>>=Y;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),s=[],o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){let{windows:o,windowSize:a}=n(t),u=e.ZERO,c=e.BASE,l=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<o;e++){let t=e*a,n=Number(s&l);s>>=d,n>a&&(n-=h,s+=Y);let o=t+Math.abs(n)-1,f=e%2!=0,p=n<0;0===n?c=c.add(r(f,i[t])):u=u.add(r(p,i[o]))}return{p:u,f:c}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x),o=D.eV;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],o=e.subarray(1);if(t===i&&(2===n||3===n)){let e=D.bytesToNumberBE(o);if(!(en<e&&e<r.ORDER))throw Error("Point is not on curve");let t=c(e),i=r.sqrt(t);return(1&n)==1!=((i&ei)===ei)&&(i=r.neg(i)),{x:e,y:i}}if(t===s&&4===n)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),h=e=>D.ci(D.tL(e,t.nByteLength)),d=(e,t,r)=>D.bytesToNumberBE(e.slice(t,r));class f{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new f(d(e=(0,D.ql)("compactSignature",e,2*r),0,r),d(e,r,2*r))}static fromDER(e){let{r:t,s:r}=er.toSig((0,D.ql)("DER",e));return new f(t,r)}assertValidity(){if(!l(this.r))throw Error("r must be 0 < r < CURVE.n");if(!l(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new f(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s,recovery:u}=this,c=y((0,D.ql)("msgHash",e));if(null==u||![0,1,2,3].includes(u))throw Error("recovery id invalid");let l=2===u||3===u?i+t.n:i;if(l>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let d=(1&u)==0?"02":"03",f=a.fromHex(d+h(l)),p=$(l,n),g=o(-c*p),v=o(s*p),m=a.BASE.multiplyAndAddUnsafe(f,g,v);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return this.s>n>>ei}normalizeS(){return this.hasHighS()?new f(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return D.hexToBytes(this.toDERHex())}toDERHex(){return er.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return D.hexToBytes(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}function p(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof a}let g=t.bits2int||function(e){let r=D.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},y=t.bits2int_modN||function(e){return o(g(e))},v=D.dQ(t.nBitLength);function m(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(en<=e&&e<v))throw Error(`bigint expected < 2^${t.nBitLength}`);return D.tL(e,t.nByteLength)}let b={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};return a.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return a.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return a.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,i,s=b){let{seed:c,k2sig:h}=function(e,i,s=b){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:c,randomBytes:h}=t,{lowS:d,prehash:p,extraEntropy:v}=s;null==d&&(d=!0),e=(0,D.ql)("msgHash",e),p&&(e=(0,D.ql)("prehashed msgHash",c(e)));let _=y(e),w=u(i),E=[m(w),m(_)];if(null!=v){let e=!0===v?h(r.BYTES):v;E.push((0,D.ql)("extraEntropy",e))}return{seed:D.eV(...E),k2sig:function(e){let t=g(e);if(!l(t))return;let r=$(t,n),i=a.BASE.multiply(t).toAffine(),s=o(i.x);if(s===en)return;let u=o(r*o(_+s*w));if(u===en)return;let c=(i.x===s?0:2)|Number(i.y&ei),h=u;if(d&&u>n>>ei)h=u>n>>ei?o(-u):u,c^=1;return new f(s,h,c)}}}(e,i,s);return D.n$(t.hash.outputLen,t.nByteLength,t.hmac)(c,h)},verify:function(e,r,i,s=_){let u,c;if(r=(0,D.ql)("msgHash",r),i=(0,D.ql)("publicKey",i),"strict"in s)throw Error("options.strict was renamed to lowS");let{lowS:l,prehash:h}=s;try{if("string"==typeof e||e instanceof Uint8Array)try{c=f.fromDER(e)}catch(t){if(!(t instanceof er.Err))throw t;c=f.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;c=new f(t,r)}else throw Error("PARSE");u=a.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&c.hasHighS())return!1;h&&(r=t.hash(r));let{r:d,s:p}=c,g=y(r),v=$(p,n),m=o(g*v),b=o(d*v),w=a.BASE.multiplyAndAddUnsafe(u,m,b)?.toAffine();return!!w&&o(w.x)===d},ProjectivePoint:a,Signature:f,utils:{isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let e=W(t.n);return function(e,t,r=!1){let n=e.length,i=V(t),s=W(t);if(n<16||n<s||n>1024)throw Error(`expected ${s}-1024 bytes of input, got ${n}`);let o=U(r?(0,D.bytesToNumberBE)(e):(0,D.ty)(e),t-T)+T;return r?(0,D.S5)(o,i):(0,D.tL)(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=a.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>J(t,e,(0,G.eV)(...r)),randomBytes:G.O6});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:eh,n:ea,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-eu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=el(t*e,ea),o=el(-r*e,ea),a=U(e-s*t-o*n,ea),u=U(-s*r-o*t,ea),c=a>i,l=u>i;if(c&&(a=ea-a),l&&(u=ea-u),a>i||u>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:c,k1:a,k2neg:l,k2:u}}}},P.J);BigInt(0),ed.ProjectivePoint;var ef=r(21019),ep=r(99142),eg=r(25566);"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof crypto&&crypto.subtle,void 0!==eg&&null!=eg.versions&&eg.versions.node;var ey=r(55151),ev=r.n(ey);let em=ey.fetch;function eb(e){let t=new Uint8Array(e),r="";for(let e of t)r+=String.fromCharCode(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}let e_="copy",ew="convert";function eE(e,t){return{required:!0,schema:e,derive:t}}function eS(e){return{required:!0,schema:e}}function eI(e){return{required:!1,schema:e}}let ek={appid:eI(e_),appidExclude:eI(e_),credProps:eI(e_)},eC={type:eS(e_),id:eS(e_),rawId:eS(ew),authenticatorAttachment:eI(e_),response:eS({clientDataJSON:eS(ew),attestationObject:eS(ew),transports:eE(e_,e=>e.getTransports?.()||[])}),clientExtensionResults:eE(ek,e=>e.getClientExtensionResults())};async function eO(e){let t=await navigator.credentials.create(e);return t.toJSON=()=>(function e(t,r,n){if(r===e_)return n;if(r===ew)return t(n);if(r instanceof Array)return n.map(n=>e(t,r[0],n));if(r instanceof Object){let i={};for(let[s,o]of Object.entries(r)){if(o.derive){let e=o.derive(n);void 0!==e&&(n[s]=e)}if(!(s in n)){if(o.required)throw Error(`Missing key: ${s}`);continue}if(null==n[s]){i[s]=null;continue}i[s]=e(t,o.schema,n[s])}return i}})(eb,eC,t),t}function ex(e){switch(e){case"internal":return"AUTHENTICATOR_TRANSPORT_INTERNAL";case"usb":return"AUTHENTICATOR_TRANSPORT_USB";case"nfc":return"AUTHENTICATOR_TRANSPORT_NFC";case"ble":return"AUTHENTICATOR_TRANSPORT_BLE";case"hybrid":return"AUTHENTICATOR_TRANSPORT_HYBRID";default:throw Error("unsupported transport format")}}async function eR(e){var t;if(!window.PublicKeyCredential)throw Error("webauthn is not supported by this browser");return{credentialId:(t=(await eO(e)).toJSON()).rawId,attestationObject:t.response.attestationObject,clientDataJson:t.response.clientDataJSON,transports:t.response.transports.map(ex)}}eS(e_),eS(e_),eS(ew),eI(e_),eS({clientDataJSON:eS(ew),authenticatorData:eS(ew),signature:eS(ew),userHandle:eS(ew)}),eE(ek,e=>e.getClientExtensionResults()),r(9109).Buffer;class eA extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}class eP{constructor(e,t){if(this.getActivity=async e=>this.request("/public/v1/query/get_activity",e),this.stampGetActivity=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_activity",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getApiKey=async e=>this.request("/public/v1/query/get_api_key",e),this.stampGetApiKey=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_api_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getApiKeys=async e=>this.request("/public/v1/query/get_api_keys",e),this.stampGetApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_api_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAuthenticator=async e=>this.request("/public/v1/query/get_authenticator",e),this.stampGetAuthenticator=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_authenticator",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAuthenticators=async e=>this.request("/public/v1/query/get_authenticators",e),this.stampGetAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_authenticators",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getOrganization=async e=>this.request("/public/v1/query/get_organization",e),this.stampGetOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_organization",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPolicy=async e=>this.request("/public/v1/query/get_policy",e),this.stampGetPolicy=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPrivateKey=async e=>this.request("/public/v1/query/get_private_key",e),this.stampGetPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_private_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getUser=async e=>this.request("/public/v1/query/get_user",e),this.stampGetUser=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_user",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWallet=async e=>this.request("/public/v1/query/get_wallet",e),this.stampGetWallet=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getActivities=async e=>this.request("/public/v1/query/list_activities",e),this.stampGetActivities=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_activities",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPolicies=async e=>this.request("/public/v1/query/list_policies",e),this.stampGetPolicies=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_policies",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.listPrivateKeyTags=async e=>this.request("/public/v1/query/list_private_key_tags",e),this.stampListPrivateKeyTags=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_private_key_tags",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPrivateKeys=async e=>this.request("/public/v1/query/list_private_keys",e),this.stampGetPrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_private_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.listUserTags=async e=>this.request("/public/v1/query/list_user_tags",e),this.stampListUserTags=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_user_tags",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getUsers=async e=>this.request("/public/v1/query/list_users",e),this.stampGetUsers=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWalletAccounts=async e=>this.request("/public/v1/query/list_wallet_accounts",e),this.stampGetWalletAccounts=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_wallet_accounts",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWallets=async e=>this.request("/public/v1/query/list_wallets",e),this.stampGetWallets=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_wallets",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWhoami=async e=>this.request("/public/v1/query/whoami",e),this.stampGetWhoami=async e=>{let t=this.config.baseUrl+"/public/v1/query/whoami",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.approveActivity=async e=>this.request("/public/v1/submit/approve_activity",e),this.stampApproveActivity=async e=>{let t=this.config.baseUrl+"/public/v1/submit/approve_activity",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createApiKeys=async e=>this.request("/public/v1/submit/create_api_keys",e),this.stampCreateApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_api_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createApiOnlyUsers=async e=>this.request("/public/v1/submit/create_api_only_users",e),this.stampCreateApiOnlyUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_api_only_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createAuthenticators=async e=>this.request("/public/v1/submit/create_authenticators",e),this.stampCreateAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_authenticators",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createInvitations=async e=>this.request("/public/v1/submit/create_invitations",e),this.stampCreateInvitations=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_invitations",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPolicy=async e=>this.request("/public/v1/submit/create_policy",e),this.stampCreatePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPrivateKeyTag=async e=>this.request("/public/v1/submit/create_private_key_tag",e),this.stampCreatePrivateKeyTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_private_key_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPrivateKeys=async e=>this.request("/public/v1/submit/create_private_keys",e),this.stampCreatePrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_private_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createSubOrganization=async e=>this.request("/public/v1/submit/create_sub_organization",e),this.stampCreateSubOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_sub_organization",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createUserTag=async e=>this.request("/public/v1/submit/create_user_tag",e),this.stampCreateUserTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_user_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createUsers=async e=>this.request("/public/v1/submit/create_users",e),this.stampCreateUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createWallet=async e=>this.request("/public/v1/submit/create_wallet",e),this.stampCreateWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createWalletAccounts=async e=>this.request("/public/v1/submit/create_wallet_accounts",e),this.stampCreateWalletAccounts=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_wallet_accounts",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteApiKeys=async e=>this.request("/public/v1/submit/delete_api_keys",e),this.stampDeleteApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_api_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteAuthenticators=async e=>this.request("/public/v1/submit/delete_authenticators",e),this.stampDeleteAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_authenticators",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteInvitation=async e=>this.request("/public/v1/submit/delete_invitation",e),this.stampDeleteInvitation=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_invitation",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deletePolicy=async e=>this.request("/public/v1/submit/delete_policy",e),this.stampDeletePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.emailAuth=async e=>this.request("/public/v1/submit/email_auth",e),this.stampEmailAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/email_auth",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportPrivateKey=async e=>this.request("/public/v1/submit/export_private_key",e),this.stampExportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_private_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportWallet=async e=>this.request("/public/v1/submit/export_wallet",e),this.stampExportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportWalletAccount=async e=>this.request("/public/v1/submit/export_wallet_account",e),this.stampExportWalletAccount=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_wallet_account",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initUserEmailRecovery=async e=>this.request("/public/v1/submit/init_user_email_recovery",e),this.stampInitUserEmailRecovery=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_user_email_recovery",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.recoverUser=async e=>this.request("/public/v1/submit/recover_user",e),this.stampRecoverUser=async e=>{let t=this.config.baseUrl+"/public/v1/submit/recover_user",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.rejectActivity=async e=>this.request("/public/v1/submit/reject_activity",e),this.stampRejectActivity=async e=>{let t=this.config.baseUrl+"/public/v1/submit/reject_activity",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.removeOrganizationFeature=async e=>this.request("/public/v1/submit/remove_organization_feature",e),this.stampRemoveOrganizationFeature=async e=>{let t=this.config.baseUrl+"/public/v1/submit/remove_organization_feature",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.setOrganizationFeature=async e=>this.request("/public/v1/submit/set_organization_feature",e),this.stampSetOrganizationFeature=async e=>{let t=this.config.baseUrl+"/public/v1/submit/set_organization_feature",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signRawPayload=async e=>this.request("/public/v1/submit/sign_raw_payload",e),this.stampSignRawPayload=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_raw_payload",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signTransaction=async e=>this.request("/public/v1/submit/sign_transaction",e),this.stampSignTransaction=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_transaction",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updatePolicy=async e=>this.request("/public/v1/submit/update_policy",e),this.stampUpdatePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updatePrivateKeyTag=async e=>this.request("/public/v1/submit/update_private_key_tag",e),this.stampUpdatePrivateKeyTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_private_key_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateRootQuorum=async e=>this.request("/public/v1/submit/update_root_quorum",e),this.stampUpdateRootQuorum=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_root_quorum",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateUser=async e=>this.request("/public/v1/submit/update_user",e),this.stampUpdateUser=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_user",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateUserTag=async e=>this.request("/public/v1/submit/update_user_tag",e),this.stampUpdateUserTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_user_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},!e.baseUrl)throw Error("Missing base URL. Please verify env vars.");this.config=e,this.stamper=t}async request(e,t){let r=this.config.baseUrl+e,n=JSON.stringify(t),i=await this.stamper.stamp(n),s=await em(r,{method:"POST",headers:{[i.stampHeaderName]:i.stampHeaderValue,"X-Client-Version":"@turnkey/http@2.7.1"},body:n,redirect:"follow"});if(!s.ok){let e;try{e=await s.json()}catch(e){throw Error(`${s.status} ${s.statusText}`)}throw new eA(e)}return await s.json()}}class eD extends Error{constructor(e){let{message:t,cause:r,activityId:n,activityStatus:i,activityType:s}=e;super(t),this.name="TurnkeyActivityError",this.activityId=n??null,this.activityStatus=i??null,this.activityType=s??null,this.cause=r??null}}async function eN(e){let{client:t,organizationId:r,signWith:n}=e,{ethereumAddress:i}=e;if(!n)throw new eD({message:"Missing signWith parameter"});if((0,O.U)(n))i=n;else if(!i){let e=await t.getPrivateKey({privateKeyId:n,organizationId:r});if("string"!=typeof(i=e.privateKey.addresses.find(e=>"ADDRESS_FORMAT_ETHEREUM"===e.format)?.address)||!i)throw new eD({message:`Unable to find Ethereum address for key ${n} under organization ${r}`})}return(0,ep.A)({address:i,signMessage:function({message:e}){return eT(t,e,r,n)},signTransaction:function(e,i){return eM(t,e,i?.serializer?i.serializer:x.D,r,n)},signTypedData:function(e){return eL(t,e,r,n)}})}async function eT(e,t,r,n){let i=(0,R.r)(t),s=await eq(e,i,r,n);return`${s}`}async function eM(e,t,r,n,i){let s=r(t).replace(/^0x/,"");return await ej(e,s,n,i)}async function eL(e,t,r,n){let i=(0,A.J)(t);return await eq(e,i,r,n)}async function ej(e,t,r,n){let i;try{i=await eB(e,t,r,n)}catch(e){if(e instanceof eD)throw e;throw new eD({message:`Failed to sign transaction: ${e.message}`,cause:e})}return`0x${i}`}async function eB(e,t,r,n){let{activity:i}=await e.signTransaction({type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2",organizationId:r,parameters:{signWith:n,type:"TRANSACTION_TYPE_ETHEREUM",unsignedTransaction:t},timestampMs:String(Date.now())}),{id:s,status:o,type:a}=i;if("ACTIVITY_STATUS_COMPLETED"===i.status)return eF(i?.result?.signTransactionResult?.signedTransaction);throw new eD({message:`Invalid activity status: ${i.status}`,activityId:s,activityStatus:o,activityType:a})}async function eq(e,t,r,n){let i;try{i=await eU(e,t,r,n)}catch(e){if(e instanceof eD)throw e;throw new eD({message:`Failed to sign: ${e.message}`,cause:e})}return i}async function eU(e,t,r,n){let{activity:i}=await e.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:r,parameters:{signWith:n,payload:t,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NO_OP"},timestampMs:String(Date.now())}),{id:s,status:o,type:a}=i;if("ACTIVITY_STATUS_COMPLETED"===i.status){let e=eF(i?.result?.signRawPayloadResult);return eF(function({r:e,s:t,v:r,yParity:n}){let i=(()=>{if(27n===r||0===n)return"1b";if(28n===r||1===n)return"1c";throw Error("Invalid v value")})();return`0x${new ed.Signature((0,ef.y_)(e),(0,ef.y_)(t)).toCompactHex()}${i}`}({r:`0x${e.r}`,s:`0x${e.s}`,v:"00"===e.v?27n:28n}))}throw new eD({message:`Invalid activity status: ${i.status}`,activityId:s,activityStatus:o,activityType:a})}function eF(e){if(null==e)throw Error(`Got unexpected ${JSON.stringify(e)}`);return e}(o=a||(a={})).PublicKeyReady="PUBLIC_KEY_READY",o.InjectCredentialBundle="INJECT_CREDENTIAL_BUNDLE",o.InjectKeyExportBundle="INJECT_KEY_EXPORT_BUNDLE",o.InjectWalletExportBundle="INJECT_WALLET_EXPORT_BUNDLE",o.BundleInjected="BUNDLE_INJECTED",o.StampRequest="STAMP_REQUEST",o.Stamp="STAMP",o.Error="ERROR";class e${constructor(e){if("undefined"==typeof window)throw Error("Cannot initialize iframe in non-browser environment");if(!e.iframeContainer)throw Error("Iframe container cannot be found");if(this.container=e.iframeContainer,this.container.querySelector(`#${e.iframeElementId}`))throw Error(`Iframe element with ID ${e.iframeElementId} already exists`);let t=window.document.createElement("iframe");t.id=e.iframeElementId,t.src=e.iframeUrl,this.iframe=t;let r=new URL(e.iframeUrl);this.iframeOrigin=r.origin,this.iframePublicKey=null}async init(){return this.container.appendChild(this.iframe),new Promise((e,t)=>{window.addEventListener("message",t=>{t.origin===this.iframeOrigin&&t.data?.type===a.PublicKeyReady&&(this.iframePublicKey=t.data.value,e(t.data.value))},!1)})}clear(){this.iframe.remove()}publicKey(){return this.iframePublicKey}async injectCredentialBundle(e){return new Promise((t,r)=>{this.iframe.contentWindow?.postMessage({type:a.InjectCredentialBundle,value:e},"*"),window.addEventListener("message",e=>{e.origin===this.iframeOrigin&&(e.data?.type===a.BundleInjected&&t(e.data.value),e.data?.type===a.Error&&r(e.data.value))},!1)})}async injectKeyExportBundle(e){return this.iframe.contentWindow?.postMessage({type:a.InjectKeyExportBundle,value:e},"*"),new Promise((e,t)=>{window.addEventListener("message",r=>{r.origin===this.iframeOrigin&&(r.data?.type===a.BundleInjected&&e(r.data.value),r.data?.type===a.Error&&t(r.data.value))},!1)})}async injectWalletExportBundle(e){return this.iframe.contentWindow?.postMessage({type:a.InjectWalletExportBundle,value:e},"*"),new Promise((e,t)=>{window.addEventListener("message",r=>{r.origin===this.iframeOrigin&&(r.data?.type===a.BundleInjected&&e(r.data.value),r.data?.type===a.Error&&t(r.data.value))},!1)})}async stamp(e){if(null===this.iframePublicKey)throw Error("null iframe public key. Have you called/awaited .init()?");let t=this.iframeOrigin;return this.iframe.contentWindow?.postMessage({type:a.StampRequest,value:e},"*"),new Promise(function(e,r){window.addEventListener("message",n=>{n.origin===t&&(n.data?.type===a.Stamp&&e({stampHeaderName:"X-Stamp",stampHeaderValue:n.data.value}),n.data?.type===a.Error&&r(n.data.value))},!1)})}}function eH(e){let t=new Uint8Array(e),r="";for(let e of t)r+=String.fromCharCode(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}let ez="copy",eV="convert";function eW(e){return{required:!0,schema:e}}function eK(e){return{required:!1,schema:e}}let eG={appid:eK(ez),appidExclude:eK(ez),credProps:eK(ez)},eQ={type:eW(ez),id:eW(ez),rawId:eW(eV),authenticatorAttachment:eK(ez),response:eW({clientDataJSON:eW(eV),authenticatorData:eW(eV),signature:eW(eV),userHandle:eW(eV)}),clientExtensionResults:{required:!0,schema:eG,derive:e=>e.getClientExtensionResults()}};async function eJ(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>(function e(t,r,n){if(r===ez)return n;if(r===eV)return t(n);if(r instanceof Array)return n.map(n=>e(t,r[0],n));if(r instanceof Object){let i={};for(let[s,o]of Object.entries(r)){if(o.derive){let e=o.derive(n);void 0!==e&&(n[s]=e)}if(!(s in n)){if(o.required)throw Error(`Missing key: ${s}`);continue}if(null==n[s]){i[s]=null;continue}i[s]=e(t,o.schema,n[s])}return i}})(eH,eQ,t),t}var eZ=r(30254);class eY{constructor(e){this.rpId=e.rpId,this.timeout=e.timeout||3e5,this.userVerification=e.userVerification||"preferred",this.allowCredentials=e.allowCredentials||[]}async stamp(e){let t=function(e){let t=(0,eZ.j)().update(e).digest("hex");return new TextEncoder().encode(t)}(e),r={publicKey:{rpId:this.rpId,challenge:t,allowCredentials:this.allowCredentials,timeout:this.timeout,userVerification:this.userVerification}},n=(await eJ(r)).toJSON();return{stampHeaderName:"X-Stamp-Webauthn",stampHeaderValue:JSON.stringify({authenticatorData:n.response.authenticatorData,clientDataJson:n.response.clientDataJSON,credentialId:n.id,signature:n.response.signature})}}}var eX=r(64305),e0=r(46066),e1=r(39059);let e2=(e,t)=>null==e?void 0:e.find(({walletName:e,chain:r})=>(null==e?void 0:e.startsWith("turnkey"))&&t===r);var e3=r(99685);let e5={AUTHENTICATOR_TRANSPORT_BLE:e3.lfg.Ble,AUTHENTICATOR_TRANSPORT_HYBRID:e3.lfg.Hybrid,AUTHENTICATOR_TRANSPORT_INTERNAL:e3.lfg.Internal,AUTHENTICATOR_TRANSPORT_NFC:e3.lfg.Nfc,AUTHENTICATOR_TRANSPORT_USB:e3.lfg.Usb},e6=e=>e.map(e=>e5[e]);r(59527),r(45429);var e4=r(9109).Buffer;let e8=e=>e4.from(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),e9=()=>{let e=new Uint8Array(32);return crypto.getRandomValues(e),e.buffer},e7="https://api.turnkey.com";class te{constructor(){this.isSessionActive=()=>!!this.__createdAt&&"email"===this.__recoveryType&&(!this.isExpired(this.__createdAt,this.__sessionExpiration||1800)||(this.clear(),!1)),this.isValidCode=e=>S(this,void 0,void 0,function*(){var t,r,n,i;if(!e||!this.__turnkeyRecoveryUserId)throw new e1.kW("Cannot proceed with your request");let s=yield null===(t=this.__client)||void 0===t?void 0:t.getUser({organizationId:e,userId:this.__turnkeyRecoveryUserId}),o={email:"CREDENTIAL_TYPE_API_KEY_P256",passkey:"CREDENTIAL_TYPE_RECOVER_USER_KEY_P256"},a=null===(i=null===(n=null===(r=null==s?void 0:s.user)||void 0===r?void 0:r.apiKeys)||void 0===n?void 0:n.filter(e=>e.credential.type===o[this.__recoveryType]))||void 0===i?void 0:i.pop();return!(!a||this.isExpired(parseInt(a.createdAt.seconds,10),900))&&(this.__createdAt=parseInt(a.createdAt.seconds,10),!0)}),this.isExpired=(e,t)=>{let r=new Date(1e3*(e+t));return new Date>=r}}get publicKey(){return this.__publicKey}get client(){return this.__client}get recoveryType(){return this.__recoveryType}get recoveryUserId(){return this.__turnkeyRecoveryUserId||""}set recoveryUserId(e){this.__turnkeyRecoveryUserId=e}clear(){var e;null===(e=this.__iframeStamper)||void 0===e||e.clear(),this.__recoveryType=void 0,this.__iframeStamper=void 0,this.__publicKey=void 0,this.__client=void 0,this.__turnkeyRecoveryUserId=void 0,this.__createdAt=void 0}initRecovery(e,t,r,n){return S(this,void 0,void 0,function*(){return this.__recoveryType&&this.clear(),this.__sessionExpiration=n,this.__recoveryType=e,this.__iframeStamper=new e$({iframeContainer:t,iframeElementId:r,iframeUrl:"passkey"===e?"https://recovery.turnkey.com":"https://auth.turnkey.com"}),yield this.__iframeStamper.init(),this.__publicKey=this.__iframeStamper.publicKey(),this.__publicKey})}verifyRecoveryCode(e,t){return S(this,void 0,void 0,function*(){if(!this.__iframeStamper)throw new e1.kW("Cannot proceed with your request");try{if(yield this.__iframeStamper.injectCredentialBundle(e),this.__client=new eP({baseUrl:e7},this.__iframeStamper),!t||!this.__turnkeyRecoveryUserId)throw new e1.kW("Cannot proceed with your request");if(!(yield this.isValidCode(t)))throw new e1.kW("The code is invalid or expired.")}catch(e){if(eX.kg.error("Error while verifying recovery code",e),e instanceof e1.kW)throw e;throw new e1.kW("The code is invalid or expired.")}})}completeRecovery(e){return S(this,arguments,void 0,function*({attestation:e,challenge:t,organizationId:r}){if(!this.__client||!this.__turnkeyRecoveryUserId)throw new e1.kW("Cannot proceed with your request");try{return this.__client.recoverUser({organizationId:r,parameters:{authenticator:{attestation:e,authenticatorName:"Passkey",challenge:t},userId:this.__turnkeyRecoveryUserId},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"})}catch(e){throw eX.kg.error("Error while completing recovery process",e),e}})}addPasskeyAuthenticator(e){return S(this,arguments,void 0,function*({attestation:e,challenge:t,organizationId:r}){if(!this.__client||!this.__turnkeyRecoveryUserId)throw new e1.kW("Cannot proceed with your request");try{return this.__client.createAuthenticators({organizationId:r,parameters:{authenticators:[{attestation:e,authenticatorName:"Passkey",challenge:t}],userId:this.__turnkeyRecoveryUserId},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"})}catch(e){throw eX.kg.error("Error while creating new authenticator",e),e}})}addEmailRecovery(e){return S(this,arguments,void 0,function*({organizationId:e,email:t,turnkeyUserId:r}){let n=(0,e1.KT)();n||(n=window.location.hostname);let i=new eP({baseUrl:e7},new eY({rpId:n}));try{return{signedRequest:yield i.stampUpdateUser({organizationId:e,parameters:{userEmail:t,userId:r,userTagIds:[]},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"}),userId:r}}catch(e){throw eX.kg.error("Error while adding email recovery",e),e}})}}let tt=new te;class tr{get publicKey(){return this.__publicKey}clear(){var e;null===(e=this.__iframeStamper)||void 0===e||e.clear(),this.__iframeStamper=void 0,this.__publicKey=void 0,this.__turnkeyClient=void 0}initExport(e,t){return S(this,void 0,void 0,function*(){if(this.__iframeStamper=new e$({iframeContainer:e,iframeElementId:t,iframeUrl:"https://export.turnkey.com"}),yield this.__iframeStamper.init(),this.__publicKey=this.__iframeStamper.publicKey(),tt.isSessionActive())this.__turnkeyClient=tt.client;else{let e=(0,e1.KT)();e||(e=window.location.hostname);let t=new eY({rpId:e});this.__turnkeyClient=new eP({baseUrl:"https://api.turnkey.com"},t)}return this.__publicKey})}verifyExportWallet(e){return S(this,void 0,void 0,function*(){if(!this.__iframeStamper)throw new e1.kW("Cannot proceed with your request");try{return yield this.__iframeStamper.injectWalletExportBundle(e)}catch(e){throw eX.kg.error("Error while verifying export wallet",e),e}})}verifyExportPrivateKey(e){return S(this,void 0,void 0,function*(){if(!this.__iframeStamper)throw new e1.kW("Cannot proceed with your request");try{return yield this.__iframeStamper.injectKeyExportBundle(e)}catch(e){throw eX.kg.error("Error while verifying export private key",e),e}})}exportPrivateKey(e){return S(this,arguments,void 0,function*({privateKeyId:e,organizationId:t}){if(!this.__iframeStamper||!this.__publicKey||!this.__turnkeyClient||!e)throw new e1.kW("Cannot proceed with your request");try{return(yield this.__turnkeyClient.exportPrivateKey({organizationId:t,parameters:{privateKeyId:e,targetPublicKey:this.__publicKey},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"})).activity}catch(e){throw eX.kg.error("Error while completing export private key process",e),e}})}exportWallet(e){return S(this,arguments,void 0,function*({walletId:e,organizationId:t,address:r}){if(!this.__iframeStamper||!this.__publicKey||!this.__turnkeyClient||!e)throw new e1.kW("Cannot proceed with your request");try{if(r)return(yield this.__turnkeyClient.exportWalletAccount({organizationId:t,parameters:{address:r,targetPublicKey:this.__publicKey},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"})).activity;return(yield this.__turnkeyClient.exportWallet({organizationId:t,parameters:{targetPublicKey:this.__publicKey,walletId:e},timestampMs:String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"})).activity}catch(e){throw eX.kg.error("Error while completing export wallet process",e),e}})}}class tn extends eX.VY{constructor(e,t){if(super(t),this.requiresNonDynamicEmailOtp=!1,this.isEmbeddedWallet=!0,!t.appName)throw Error("appName not set");this.name=e.name,this.overrideKey=e.key,this.appName=t.appName,this.__authenticatorMethodHandler=tt,this.__exportHandler=new tr}getWebAuthnAttestation(){return S(this,void 0,void 0,function*(){let e;let t=e9(),r=e9(),{email:n,passkeyIdentifier:i}=this;if(!n&&!i)throw Error("Email or passkeyIdentifier must be set to register a webauthn credential.");let s=n||`${this.appName} - ${i}`,o={publicKey:{authenticatorSelection:{authenticatorAttachment:void 0,requireResidentKey:!1,residentKey:"preferred",userVerification:"discouraged"},challenge:t,pubKeyCredParams:[{alg:-7,type:"public-key"}],rp:{id:(0,e1.KT)(),name:this.appName},user:{displayName:s,id:r,name:n||`${this.appName} - ${i}`}}};try{e=yield eR(o)}catch(t){eX.kg.warn(`Unable to register webauthn credential on the current page's TLD ${(0,e1.KT)()}. Falling back to using hostname. ${window.location.hostname}`,t),o.publicKey.rp.id=window.location.hostname,e=yield eR(o)}return{attestation:{attestationObject:e.attestationObject,clientDataJson:e.clientDataJson,credentialId:e.credentialId,transports:e6(e.transports)},challenge:e8(t),displayName:s}})}getAuthenticatorHandler(){return this.__authenticatorMethodHandler}getExportHandler(){return this.__exportHandler}get email(){return this._email}setEmail(e){this._email=e}get phone(){return this._phone}setPhone(e){this._phone=e}get passkeyIdentifier(){return this._passkeyIdentifier}setPasskeyIdentifier(e){this._passkeyIdentifier=e}clearEmail(){this._email=null}getAddress(){return S(this,void 0,void 0,function*(){var e;return null===(e=this.verifiedCredential)||void 0===e?void 0:e.address})}getConnectedAccounts(){return S(this,void 0,void 0,function*(){var e;let t=null===(e=this.verifiedCredential)||void 0===e?void 0:e.address;return t?[t]:[]})}getMobileOrInstalledWallet(){return this}get turnkeyAddress(){var e;let{address:t}=null!==(e=this.verifiedCredential)&&void 0!==e?e:{};return t}get walletProperties(){let{walletProperties:e}=this.verifiedCredential||{};return e}set verifiedCredential(e){this._verifiedCredential=e}get verifiedCredential(){return this._verifiedCredential}}class ti extends tn{constructor(e,t){var r;super(e,t),this.walletFallback={brand:{alt:"Turnkey Wallet",spriteId:"turnkey"},name:"Turnkey HD"},this.connectedChain="EVM",this.supportedChains=["ETH","EVM"],this.verifiedCredentialChain="eip155",this.evmNetworks=(0,e1.fu)(t.evmNetworks),this.walletUiUtils=t.walletUiUtils,this._turnkeyAccount=void 0,this._selectedChainId=this.getLastUsedChainId(),this.chainRpcProviders=t.chainRpcProviders,null===(r=this.chainRpcProviders)||void 0===r||r.registerEvmProviders(),this.__turnkeyClient=this.getTurnkeyClient()}getLastUsedChainId(){var e;return this.lastUsedChainId?this.lastUsedChainId:(null===(e=this.evmNetworks)||void 0===e?void 0:e.length)?this.evmNetworks[0].chainId:void 0}getNetwork(){return S(this,void 0,void 0,function*(){var e;return null===(e=yield this.getSigner())||void 0===e?void 0:e.getChainId()})}supportsNetworkSwitching(){return!0}switchNetwork(e){return S(this,arguments,void 0,function*({networkChainId:e}){this.lastUsedChainId=e,this._selectedChainId=e,yield this.refreshTurnkeyAccount(),this.emit("chainChange",{chain:e.toString()})})}setVerifiedCredentials(e){let t=e2(e,"eip155");JSON.stringify(this.verifiedCredential)!==JSON.stringify(t)&&(this.verifiedCredential=t,this.refreshTurnkeyAccount())}getRpcUrl(){let e=this._selectedChainId;return(0,eX.GO)({chainId:e,networks:this.evmNetworks})}getBalance(){return S(this,void 0,void 0,function*(){let e=this.turnkeyAddress;if(!e)return;let t=this.getRpcUrl();if(!t)return;let r=(0,I.v)({transport:(0,k.d)(t)}),n=yield r.getBalance({address:e});return(0,C.d)(n)})}signMessage(e){return S(this,void 0,void 0,function*(){let t=yield this.getSigner();if(!t)throw Error("Signer not found");return t.signMessage({message:e})})}getPublicClient(){return S(this,void 0,void 0,function*(){var e,t,r;if(0===this.evmNetworks.length)return;let n=null!==(e=yield this.getNetwork())&&void 0!==e?e:1,i={cosmos:[],evm:this.evmNetworks,solana:[],starknet:void 0};return null===(r=null===(t=this.chainRpcProviders)||void 0===t?void 0:t.getEvmProviderByChainId(i,n))||void 0===r?void 0:r.provider})}getSigner(){return S(this,void 0,void 0,function*(){return yield this.getTurnkeyAccount(),this.getWalletClient()})}getTurnkeyClient(){var e;let t=(0,e1.KT)();t||(t=window.location.hostname);let r=new eY({rpId:t});return this.__turnkeyClient=null!==(e=this.getAuthenticatorHandler().client)&&void 0!==e?e:new eP({baseUrl:"https://api.turnkey.com"},r),this.__turnkeyClient}getAccount(){return S(this,void 0,void 0,function*(){var e,t;return("passkey"===this.getAuthenticatorHandler().recoveryType&&(null===(e=this.__turnkeyClient)||void 0===e?void 0:e.stamper)instanceof e$||"email"===this.getAuthenticatorHandler().recoveryType&&(null===(t=this.__turnkeyClient)||void 0===t?void 0:t.stamper)instanceof eY||this.__turnkeyClient!==this.getAuthenticatorHandler().client)&&(yield this.refreshTurnkeyAccount()),this._turnkeyAccount})}getWalletClient(){let e=this.networkRpcUrl,t=this._turnkeyAccount,r=this.currentEvmNetwork;if(t&&e&&r)return(0,e0.No)({account:this.getAccount.bind(this),address:this.turnkeyAddress,chain:(0,e1.uy)(r),transport:(0,k.d)(e),walletConnector:this,walletUiUtils:this.walletUiUtils})}refreshTurnkeyAccount(){return S(this,void 0,void 0,function*(){return this._turnkeyAccount=void 0,this.getTurnkeyAccount()})}get currentChainId(){var e,t,r;return null!==(e=this._selectedChainId)&&void 0!==e?e:null===(r=null===(t=this.evmNetworks)||void 0===t?void 0:t[0])||void 0===r?void 0:r.chainId}get networkRpcUrl(){let e=this.currentChainId;if(this.evmNetworks.find(t=>t.chainId===e))return(0,eX.GO)({chainId:e,networks:this.evmNetworks})}get currentEvmNetwork(){let e=this.currentChainId;return this.evmNetworks.find(t=>t.chainId===e)}getTurnkeyAccount(){return S(this,void 0,void 0,function*(){var e,t;if(this._turnkeyAccount)return this._turnkeyAccount;let{turnkeySubOrganizationId:r}=null!==(e=this.walletProperties)&&void 0!==e?e:{},{address:n}=null!==(t=this.verifiedCredential)&&void 0!==t?t:{};if(r&&n)return this._turnkeyAccount=yield eN({client:this.getTurnkeyClient(),ethereumAddress:n,organizationId:r,signWith:n}),this._turnkeyAccount})}get lastUsedChainId(){let e=localStorage.getItem(ti.lastUsedChainIdStorageKey);if(e)try{let t=parseInt(e);if(isNaN(t))return;if(!this.evmNetworks.some(e=>e.chainId===t)){let e=this.evmNetworks[0].chainId;return this.lastUsedChainId=e,this.lastUsedChainId}return t}catch(e){eX.kg.error(e);return}}set lastUsedChainId(e){void 0===e?localStorage.removeItem(ti.lastUsedChainIdStorageKey):localStorage.setItem(ti.lastUsedChainIdStorageKey,e.toString())}createUiTransaction(e){return S(this,void 0,void 0,function*(){let t=this.getWalletClient(),r=yield this.getPublicClient();if(!r||!t)throw new e1.kW("No public client available");return(0,e0.mu)({from:e,publicClient:r,walletClient:t})})}}ti.lastUsedChainIdStorageKey="turnkey-last-used-chain-id";let ts={Turnkey:{key:"turnkey",name:"Turnkey"},TurnkeyHD:{key:"turnkeyhd",name:"Turnkey HD"}},to=e=>{var t;return(null===(t=e.apiProviders)||void 0===t?void 0:t.turnkey)?[ti.bind(null,ts.TurnkeyHD),ti.bind(null,ts.Turnkey)]:[]};function ta(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}u((n=n.apply(e,t||[])).next())})}r(96063),r(9109).Buffer,r(98994),"function"==typeof SuppressedError&&SuppressedError,r(9109).Buffer,r(9109).Buffer,"function"==typeof SuppressedError&&SuppressedError;var tu=r(30386),tc=r(73042),tl=r(69532),th=r(99112);let td=e=>"eip6963:announceProvider"===e.type&&void 0!==e.detail;class tf{constructor(){this.providers=[]}registerProviders(){"undefined"!=typeof window&&(window.addEventListener("eip6963:announceProvider",e=>{td(e)&&this.providers.push(e.detail)}),window.dispatchEvent(new Event("eip6963:requestProvider")))}}class tp{constructor(){this.eip6963Provider=new tf}static get(){var e;return(null===(e=tp.instance)||void 0===e?void 0:e.eip6963Provider)||(tp.instance=new tp,tp.instance.eip6963Provider.registerProviders()),tp.instance.eip6963Provider}}class tg{constructor(e,t){this.wallet=e,this.connector=t}getInstalledProvider(){let e=this.getEip6963Config();if(e){let t=this.eip6963ProviderLookup(e.rdns);if(t)return t}let t=this.getInjectedConfig();if(t&&t.extensionLocators&&t.extensionLocators.length)return this.installedProviderLookup(t.extensionLocators)}getEip6963Config(){if(this.wallet&&this.wallet.eip6963Config)return this.wallet.eip6963Config}getInjectedConfig(){if(!this.wallet||!this.wallet.injectedConfig)return;let{injectedConfig:e}=this.wallet;return e.find(e=>"evm"===e.chain)}installedProviders(){let e=this.getInjectedConfig();if(!e)return[];let t=[];if(e.windowLocations)for(let r of e.windowLocations){let e=(0,e1.vj)(r);e&&e.length&&t.push(...e)}return window.ethereum&&(window.ethereum.providers&&window.ethereum.providers.length?window.ethereum.providers.forEach(e=>t.push(e)):t.push(window.ethereum)),t}installedProviderLookup(e){let t=this.installedProviders();return(0,eX.VN)(t,e)}eip6963ProviderLookup(e){var t;let{providers:r}=tp.get();return null===(t=r.find(t=>t.info.rdns===e))||void 0===t?void 0:t.provider}isInstalledHelper(){return void 0!==this.findProvider()}findProvider(){return this.getInstalledProvider()}findWalletClient(e){let t=this.findProvider();if(t)return(0,tc.K)({account:this.connector.getActiveAccount(),chain:e?e0.zk[e]:void 0,transport:(0,tl.P)(t)})}getAddress(){return ta(this,void 0,void 0,function*(){let e=this.findWalletClient();return e?this.getAddressWithProvider(e):Promise.resolve(void 0)})}getAddressWithProvider(e){return ta(this,void 0,void 0,function*(){try{let[t]=yield e.requestAddresses(),r=(0,th.K)(t);return this.connector.setActiveAccount(r),r}catch(e){return eX.kg.error(e),Promise.reject(e)}})}signMessage(e){return ta(this,void 0,void 0,function*(){let t=yield this.getAddress();if(!t)return Promise.resolve(void 0);let r=this.findWalletClient();return r?yield r.signMessage({account:t,message:e}):Promise.resolve(void 0)})}_setupEventListeners(e){let t=this.findProvider();if(!t)return{tearDownEventListeners:()=>{}};let{handleAccountChange:r,handleChainChange:n,handleDisconnect:i}=(0,eX.nb)(e);return t.on("accountsChanged",r),t.on("chainChanged",n),t.on("disconnect",i),{tearDownEventListeners:()=>{let e=this.findProvider();e&&(r&&e.removeListener("accountsChanged",r),n&&e.removeListener("chainChanged",n),i&&e.removeListener("disconnect",i))}}}}let ty=({chainId:e,name:t,networks:r})=>e||t?e&&t?r.find(r=>r.chainId===e&&r.name===t):e?r.find(t=>t.chainId===e):r.find(e=>e.name===t):void 0,tv=e=>ta(void 0,[e],void 0,function*({rpcProvider:e,address:t}){var r;let n={avatar:void 0,name:void 0},i=yield e.getChainId();if(!i)return n;if(8453===i)try{let e=yield fetch(`https://resolver-api.basename.app/v1/addresses/${t}`);if(e.ok){let t=yield e.json();n.name=null!==(r=t.name)&&void 0!==r?r:void 0}}catch(e){eX.kg.debug("Failed to fetch ens data",e)}else n.name=yield e.getEnsName({address:t}),n.avatar=n.name?yield e.getEnsAvatar({name:n.name}):void 0;return n});class tm extends eX.VY{getPublicClient(){return ta(this,void 0,void 0,function*(){var e,t,r;let n=null!==(e=yield this.getNetwork())&&void 0!==e?e:1;if(0===this.evmNetworks.length)return;let i={cosmos:[],evm:this.evmNetworks,solana:[],starknet:void 0};return null===(r=null===(t=this.chainRpcProviders)||void 0===t?void 0:t.getEvmProviderByChainId(i,n))||void 0===r?void 0:r.provider})}constructor(e){var t;super(e),this.evmNetworkRpcMap=()=>this.evmNetworks.reduce((e,t)=>{var r;return[e[t.chainId]]=(null===(r=null==t?void 0:t.privateCustomerRpcUrls)||void 0===r?void 0:r.length)?t.privateCustomerRpcUrls:t.rpcUrls,e},{}),this.evmNetworks=(0,e1.fu)(e.evmNetworks),this.chainRpcProviders=e.chainRpcProviders,null===(t=this.chainRpcProviders)||void 0===t||t.registerEvmProviders()}getNetwork(){return ta(this,void 0,void 0,function*(){let e=this.getWalletClient();return this.supportsNetworkSwitching&&e?(0,e1.MB)(e.getChainId,{fallbackValue:e1.yR,timeoutMs:1e3}):Promise.resolve(void 0)})}getNameService(){return ta(this,void 0,void 0,function*(){let[[e],t]=yield Promise.all([this.getConnectedAccounts(),this.getPublicClient()]);if(e&&t)return tv({address:e,rpcProvider:t})})}getSigner(){return ta(this,void 0,void 0,function*(){return this.getWalletClient()})}getBalance(){return ta(this,void 0,void 0,function*(){let[e]=yield this.getConnectedAccounts();if(!e)return;let t=yield this.getPublicClient(),r=yield null==t?void 0:t.getBalance({address:e});if(r||r===BigInt(0))return(0,C.d)(r)})}supportsNetworkSwitching(){return!0}switchNetwork(e){return ta(this,arguments,void 0,function*({networkName:e,networkChainId:t}){let r=ty({chainId:t,name:e,networks:this.evmNetworks});if(!r)throw new e1.kW(`Could not find network mapping for chain ${e||t}`);if(!this.supportsNetworkSwitching())throw new e1.kW("Network switching is not supported");let n=this.getWalletClient();if(!n)throw new e1.kW("Provider not found");return this.providerSwitchNetwork({network:r,provider:n})})}getConnectedAccounts(){return ta(this,void 0,void 0,function*(){let e=this.getWalletClient();if(!e)return[];let t=yield(0,e1.MB)(e.getAddresses,{fallbackValue:[],timeoutMs:300});return t.length&&this.setActiveAccount(t[0]),t})}providerSwitchNetwork(e){return ta(this,arguments,void 0,function*({network:e,provider:t}){var r,n,i,s;let{chainId:o}=e,a=yield this.getNetwork();if(!a||a!==o)try{if(!this.supportsNetworkSwitching())throw new e1.kW("Network switching is not supported");return yield t.switchChain((0,e1.uy)(e))}catch(o){if(4902===o.code||(null===(r=o.message)||void 0===r?void 0:r.includes("Unrecognized chain"))||(null===(i=null===(n=o.data)||void 0===n?void 0:n.orginalError)||void 0===i?void 0:i.code)===4902)return this.providerAddNetwork({network:e,provider:t});if((null===(s=o.message)||void 0===s?void 0:s.includes("rejected"))||"string"==typeof o&&o.includes("rejected"))throw new e1.kW("User rejected the wallet's request to switch network");throw o}})}providerAddNetwork(e){return ta(this,arguments,void 0,function*({network:e,provider:t}){var r;try{return yield t.addChain({chain:(0,e1.uy)(e)})}catch(e){if((null===(r=e.message)||void 0===r?void 0:r.includes("rejected"))||"string"==typeof e&&e.includes("rejected"))throw new e1.kW("User rejected the wallet's request to add network");throw e}})}setActiveAccount(e){this.activeAccount=e?(0,ep.A)(e):void 0}getActiveAccount(){return this.activeAccount}}var tb=r(68885),t_=r.n(tb),tw=r(23518),tE=r(67878),tS=r(24861),tI=r(67929),tk=r(89414);function tC(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function tO(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?tC(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function tx(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=tO(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return tC(r)}var tR=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var s=(e.length-t)*c+1>>>0,o=new Uint8Array(s);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var h=0,d=s-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=a*o[d]>>>0,o[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*l+1>>>0,c=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*c[f]>>>0,c[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");n=d,i++}for(var p=o-n;p!==o&&0===c[p];)p++;for(var g=u.repeat(r);p<o;++p)g+=e.charAt(c[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};new Uint8Array(0);let tA=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},tP=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},tD=e=>new TextEncoder().encode(e),tN=e=>new TextDecoder().decode(e);class tT{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tM{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return tj(this,e)}}class tL{constructor(e){this.decoders=e}or(e){return tj(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let tj=(e,t)=>new tL({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class tB{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new tT(e,t,r),this.decoder=new tM(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let tq=({name:e,prefix:t,encode:r,decode:n})=>new tB(e,t,r,n),tU=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=tR(r,t);return tq({prefix:e,name:t,encode:n,decode:e=>tP(i(e))})},tF=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,c=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);u=u<<r|s,(a+=r)>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw SyntaxError("Unexpected end of data");return o},t$=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},tH=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>tq({prefix:t,name:e,encode:e=>t$(e,n,r),decode:t=>tF(t,n,r,e)}),tz=tq({prefix:"\0",name:"identity",encode:e=>tN(e),decode:e=>tD(e)}),tV=tH({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),tW=tH({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),tK=tU({prefix:"9",name:"base10",alphabet:"0123456789"}),tG=tH({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tQ=tH({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),tJ=tH({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tZ=tH({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tY=tH({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tX=tH({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),t0=tH({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),t1=tH({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),t2=tH({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),t3=tH({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),t5=tH({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),t6=tU({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),t4=tU({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),t8=tU({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),t9=tU({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),t7=tH({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),re=tH({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rt=tH({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),rr=tH({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),rn=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),ri=rn.reduce((e,t,r)=>(e[r]=t,e),[]),rs=rn.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),ro=tq({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=ri[t],"")},decode:function(e){let t=[];for(let r of e){let e=rs[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var ra=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=2147483648;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},ru=function e(t,r){var n,i=0,r=r||0,s=0,o=r,a=t.length;do{if(o>=a)throw e.bytes=0,RangeError("Could not decode varint");n=t[o++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=o-r,i};let rc=(e,t=0)=>[ru(e,t),ru.bytes],rl=(e,t,r=0)=>(ra(e,t,r),t),rh=e=>e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10,rd=(e,t)=>{let r=t.byteLength,n=rh(e),i=n+rh(r),s=new Uint8Array(i+r);return rl(e,s,0),rl(r,s,n),s.set(t,i),new rg(e,r,t,s)},rf=e=>{let t=tP(e),[r,n]=rc(t),[i,s]=rc(t.subarray(n)),o=t.subarray(n+s);if(o.byteLength!==i)throw Error("Incorrect length");return new rg(r,i,o,t)},rp=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&tA(e.bytes,t.bytes);class rg{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let ry=({name:e,code:t,encode:r})=>new rv(e,t,r);class rv{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?rd(this.code,t):t.then(e=>rd(this.code,e))}throw Error("Unknown type, must be binary type")}}let rm=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),rb=ry({name:"sha2-256",code:18,encode:rm("SHA-256")}),r_=ry({name:"sha2-512",code:19,encode:rm("SHA-512")}),rw={code:0,name:"identity",encode:tP,digest:e=>rd(0,tP(e))},rE="raw",rS=85,rI=e=>tP(e),rk=e=>tP(e),rC=new TextEncoder,rO=new TextDecoder,rx="json",rR=512,rA=e=>rC.encode(JSON.stringify(e)),rP=e=>JSON.parse(rO.decode(e));class rD{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:rF,byteLength:rF,code:rU,version:rU,multihash:rU,bytes:rU,_baseCache:rF,asCID:rF})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==rL)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==rj)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return rD.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=rd(e,t);return rD.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&rp(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?rT(t,n,e||t8.encoder):rM(t,n,e||tJ.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return r$(/^0\.0/,rH),!!(e&&(e[rq]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof rD)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new rD(t,r,n,i||rB(t,r,n.bytes))}if(null==e||!0!==e[rq])return null;{let{version:t,multihash:r,code:n}=e,i=rf(r);return rD.create(t,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===rL)return new rD(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${rL}) block encoding`);case 1:{let n=rB(e,t,r.bytes);return new rD(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return rD.create(0,rL,e)}static createV1(e,t){return rD.create(1,e,t)}static decode(e){let[t,r]=rD.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=rD.inspectBytes(e),r=t.size-t.multihashSize,n=tP(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),s=new rg(t.multihashCode,t.digestSize,i,n);return[0===t.version?rD.createV0(s):rD.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=rc(e.subarray(t));return t+=n,r},n=r(),i=rL;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let s=t,o=r(),a=r(),u=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:u-s,size:u}}static parse(e,t){let[r,n]=rN(e,t),i=rD.decode(n);return i._baseCache.set(r,e),i}}let rN=(e,t)=>{switch(e[0]){case"Q":return[t8.prefix,(t||t8).decode(`${t8.prefix}${e}`)];case t8.prefix:return[t8.prefix,(t||t8).decode(e)];case tJ.prefix:return[tJ.prefix,(t||tJ).decode(e)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},rT=(e,t,r)=>{let{prefix:n}=r;if(n!==t8.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},rM=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},rL=112,rj=18,rB=(e,t,r)=>{let n=rh(e),i=n+rh(t),s=new Uint8Array(i+r.byteLength);return rl(e,s,0),rl(t,s,n),s.set(r,i),s},rq=Symbol.for("@ipld/js-cid/CID"),rU={writable:!1,configurable:!1,enumerable:!0},rF={writable:!1,enumerable:!1,configurable:!1},r$=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},rH=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,rz={...u,...c,...l,...h,...d,...f,...p,...g,...y,...v};function rV(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...m,...b});let rW=rV("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),rK=rV("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=tO((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),rG={utf8:rW,"utf-8":rW,hex:rz.base16,latin1:rK,ascii:rK,binary:rK,...rz};function rQ(e,t="utf8"){let r=rG[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?tC(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function rJ(e,t="utf8"){let r=rG[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var rZ=r(25566),rY=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},rX=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},r0=function(e){this.version=e,this.type="node",this.name="node",this.os=rZ.platform},r1=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},r2=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},r3=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},r5=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,r6=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],r4=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]],r8=r(54574),r9=r(25527),r7=r(70053),ne=r(61179);r(10296);let nt={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var nr=r(25566);function nn(e,t){return e.includes(":")?[e]:t.chains||[]}let ni="base10",ns="base16",no="base64pad",na="utf8";function nu(){return rJ((0,tS.randomBytes)(32),ns)}function nc(e){return rJ((0,tI.vp)(rQ(e,na)),ns)}function nl(e){return Number(rJ(e,ni))}function nh(e){let t=rQ(e,no),r=t.slice(0,1);if(1===nl(r)){let e=t.slice(1,33),n=t.slice(33,45);return{type:r,sealed:t.slice(45),iv:n,senderPublicKey:e}}let n=t.slice(1,13);return{type:r,sealed:t.slice(13),iv:n}}function nd(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function nf(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var np=Object.defineProperty,ng=Object.getOwnPropertySymbols,ny=Object.prototype.hasOwnProperty,nv=Object.prototype.propertyIsEnumerable,nm=(e,t,r)=>t in e?np(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nb=(e,t)=>{for(var r in t||(t={}))ny.call(t,r)&&nm(e,r,t[r]);if(ng)for(var r of ng(t))nv.call(t,r)&&nm(e,r,t[r]);return e};let n_={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function nw(){return"u">typeof nr&&"u">typeof nr.versions&&"u">typeof nr.versions.node}function nE(){return!(0,r9.getDocument)()&&!!(0,r9.getNavigator)()&&"ReactNative"===navigator.product}function nS(){return!nw()&&!!(0,r9.getNavigator)()&&!!(0,r9.getDocument)()}function nI(){return nE()?n_.reactNative:nw()?n_.node:nS()?n_.browser:n_.unknown}function nk(e,t){return e.filter(e=>t.includes(e)).length===e.length}function nC(e){return Object.fromEntries(e.entries())}function nO(e){return new Map(Object.entries(e))}function nx(e=r8.FIVE_MINUTES,t){let r,n,i;let s=(0,r8.toMiliseconds)(e||r8.FIVE_MINUTES);return{resolve:e=>{i&&r&&(clearTimeout(i),r(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise((e,o)=>{i=setTimeout(()=>{o(Error(t))},s),r=e,n=o})}}function nR(e,t,r){return new Promise(async(n,i)=>{let s=setTimeout(()=>i(Error(r)),t);try{let t=await e;n(t)}catch(e){i(e)}clearTimeout(s)})}function nA(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function nP(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function nD(e,t){return(0,r8.fromMiliseconds)((t||Date.now())+(0,r8.toMiliseconds)(e))}function nN(e){return Date.now()>=(0,r8.toMiliseconds)(e)}function nT(e,t){return`${e}${t?`:${t}`:""}`}function nM(e=[],t=[]){return[...new Set([...e,...t])]}async function nL({id:e,topic:t,wcDeepLink:n}){try{if(!n)return;let i="string"==typeof n?JSON.parse(n):n,s=i?.href;if("string"!=typeof s)return;s.endsWith("/")&&(s=s.slice(0,-1));let o=`${s}/wc?requestId=${e}&sessionTopic=${t}`,a=nI();a===n_.browser?o.startsWith("https://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,"_self","noreferrer noopener"):a===n_.reactNative&&"u">typeof(null==r.g?void 0:r.g.Linking)&&await r.g.Linking.openURL(o)}catch(e){console.error(e)}}async function nj(e,t){try{return await e.getItem(t)||(nS()?localStorage.getItem(t):void 0)}catch(e){console.error(e)}}function nB(e){return e?.relay||{protocol:"irn"}}function nq(e){let t=nt[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}var nU=Object.defineProperty,nF=Object.defineProperties,n$=Object.getOwnPropertyDescriptors,nH=Object.getOwnPropertySymbols,nz=Object.prototype.hasOwnProperty,nV=Object.prototype.propertyIsEnumerable,nW=(e,t,r)=>t in e?nU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nK=(e,t)=>{for(var r in t||(t={}))nz.call(t,r)&&nW(e,r,t[r]);if(nH)for(var r of nH(t))nV.call(t,r)&&nW(e,r,t[r]);return e},nG=(e,t)=>nF(e,n$(t));function nQ(e){var t;let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,r),s=e.substring(r+1,n).split("@"),o="u">typeof n?e.substring(n):"",a=ne.parse(o);return{protocol:i,topic:(t=s[0]).startsWith("//")?t.substring(2):t,version:parseInt(s[1],10),symKey:a.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),s=e[t];r[i]=s}}),r}(a),expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function nJ(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t}function nZ(e){return e.includes(":")}function nY(e){return nZ(e)?e.split(":")[0]:e}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let nX={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},n0={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function n1(e,t){let{message:r,code:n}=n0[e];return{message:t?`${r} ${t}`:r,code:n}}function n2(e,t){let{message:r,code:n}=nX[e];return{message:t?`${r} ${t}`:r,code:n}}function n3(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function n5(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function n6(e){return typeof e>"u"}function n4(e,t){return!!(t&&n6(e))||"string"==typeof e&&!!e.trim().length}function n8(e,t){return!!(t&&n6(e))||"number"==typeof e&&!isNaN(e)}function n9(e){return!!(n4(e,!1)&&e.includes(":"))&&2===e.split(":").length}function n7(e){let t=!0;return n3(e)?e.length&&(t=e.every(e=>n4(e,!1))):t=!1,t}function ie(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let s=(n=`${t}, namespace`,i=null,n7(e?.methods)?n7(e?.events)||(i=n2("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):i=n2("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),i);s&&(r=s)}),r}function it(e,t){let r=null;if(e&&n5(e)){let n;let i=ie(e,t);i&&(r=i);let s=(n=null,Object.values(e).forEach(e=>{var r,i;let s;if(n)return;let o=(r=e?.accounts,i=`${t} namespace`,s=null,n3(r)?r.forEach(e=>{s||function(e){if(n4(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&n9(e)}}return!1}(e)||(s=n2("UNSUPPORTED_ACCOUNTS",`${i}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):s=n2("UNSUPPORTED_ACCOUNTS",`${i}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),s);o&&(n=o)}),n);s&&(r=s)}else r=n1("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function ir(e){return n4(e.protocol,!0)}function ii(e){return"u">typeof e}function is(e,t){return!(!n9(t)||!(function(e){let t=[];return Object.values(e).forEach(e=>{t.push(...nJ(e.accounts))}),t})(e).includes(t))}function io(e,t,r){let n=null,i=function(e){let t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}(e),s=function(e){let t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{let n=nJ(e[r].accounts);n?.forEach(n=>{t[n]={accounts:e[r].accounts.filter(e=>e.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}}),t}(t),o=Object.keys(i),a=Object.keys(s),u=ia(Object.keys(e)),c=ia(Object.keys(t)),l=u.filter(e=>!c.includes(e));return l.length&&(n=n1("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(t).toString()}`)),nk(o,a)||(n=n1("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||n)return;let i=nJ(t[e].accounts);i.includes(e)||(n=n1("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${i.toString()}`))}),o.forEach(e=>{n||(nk(i[e].methods,s[e].methods)?nk(i[e].events,s[e].events)||(n=n1("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):n=n1("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),n}function ia(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function iu(){let e=nI();return new Promise(t=>{switch(e){case n_.browser:t(nS()&&navigator?.onLine);break;case n_.reactNative:t(ic());break;case n_.node:default:t(!0)}})}async function ic(){if(nE()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo){let e=await (null==r.g?void 0:r.g.NetInfo.fetch());return e?.isConnected}return!0}let il={};class ih{static get(e){return il[e]}static set(e,t){il[e]=t}static delete(e){delete il[e]}}let id=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ip=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ig=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function iy(e,t){if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`);return}return t}function iv(e,t={}){if("string"!=typeof e)return e;let r=e.trim();if('"'===e[0]&&'"'===e.at(-1)&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){let e=r.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("undefined"===e)return;if("null"===e)return null;if("nan"===e)return Number.NaN;if("infinity"===e)return Number.POSITIVE_INFINITY;if("-infinity"===e)return Number.NEGATIVE_INFINITY}if(!ig.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(id.test(e)||ip.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,iy)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}var im=r(9109).Buffer;function ib(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function i_(e){if(function(e){let t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return i_(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let iw="base64:";function iE(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function iS(e){return(e=iE(e))?e+":":""}let iI=()=>{let e=new Map;return{name:"memory",options:{},hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>Array.from(e.keys()),clear(){e.clear()},dispose(){e.clear()}}};function ik(e,t,r){return e.watch?e.watch((e,n)=>t(e,r+n)):()=>{}}async function iC(e){"function"==typeof e.dispose&&await ib(e.dispose)}function iO(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function ix(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=iO(r);return(e,r)=>n.then(n=>r(n.transaction(t,e).objectStore(t)))}function iR(){return n||(n=ix("keyval-store","keyval")),n}function iA(e,t=iR()){return t("readonly",t=>iO(t.get(e)))}let iP=e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t),iD=e=>JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t);function iN(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return iD(e)}catch(t){return e}}function iT(e){return"string"==typeof e?e:iP(e)||""}var iM=(e={})=>{let t;let r=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>r+e;return e.dbName&&e.storeName&&(t=ix(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await iA(n(e),t)>"u"),getItem:async e=>await iA(n(e),t)??null,setItem:(e,r)=>(function(e,t,r=iR()){return r("readwrite",r=>(r.put(t,e),iO(r.transaction)))})(n(e),r,t),removeItem:e=>(function(e,t=iR()){return t("readwrite",t=>(t.delete(e),iO(t.transaction)))})(n(e),t),getKeys:()=>(function(e=iR()){return e("readonly",e=>{var t;if(e.getAllKeys)return iO(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},iO(e.transaction)).then(()=>r)})})(t),clear:()=>(function(e=iR()){return e("readwrite",e=>(e.clear(),iO(e.transaction)))})(t)}};class iL{constructor(){this.indexedDb=function(e={}){let t={mounts:{"":e.driver||iI()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(let r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},n=(e,r)=>t.mountpoints.filter(t=>t.startsWith(e)||r&&e.startsWith(t)).map(r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]})),i=(e,r)=>{if(t.watching)for(let n of(r=iE(r),t.watchListeners))n(e,r)},s=async()=>{if(!t.watching)for(let e in t.watching=!0,t.mounts)t.unwatch[e]=await ik(t.mounts[e],i,e)},o=async()=>{if(t.watching){for(let e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},a=(e,t,n)=>{let i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(let n of e){let e="string"==typeof n,i=iE(e?n:n.key),o=e?void 0:n.value,a=e||!n.options?t:{...t,...n.options},u=r(i);s(u).items.push({key:i,value:o,relativeKey:u.relativeKey,options:a})}return Promise.all([...i.values()].map(e=>n(e))).then(e=>e.flat())},u={hasItem(e,t={}){let{relativeKey:n,driver:i}=r(e=iE(e));return ib(i.hasItem,n,t)},getItem(e,t={}){let{relativeKey:n,driver:i}=r(e=iE(e));return ib(i.getItem,n,t).then(e=>iv(e))},getItems:(e,t)=>a(e,t,e=>e.driver.getItems?ib(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return iE(e.join(":"))}(e.base,t.key),value:iv(t.value)}))):Promise.all(e.items.map(t=>ib(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:iv(e)}))))),getItemRaw(e,t={}){let{relativeKey:n,driver:i}=r(e=iE(e));return i.getItemRaw?ib(i.getItemRaw,n,t):ib(i.getItem,n,t).then(e=>"string"==typeof e&&e.startsWith(iw)?im.from(e.slice(iw.length),"base64"):e)},async setItem(e,t,n={}){if(void 0===t)return u.removeItem(e);let{relativeKey:s,driver:o}=r(e=iE(e));o.setItem&&(await ib(o.setItem,s,i_(t),n),o.watch||i("update",e))},async setItems(e,t){await a(e,t,async e=>{e.driver.setItems&&await ib(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:i_(e.value),options:e.options})),t),e.driver.setItem&&await Promise.all(e.items.map(t=>ib(e.driver.setItem,t.relativeKey,i_(t.value),t.options)))})},async setItemRaw(e,t,n={}){if(void 0===t)return u.removeItem(e,n);let{relativeKey:s,driver:o}=r(e=iE(e));if(o.setItemRaw)await ib(o.setItemRaw,s,t,n);else{if(!o.setItem)return;await ib(o.setItem,s,"string"==typeof t?t:iw+im.from(t).toString("base64"),n)}o.watch||i("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:n,driver:s}=r(e=iE(e));s.removeItem&&(await ib(s.removeItem,n,t),(t.removeMeta||t.removeMata)&&await ib(s.removeItem,n+"$",t),s.watch||i("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:n,driver:i}=r(e=iE(e)),s=Object.create(null);if(i.getMeta&&Object.assign(s,await ib(i.getMeta,n,t)),!t.nativeOnly){let e=await ib(i.getItem,n+"$",t).then(e=>iv(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=n(e=iS(e),!0),i=[],s=[];for(let e of r){let r=(await ib(e.driver.getKeys,e.relativeBase,t)).map(t=>e.mountpoint+iE(t)).filter(e=>!i.some(t=>e.startsWith(t)));s.push(...r),i=[e.mountpoint,...i.filter(t=>!t.startsWith(e.mountpoint))]}return e?s.filter(t=>t.startsWith(e)&&!t.endsWith("$")):s.filter(e=>!e.endsWith("$"))},async clear(e,t={}){e=iS(e),await Promise.all(n(e,!1).map(async e=>e.driver.clear?ib(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>iC(e)))},watch:async e=>(await s(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await o()}),async unwatch(){t.watchListeners=[],await o()},mount(e,r){if((e=iS(e))&&t.mounts[e])throw Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=r,t.watching&&Promise.resolve(ik(r,i,e)).then(r=>{t.unwatch[e]=r}).catch(console.error),u},async unmount(e,r=!0){(e=iS(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e](),delete t.unwatch[e]),r&&await iC(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){let t=r(e=iE(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>n(e=iE(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint}))};return u}({driver:iM({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,iT(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var ij="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},iB={exports:{}};function iq(e){var t;return[e[0],iN(null!=(t=e[1])?t:"")]}!function(){function e(){}e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof ij&&ij.localStorage?iB.exports=ij.localStorage:"u">typeof window&&window.localStorage?iB.exports=window.localStorage:iB.exports=new e}();class iU{constructor(){this.localStorage=iB.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(iq)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return iN(t)}async setItem(e,t){this.localStorage.setItem(e,iT(t))}async removeItem(e){this.localStorage.removeItem(e)}}let iF=async(e,t,r)=>{let n="wc_storage_version",i=await t.getItem(n);if(i&&i>=1){r(t);return}let s=await e.getKeys();if(!s.length){r(t);return}let o=[];for(;s.length;){let r=s.shift();if(!r)continue;let n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){let n=await e.getItem(r);await t.setItem(r,n),o.push(r)}}await t.setItem(n,1),r(t),i$(e,o)},i$=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class iH{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};let e=new iU;this.storage=e;try{let t=new iL;iF(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}var iz=r(83515),iV=r(19777),iW=r(5942);class iK extends iW.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class iG extends iW.q{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class iQ{constructor(e,t){this.logger=e,this.core=t}}class iJ extends iW.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class iZ extends iW.q{constructor(e){super()}}class iY{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class iX extends iW.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class i0 extends iW.q{constructor(e,t){super(),this.core=e,this.logger=t}}class i1{constructor(e,t){this.projectId=e,this.logger=t}}class i2{constructor(e,t){this.projectId=e,this.logger=t}}class i3{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class i5{constructor(e){this.client=e}}var i6=r(59271);let i4="base64url",i8="base58btc";function i9(e){return rJ(rQ(iT(e),"utf8"),i4)}function i7(e){return["did","key","z"+rJ(tx([rQ("K36",i8),e]),i8)].join(":")}function se(e=(0,tS.randomBytes)(32)){return i6._w(e)}async function st(e,t,r,n,i=(0,r8.fromMiliseconds)(Date.now())){var s,o;let a={alg:"EdDSA",typ:"JWT"},u={iss:i7(n.publicKey),sub:e,aud:t,iat:i,exp:i+r},c=rQ([i9((s={header:a,payload:u}).header),i9(s.payload)].join("."),"utf8");return[i9((o={header:a,payload:u,signature:i6.Xx(n.secretKey,c)}).header),i9(o.payload),rJ(o.signature,i4)].join(".")}r(77726);let sr="INTERNAL_ERROR",sn="SERVER_ERROR",si=[-32700,-32600,-32601,-32602,-32603],ss={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[sr]:{code:-32603,message:"Internal error"},[sn]:{code:-32e3,message:"Server error"}};function so(e){return Object.keys(ss).includes(e)?ss[e]:ss[sn]}function sa(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}var su=r(60092);function sc(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function sl(e=6){return BigInt(sc(e))}function sh(e,t,r){return{id:r||sc(),jsonrpc:"2.0",method:e,params:t}}function sd(e,t){return{id:e,jsonrpc:"2.0",result:t}}function sf(e,t,r){var n,i,s;return{id:e,jsonrpc:"2.0",error:void 0===(n=t)?so(sr):("string"==typeof n&&(n=Object.assign(Object.assign({},so(sn)),{message:n})),void 0!==r&&(n.data=r),i=n.code,si.includes(i)&&(s=n.code,n=Object.values(ss).find(e=>e.code===s)||ss[sn]),n)}}class sp{}class sg extends sp{constructor(){super()}}class sy extends sg{constructor(e){super()}}function sv(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function sm(e){return sv(e,"^https?:")}function sb(e){return sv(e,"^wss?:")}function s_(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function sw(e){return s_(e)&&"method"in e}function sE(e){return s_(e)&&(sS(e)||sI(e))}function sS(e){return"result"in e}function sI(e){return"error"in e}class sk extends sy{constructor(e){super(e),this.events=new tb.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(sh(e.method,e.params||[],e.id||sl().toString()),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,e=>{sI(e)?n(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){n(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),sE(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}let sC=()=>"u">typeof WebSocket||"u">typeof r.g&&"u">typeof r.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket,sO=e=>e.split("?")[0],sx="u">typeof WebSocket?WebSocket:"u">typeof r.g&&"u">typeof r.g.WebSocket?r.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:r(27185);class sR{constructor(e){if(this.url=e,this.events=new tb.EventEmitter,this.registering=!1,!sb(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(Error("Connection already closed"));return}this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(iT(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!sb(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{let n=new URLSearchParams(e).get("origin"),i=(0,su.isReactNative)()?{headers:{origin:n}}:{rejectUnauthorized:!RegExp("wss?://localhost(:d{2,5})?").test(e)},s=new sx(e,[],i);sC()?s.onerror=e=>{r(this.emitError(e.error))}:s.on("error",e=>{r(this.emitError(e))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?iN(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=sf(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e,t=this.url){return sa(e,sO(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${sO(this.url)}`));return this.events.emit("register_error",t),t}}var sA=r(8355),sP=r.n(sA),sD=r(37185),sN=r.n(sD),sT=r(25566),sM=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var s=(e.length-t)*c+1>>>0,o=new Uint8Array(s);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var h=0,d=s-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=a*o[d]>>>0,o[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*l+1>>>0,c=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*c[f]>>>0,c[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");n=d,i++}for(var p=o-n;p!==o&&0===c[p];)p++;for(var g=u.repeat(r);p<o;++p)g+=e.charAt(c[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};let sL=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},sj=e=>new TextEncoder().encode(e),sB=e=>new TextDecoder().decode(e);class sq{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class sU{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return s$(this,e)}}class sF{constructor(e){this.decoders=e}or(e){return s$(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let s$=(e,t)=>new sF({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class sH{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new sq(e,t,r),this.decoder=new sU(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let sz=({name:e,prefix:t,encode:r,decode:n})=>new sH(e,t,r,n),sV=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=sM(r,t);return sz({prefix:e,name:t,encode:n,decode:e=>sL(i(e))})},sW=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,c=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);u=u<<r|s,(a+=r)>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw SyntaxError("Unexpected end of data");return o},sK=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},sG=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>sz({prefix:t,name:e,encode:e=>sK(e,n,r),decode:t=>sW(t,n,r,e)});var sQ=Object.freeze({__proto__:null,identity:sz({prefix:"\0",name:"identity",encode:e=>sB(e),decode:e=>sj(e)})}),sJ=Object.freeze({__proto__:null,base2:sG({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),sZ=Object.freeze({__proto__:null,base8:sG({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),sY=Object.freeze({__proto__:null,base10:sV({prefix:"9",name:"base10",alphabet:"0123456789"})}),sX=Object.freeze({__proto__:null,base16:sG({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:sG({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let s0=sG({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s1=sG({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s2=sG({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),s3=sG({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),s5=sG({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),s6=sG({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var s4=Object.freeze({__proto__:null,base32:s0,base32upper:s1,base32pad:s2,base32padupper:s3,base32hex:s5,base32hexupper:s6,base32hexpad:sG({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:sG({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:sG({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),s8=Object.freeze({__proto__:null,base36:sV({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:sV({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),s9=Object.freeze({__proto__:null,base58btc:sV({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:sV({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let s7=sG({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var oe=Object.freeze({__proto__:null,base64:s7,base64pad:sG({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:sG({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:sG({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let ot=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),or=ot.reduce((e,t,r)=>(e[r]=t,e),[]),on=ot.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var oi=Object.freeze({__proto__:null,base256emoji:sz({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=or[t],"")},decode:function(e){let t=[];for(let r of e){let e=on[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function os(e,t){var r,n=0,t=t||0,i=0,s=t,o=e.length;do{if(s>=o)throw os.bytes=0,RangeError("Could not decode varint");r=e[s++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return os.bytes=s-t,n}var oo=function e(t,r,n){r=r||[],n=n||0;for(var i=n;t>=2147483648;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r};let oa=(e,t,r=0)=>(oo(e,t,r),t),ou=e=>e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10,oc=(e,t)=>{let r=t.byteLength,n=ou(e),i=n+ou(r),s=new Uint8Array(i+r);return oa(e,s,0),oa(r,s,n),s.set(t,i),new ol(e,r,t,s)};class ol{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let oh=({name:e,code:t,encode:r})=>new od(e,t,r);class od{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?oc(this.code,t):t.then(e=>oc(this.code,e))}throw Error("Unknown type, must be binary type")}}let of=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var op=Object.freeze({__proto__:null,sha256:oh({name:"sha2-256",code:18,encode:of("SHA-256")}),sha512:oh({name:"sha2-512",code:19,encode:of("SHA-512")})}),og=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:sL,digest:e=>oc(0,sL(e))}});new TextEncoder,new TextDecoder;let oy={...sQ,...sJ,...sZ,...sY,...sX,...s4,...s8,...s9,...oe,...oi};function ov(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function om(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...op,...og});let ob=om("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),o_=om("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?ov(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),ow={utf8:ob,"utf-8":ob,hex:oy.base16,latin1:o_,ascii:o_,binary:o_,...oy},oE="core",oS=`wc@2:${oE}:`,oI={logger:"error"},ok={database:":memory:"},oC="client_ed25519_seed",oO=r8.ONE_DAY,ox=r8.SIX_HOURS,oR="wss://relay.walletconnect.com",oA="wss://relay.walletconnect.org",oP={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",publish:"relayer_publish"},oD={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},oN=r8.ONE_SECOND,oT={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},oM=1e3*r8.FIVE_SECONDS,oL={wc_pairingDelete:{req:{ttl:r8.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:r8.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:r8.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:r8.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:r8.ONE_DAY,prompt:!1,tag:0},res:{ttl:r8.ONE_DAY,prompt:!1,tag:0}}},oj={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},oB={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},oq={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},oU="verify-api",oF="https://verify.walletconnect.com",o$="https://verify.walletconnect.org",oH=[oF,o$];class oz{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=oS,this.init=async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=n1("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=(0,iV.generateChildLogger)(t,this.name)}get context(){return(0,iV.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,nC(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?nO(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=n1("NOT_INITIALIZED",this.name);throw Error(e)}}}class oV{constructor(e,t,r){this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>(this.isInitialized(),i7(se(await this.getClientSeed()).publicKey)),this.generateKeyPair=()=>{this.isInitialized();let e=function(){let e=tk.Au();return{privateKey:rJ(e.secretKey,ns),publicKey:rJ(e.publicKey,ns)}}();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();let t=se(await this.getClientSeed()),r=nu();return await st(r,e,oO,t)},this.generateSharedKey=(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=tk.gi(rQ(e,ns),rQ(t,ns),!0);return rJ(new tE.t(tI.mE,r).expand(32),ns)}(this.getPrivateKey(e),t);return this.setSymKey(n,r)},this.setSymKey=async(e,t)=>{this.isInitialized();let r=t||rJ((0,tI.vp)(rQ(e,ns)),ns);return await this.keychain.set(r,e),r},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,r)=>{this.isInitialized();let n=nd(r),i=iT(t);if(nf(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let s=this.getSymKey(e),{type:o,senderPublicKey:a}=n;return function(e){var t;let r=(t="u">typeof e.type?e.type:0,rQ(`${t}`,ni));if(1===nl(r)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let n="u">typeof e.senderPublicKey?rQ(e.senderPublicKey,ns):void 0,i="u">typeof e.iv?rQ(e.iv,ns):(0,tS.randomBytes)(12);return function(e){if(1===nl(e.type)){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return rJ(tx([e.type,e.senderPublicKey,e.iv,e.sealed]),no)}return rJ(tx([e.type,e.iv,e.sealed]),no)}({type:r,sealed:new tw.OK(rQ(e.symKey,ns)).seal(i,rQ(e.message,na)),iv:i,senderPublicKey:n})}({type:o,symKey:s,message:i,senderPublicKey:a})},this.decode=async(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=nh(e);return nd({type:nl(r.type),senderPublicKey:"u">typeof r.senderPublicKey?rJ(r.senderPublicKey,ns):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,r);if(nf(n)){let t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let r=this.getSymKey(e),n=function(e){let t=new tw.OK(rQ(e.symKey,ns)),{sealed:r,iv:n}=nh(e.encoded),i=t.open(n,r);if(null===i)throw Error("Failed to decrypt");return rJ(i,na)}({symKey:r,encoded:t});return iN(n)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}},this.getPayloadType=e=>nl(nh(e).type),this.getPayloadSenderPublicKey=e=>{let t=nh(e);return t.senderPublicKey?rJ(t.senderPublicKey,ns):void 0},this.core=e,this.logger=(0,iV.generateChildLogger)(t,this.name),this.keychain=r||new oz(this.core,this.logger)}get context(){return(0,iV.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(oC)}catch{e=nu(),await this.keychain.set(oC,e)}return function(e,t="utf8"){let r=ow[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?ov(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=n1("NOT_INITIALIZED",this.name);throw Error(e)}}}class oW extends iQ{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=oS,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();let r=nc(t),n=this.messages.get(e);return typeof n>"u"&&(n={}),"u">typeof n[r]||(n[r]=t,this.messages.set(e,n),await this.persist()),r},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[nc(t)]),this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=(0,iV.generateChildLogger)(e,this.name),this.core=t}get context(){return(0,iV.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,nC(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?nO(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=n1("NOT_INITIALIZED",this.name);throw Error(e)}}}class oK extends iJ{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new tb.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,r8.toMiliseconds)(2*r8.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(e,t,r)=>{var n;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});try{let i=r?.ttl||ox,s=nB(r),o=r?.prompt||!1,a=r?.tag||0,u=r?.id||sl().toString(),c={topic:e,message:t,opts:{ttl:i,relay:s,prompt:o,tag:a,id:u}},l=setTimeout(()=>this.queue.set(u,c),this.publishTimeout);try{await await nR(this.rpcPublish(e,t,i,s,o,a,u),this.publishTimeout,`Failed to publish payload, please try again. id:${u} tag:${a}`),this.removeRequestFromQueue(u),this.relayer.events.emit(oP.publish,c)}catch(e){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,null!=(n=r?.internal)&&n.throwOnFailedPublish)throw this.removeRequestFromQueue(u),e;return}finally{clearTimeout(l)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(e),e}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=(0,iV.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return(0,iV.getLoggerContext)(this.logger)}rpcPublish(e,t,r,n,i,s,o){var a,u,c,l;let h={method:nq(n.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:i,tag:s},id:o};return n6(null==(a=h.params)?void 0:a.prompt)&&(null==(u=h.params)||delete u.prompt),n6(null==(c=h.params)?void 0:c.tag)&&(null==(l=h.params)||delete l.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:h}),this.relayer.request(h)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:r,opts:n}=e;await this.publish(t,r,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(iz.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(oP.connection_stalled);return}this.checkQueue()}),this.relayer.on(oP.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class oG{constructor(){this.map=new Map,this.set=(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var oQ=Object.defineProperty,oJ=Object.defineProperties,oZ=Object.getOwnPropertyDescriptors,oY=Object.getOwnPropertySymbols,oX=Object.prototype.hasOwnProperty,o0=Object.prototype.propertyIsEnumerable,o1=(e,t,r)=>t in e?oQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o2=(e,t)=>{for(var r in t||(t={}))oX.call(t,r)&&o1(e,r,t[r]);if(oY)for(var r of oY(t))o0.call(t,r)&&o1(e,r,t[r]);return e},o3=(e,t)=>oJ(e,oZ(t));class o5 extends iX{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new oG,this.events=new tb.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=oS,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let r=nB(t),n={topic:e,relay:r};this.pending.set(e,n);let i=await this.rpcSubscribe(e,r);return this.onSubscribe(i,n),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}}),i}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>{if(this.topics.includes(e))return!0;let t=`${this.pendingSubscriptionWatchLabel}_${e}`;return await new Promise((r,n)=>{let i=new r8.Watch;i.start(t);let s=setInterval(()=>{!this.pending.has(e)&&this.topics.includes(e)&&(clearInterval(s),i.stop(t),r(!0)),i.elapsed(t)>=oM&&(clearInterval(s),i.stop(t),n(Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=(0,iV.generateChildLogger)(t,this.name),this.clientId=""}get context(){return(0,iV.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=nB(r);await this.rpcUnsubscribe(e,t,n);let i=n2("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t){let r={method:nq(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await nR(this.relayer.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(oP.connection_stalled)}return nc(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;let t={method:nq(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{return await await nR(this.relayer.request(t),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(oP.connection_stalled)}}rpcUnsubscribe(e,t,r){let n={method:nq(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,o3(o2({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,o2({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,o2({},t)),this.topicMap.set(t.topic,e),this.events.emit(oT.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=n1("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(oT.deleted,o3(o2({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(oT.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){let e=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(e)}}this.events.emit(oT.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:e}=n1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let t=await this.rpcBatchSubscribe(e);n3(t)&&this.onBatchSubscribe(t.map((t,r)=>o3(o2({},e[r]),{id:t})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(iz.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(oP.connect,async()=>{await this.onConnect()}),this.relayer.on(oP.disconnect,()=>{this.onDisconnect()}),this.events.on(oT.created,async e=>{let t=oT.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(oT.deleted,async e=>{let t=oT.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=n1("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var o6=Object.defineProperty,o4=Object.getOwnPropertySymbols,o8=Object.prototype.hasOwnProperty,o9=Object.prototype.propertyIsEnumerable,o7=(e,t,r)=>t in e?o6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ae=(e,t)=>{for(var r in t||(t={}))o8.call(t,r)&&o7(e,r,t[r]);if(o4)for(var r of o4(t))o9.call(t,r)&&o7(e,r,t[r]);return e};class at extends iZ{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new tb.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async e=>{this.logger.debug("Publishing Request Payload");let t=e.id;try{await this.toEstablishConnection();let r=this.provider.request(e);return this.requestsInFlight.set(t,{promise:r,request:e}),await r}catch(e){throw this.logger.debug("Failed to Publish Request"),this.logger.error(e),e}finally{this.requestsInFlight.delete(t)}},this.onPayloadHandler=e=>{this.onProviderPayload(e)},this.onConnectHandler=()=>{this.events.emit(oP.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=e=>{this.logger.error(e),this.events.emit(oP.error,e),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(oD.payload,this.onPayloadHandler),this.provider.on(oD.connect,this.onConnectHandler),this.provider.on(oD.disconnect,this.onDisconnectHandler),this.provider.on(oD.error,this.onProviderErrorHandler)},this.core=e.core,this.logger="u">typeof e.logger&&"string"!=typeof e.logger?(0,iV.generateChildLogger)(e.logger,this.name):(0,iV.pino)((0,iV.getDefaultLoggerOptions)({level:e.logger||"error"})),this.messages=new oW(this.logger,e.core),this.subscriber=new o5(this,this.logger),this.publisher=new oK(this,this.logger),this.relayUrl=e?.relayUrl||oR,this.projectId=e.projectId,this.bundleId=function(){var e;try{return nE()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Application)?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch{return}}(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${oA}...`),await this.restartTransport(oA)}this.initialized=!0,setTimeout(async()=>{0===this.subscriber.topics.length&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},1e4)}get context(){return(0,iV.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var r;let n;this.isInitialized();let i=(null==(r=this.subscriber.topicMap.get(e))?void 0:r[0])||"";if(i)return i;let s=t=>{t.topic===e&&(this.subscriber.off(oT.created,s),n())};return await Promise.all([new Promise(e=>{n=e,this.subscriber.on(oT.created,s)}),new Promise(async r=>{i=await this.subscriber.subscribe(e,t),r()})]),i}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async e=>{await e.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await nR(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(e=>{if(!this.initialized)return e();this.subscriber.once(oT.resubscribed,()=>{e()})}),new Promise(async(e,t)=>{try{await nR(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(e){t(e);return}e()})])}catch(e){if(this.logger.error(e),!this.isConnectionStalled(e.message))throw e;this.provider.events.emit(oD.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await iu())throw Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new sk(new sR(function({protocol:e,version:t,relayUrl:n,sdkVersion:i,auth:s,projectId:o,useOnCloseEvent:a,bundleId:u}){var c,l;let h;let d=n.split("?"),f=function(e,t,n){let i=function(){if(nI()===n_.reactNative&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)){let{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}let e="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new r3:"undefined"!=typeof navigator?function(e){var t=""!==e&&r6.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var s=i.exec(e);return!!s&&[n,s]},!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new r2;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=rY(rY([],i,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-i.length),!0)):i=[];var s=i.join("."),o=function(e){for(var t=0,r=r4.length;t<r;t++){var n=r4[t],i=n[0];if(n[1].exec(e))return i}return null}(e),a=r5.exec(e);return a&&a[1]?new r1(r,s,o,a[1]):new rX(r,s,o)}(navigator.userAgent):void 0!==rZ&&rZ.version?new r0(rZ.version.slice(1)):null;if(null===e)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;let t=nI();return t===n_.browser?[t,(null==(e=(0,r9.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",n].join("-"),i,s].join("/")}(e,t,i),p=(c=d[1]||"",l={auth:s,ua:f,projectId:o,useOnCloseEvent:a||void 0,origin:u||void 0},h=nb(nb({},h=ne.parse(c)),l),c=ne.stringify(h));return d[0]+"?"+p}({sdkVersion:"2.11.2",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:t,message:r}=e;await this.messages.set(t,r)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;let n=this.messages.has(t,r);return n&&this.logger.debug(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),sw(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n,publishedAt:i}=t.data,s={topic:r,message:n,publishedAt:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(ae({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}else sE(e)&&this.events.emit(oP.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(oP.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=sd(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(oD.payload,this.onPayloadHandler),this.provider.off(oD.connect,this.onConnectHandler),this.provider.off(oD.disconnect,this.onDisconnectHandler),this.provider.off(oD.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(oP.connection_stalled,()=>{this.restartTransport().catch(e=>this.logger.error(e))});let e=await iu();!function(e){switch(nI()){case n_.browser:!nE()&&nS()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)));break;case n_.reactNative:nE()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener(t=>e(t?.isConnected));case n_.node:}}(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(e=>this.logger.error(e)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(e=>this.logger.error(e))))})}onProviderDisconnect(){this.events.emit(oP.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},(0,r8.toMiliseconds)(oN)))}isInitialized(){if(!this.initialized){let{message:e}=n1("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{let t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var ar=Object.defineProperty,an=Object.getOwnPropertySymbols,ai=Object.prototype.hasOwnProperty,as=Object.prototype.propertyIsEnumerable,ao=(e,t,r)=>t in e?ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aa=(e,t)=>{for(var r in t||(t={}))ai.call(t,r)&&ao(e,r,t[r]);if(an)for(var r of an(t))as.call(t,r)&&ao(e,r,t[r]);return e};class au extends iY{constructor(e,t,r,n=oS,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=oS,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{var t;this.getKey&&null!==e&&!n6(e)?this.map.set(this.getKey(e),e):(null==(t=e?.proposer)?void 0:t.publicKey)?this.map.set(e.id,e):e?.topic&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>sP()(t[r],e[r]))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=aa(aa({},this.getData(e)),t);this.map.set(e,r),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),await this.persist())},this.logger=(0,iV.generateChildLogger)(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,iV.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:t}=n1("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=n1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=n1("NOT_INITIALIZED",this.name);throw Error(e)}}}class ac{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(t_()),this.initialized=!1,this.storagePrefix=oS,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]},this.create=async()=>{var e;this.isInitialized();let t=nu(),r=await this.core.crypto.setSymKey(t),n=nD(r8.FIVE_MINUTES),i={protocol:"irn"},s=(e={protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n},`${e.protocol}:${e.topic}@${e.version}?`+ne.stringify(nG(nK({symKey:e.symKey},function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay)),{expiryTimestamp:e.expiryTimestamp})));return await this.pairings.set(r,{topic:r,expiry:n,relay:i,active:!1}),await this.core.relayer.subscribe(r),this.core.expirer.set(r,n),{topic:r,uri:s}},this.pair=async e=>{this.isInitialized(),this.isValidPair(e);let{topic:t,symKey:r,relay:n,expiryTimestamp:i}=nQ(e.uri);if(this.pairings.keys.includes(t)&&this.pairings.get(t).active)throw Error(`Pairing already exists: ${t}. Please try again with a new connection URI.`);let s=i||nD(r8.FIVE_MINUTES),o={topic:t,relay:n,expiry:s,active:!1};return await this.pairings.set(t,o),this.core.expirer.set(t,s),e.activatePairing&&await this.activate({topic:t}),this.events.emit(oj.create,o),this.core.crypto.keychain.has(t)||(await this.core.crypto.setSymKey(r,t),await this.core.relayer.subscribe(t,{relay:n})),o},this.activate=async({topic:e})=>{this.isInitialized();let t=nD(r8.THIRTY_DAYS);await this.pairings.update(e,{active:!0,expiry:t}),this.core.expirer.set(e,t)},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=nx();this.events.once(nT("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}},this.updateExpiry=async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})},this.updateMetadata=async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",n2("USER_DISCONNECTED")),await this.deletePairing(t))},this.sendRequest=async(e,t,r)=>{let n=sh(t,r),i=await this.core.crypto.encode(e,n),s=oL[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,s),n.id},this.sendResult=async(e,t,r)=>{let n=sd(e,r),i=await this.core.crypto.encode(t,n),s=oL[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(n)},this.sendError=async(e,t,r)=>{let n=sf(e,r),i=await this.core.crypto.encode(t,n),s=await this.core.history.get(t,e),o=oL[s.request.method]?oL[s.request.method].res:oL.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(n)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,n2("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{let e=this.pairings.getAll().filter(e=>nN(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))},this.onRelayEventRequest=e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(t,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,r);default:return this.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)},this.onPairingPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(oj.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onPairingPingResponse=(e,t)=>{let{id:r}=t;setTimeout(()=>{sS(t)?this.events.emit(nT("pairing_ping",r),{}):sI(t)&&this.events.emit(nT("pairing_ping",r),{error:t.error})},500)},this.onPairingDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(oj.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodRequest=async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=n2("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error(n2("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=e=>{var t;if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`pair() params: ${e}`);throw Error(t)}if(!function(e){if(n4(e,!1))try{return"u">typeof new URL(e)}catch{}return!1}(e.uri)){let{message:t}=n1("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw Error(t)}let r=nQ(e.uri);if(!(null!=(t=r?.relay)&&t.protocol)){let{message:e}=n1("MISSING_OR_INVALID","pair() uri#relay-protocol");throw Error(e)}if(!(null!=r&&r.symKey)){let{message:e}=n1("MISSING_OR_INVALID","pair() uri#symKey");throw Error(e)}if(null!=r&&r.expiryTimestamp&&(0,r8.toMiliseconds)(r?.expiryTimestamp)<Date.now()){let{message:e}=n1("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}},this.isValidPing=async e=>{if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!n4(e,!1)){let{message:t}=n1("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=n1("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(nN(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=n1("EXPIRED",`pairing topic: ${e}`);throw Error(t)}},this.core=e,this.logger=(0,iV.generateChildLogger)(t,this.name),this.pairings=new au(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,iV.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=n1("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(oP.message,async e=>{let{topic:t,message:r}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;let n=await this.core.crypto.decode(t,r);try{sw(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):sE(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id))}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(oq.expired,async e=>{let{topic:t}=nP(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(oj.expire,{topic:t}))})}}class al extends iG{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new tb.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=oS,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:nD(r8.THIRTY_DAYS)};this.records.set(n.id,n),this.events.emit(oB.created,n)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=sI(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.events.emit(oB.updated,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic!==e||"u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(oB.deleted,r))})},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,iV.generateChildLogger)(t,this.name)}get context(){return(0,iV.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:sh(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=n1("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(oB.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=n1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(oB.created,e=>{let t=oB.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(oB.updated,e=>{let t=oB.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(oB.deleted,e=>{let t=oB.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(iz.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{(0,r8.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=n1("NOT_INITIALIZED",this.name);throw Error(e)}}}class ah extends i0{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new tb.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=oS,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}},this.set=(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(oq.created,{target:r,expiration:n})},this.get=e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(oq.deleted,{target:t,expiration:r})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,iV.generateChildLogger)(t,this.name)}get context(){return(0,iV.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return nA("topic",e);if("number"==typeof e)return nA("id",e);let{message:t}=n1("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(oq.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=n1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=n1("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,r8.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(oq.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(iz.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(oq.created,e=>{let t=oq.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(oq.expired,e=>{let t=oq.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(oq.deleted,e=>{let t=oq.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=n1("NOT_INITIALIZED",this.name);throw Error(e)}}}class ad extends i1{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=oU,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async e=>{if(this.verifyDisabled||nE()||!nS())return;let t=this.getVerifyUrl(e?.verifyUrl);this.verifyUrl!==t&&this.removeIframe(),this.verifyUrl=t;try{await this.createIframe()}catch(e){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(e)}if(!this.initialized){this.removeIframe(),this.verifyUrl=o$;try{await this.createIframe()}catch(e){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(e),this.verifyDisabled=!0}}},this.register=async e=>{this.initialized?this.sendPost(e.attestationId):(this.addToQueue(e.attestationId),await this.init())},this.resolve=async e=>{let t;if(this.isDevEnv)return"";let r=this.getVerifyUrl(e?.verifyUrl);try{t=await this.fetchAttestation(e.attestationId,r)}catch(n){this.logger.info(`failed to resolve attestation: ${e.attestationId} from url: ${r}`),this.logger.info(n),t=await this.fetchAttestation(e.attestationId,o$)}return t},this.fetchAttestation=async(e,t)=>{this.logger.info(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(2*r8.ONE_SECOND),n=await fetch(`${t}/attestation/${e}`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0},this.addToQueue=e=>{this.queue.push(e)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach(e=>this.sendPost(e)),this.queue=[])},this.sendPost=e=>{var t;try{if(!this.iframe)return;null==(t=this.iframe.contentWindow)||t.postMessage(e,"*"),this.logger.info(`postMessage sent: ${e} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let e;let t=r=>{"verify_ready"===r.data&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",t),e())};await Promise.race([new Promise(r=>{if(document.getElementById(oU))return r();window.addEventListener("message",t);let n=document.createElement("iframe");n.id=oU,n.src=`${this.verifyUrl}/${this.projectId}`,n.style.display="none",document.body.append(n),this.iframe=n,e=r}),new Promise((e,r)=>setTimeout(()=>{window.removeEventListener("message",t),r("verify iframe load timeout")},(0,r8.toMiliseconds)(r8.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=e=>{let t=e||oF;return oH.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${oF}`),t=oF),t},this.logger=(0,iV.generateChildLogger)(t,this.name),this.verifyUrl=oF,this.abortController=new AbortController,this.isDevEnv=nw()&&sT.env.IS_VITEST}get context(){return(0,iV.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,r8.toMiliseconds)(e))}}class af extends i2{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=async e=>{let{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await sN()(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})},this.logger=(0,iV.generateChildLogger)(t,this.context)}}var ap=Object.defineProperty,ag=Object.getOwnPropertySymbols,ay=Object.prototype.hasOwnProperty,av=Object.prototype.propertyIsEnumerable,am=(e,t,r)=>t in e?ap(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ab=(e,t)=>{for(var r in t||(t={}))ay.call(t,r)&&am(e,r,t[r]);if(ag)for(var r of ag(t))av.call(t,r)&&am(e,r,t[r]);return e};class a_ extends iK{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=oE,this.events=new tb.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||oR,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,iV.pino)((0,iV.getDefaultLoggerOptions)({level:e?.logger||oI.logger}));this.logger=(0,iV.generateChildLogger)(t,this.name),this.heartbeat=new iz.HeartBeat,this.crypto=new oV(this,this.logger,e?.keychain),this.history=new al(this,this.logger),this.expirer=new ah(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new iH(ab(ab({},ok),e?.storageOptions)),this.relayer=new at({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ac(this,this.logger),this.verify=new ad(this.projectId||"",this.logger),this.echoClient=new af(this.projectId||"",this.logger)}static async init(e){let t=new a_(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return(0,iV.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}let aw="client",aE=`wc@2:${aw}:`,aS={name:aw,logger:"error"},aI="WALLETCONNECT_DEEPLINK_CHOICE",ak="Proposal expired",aC=r8.SEVEN_DAYS,aO={wc_sessionPropose:{req:{ttl:r8.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:r8.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:r8.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:r8.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:r8.ONE_DAY,prompt:!1,tag:1104},res:{ttl:r8.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:r8.ONE_DAY,prompt:!1,tag:1106},res:{ttl:r8.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:r8.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:r8.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:r8.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:r8.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:r8.ONE_DAY,prompt:!1,tag:1112},res:{ttl:r8.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:r8.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:r8.THIRTY_SECONDS,prompt:!1,tag:1115}}},ax={min:r8.FIVE_MINUTES,max:r8.SEVEN_DAYS},aR={idle:"IDLE",active:"ACTIVE"},aA=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var aP=Object.defineProperty,aD=Object.defineProperties,aN=Object.getOwnPropertyDescriptors,aT=Object.getOwnPropertySymbols,aM=Object.prototype.hasOwnProperty,aL=Object.prototype.propertyIsEnumerable,aj=(e,t,r)=>t in e?aP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aB=(e,t)=>{for(var r in t||(t={}))aM.call(t,r)&&aj(e,r,t[r]);if(aT)for(var r of aT(t))aL.call(t,r)&&aj(e,r,t[r]);return e},aq=(e,t)=>aD(e,aN(t));class aU extends i5{constructor(e){super(e),this.name="engine",this.events=new(t_()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.requestQueue={state:aR.idle,queue:[]},this.sessionRequestQueue={state:aR.idle,queue:[]},this.requestQueueDelay=r8.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(aO)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,r8.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{await this.isInitialized();let t=aq(aB({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,relays:o}=t,a=r,u,c=!1;if(a&&(c=this.client.core.pairing.pairings.get(a).active),!a||!c){let{topic:e,uri:t}=await this.client.core.pairing.create();a=e,u=t}let l=await this.client.core.crypto.generateKeyPair(),h=aO.wc_sessionPropose.req.ttl||r8.FIVE_MINUTES,d=nD(h),f=aB({requiredNamespaces:n,optionalNamespaces:i,relays:o??[{protocol:"irn"}],proposer:{publicKey:l,metadata:this.client.metadata},expiryTimestamp:d},s&&{sessionProperties:s}),{reject:p,resolve:g,done:y}=nx(h,ak);if(this.events.once(nT("session_connect"),async({error:e,session:t})=>{if(e)p(e);else if(t){t.self.publicKey=l;let e=aq(aB({},t),{requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces});await this.client.session.set(t.topic,e),await this.setExpiry(t.topic,t.expiry),a&&await this.client.core.pairing.updateMetadata({topic:a,metadata:t.peer.metadata}),g(e)}}),!a){let{message:e}=n1("NO_MATCHING_KEY",`connect() pairing topic: ${a}`);throw Error(e)}let v=await this.sendRequest({topic:a,method:"wc_sessionPropose",params:f,throwOnFailedPublish:!0});return await this.setProposal(v,aB({id:v},f)),{uri:u,approval:y}},this.pair=async e=>(await this.isInitialized(),await this.client.core.pairing.pair(e)),this.approve=async e=>{await this.isInitialized(),await this.isValidApprove(e);let{id:t,relayProtocol:r,namespaces:n,sessionProperties:i}=e,{pairingTopic:s,proposer:o,requiredNamespaces:a,optionalNamespaces:u}=this.client.proposal.get(t);s=s||"";let c=await this.client.core.crypto.generateKeyPair(),l=o.publicKey,h=await this.client.core.crypto.generateSharedKey(c,l);s&&t&&(await this.client.core.pairing.updateMetadata({topic:s,metadata:o.metadata}),await this.sendResult({id:t,topic:s,result:{relay:{protocol:r??"irn"},responderPublicKey:c}}),await this.client.proposal.delete(t,n2("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:s}));let d=aB({relay:{protocol:r??"irn"},namespaces:n,pairingTopic:s,controller:{publicKey:c,metadata:this.client.metadata},expiry:nD(aC)},i&&{sessionProperties:i});await this.client.core.relayer.subscribe(h);let f=aq(aB({},d),{topic:h,requiredNamespaces:a,optionalNamespaces:u,pairingTopic:s,acknowledged:!1,self:d.controller,peer:{publicKey:o.publicKey,metadata:o.metadata},controller:c});await this.client.session.set(h,f);try{await this.sendRequest({topic:h,method:"wc_sessionSettle",params:d,throwOnFailedPublish:!0})}catch(e){throw this.client.logger.error(e),this.client.session.delete(h,n2("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(h),e}return await this.setExpiry(h,nD(aC)),{topic:h,acknowledged:()=>new Promise(e=>setTimeout(()=>e(this.client.session.get(h)),500))}},this.reject=async e=>{await this.isInitialized(),await this.isValidReject(e);let{id:t,reason:r}=e,{pairingTopic:n}=this.client.proposal.get(t);n&&(await this.sendError(t,n,r),await this.client.proposal.delete(t,n2("USER_DISCONNECTED")))},this.update=async e=>{await this.isInitialized(),await this.isValidUpdate(e);let{topic:t,namespaces:r}=e,n=await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r}}),{done:i,resolve:s,reject:o}=nx();return this.events.once(nT("session_update",n),({error:e})=>{e?o(e):s()}),await this.client.session.update(t,{namespaces:r}),{acknowledged:i}},this.extend=async e=>{await this.isInitialized(),await this.isValidExtend(e);let{topic:t}=e,r=await this.sendRequest({topic:t,method:"wc_sessionExtend",params:{}}),{done:n,resolve:i,reject:s}=nx();return this.events.once(nT("session_extend",r),({error:e})=>{e?s(e):i()}),await this.setExpiry(t,nD(aC)),{acknowledged:n}},this.request=async e=>{await this.isInitialized(),await this.isValidRequest(e);let{chainId:t,request:r,topic:n,expiry:i=aO.wc_sessionRequest.req.ttl}=e,s=sc(),{done:o,resolve:a,reject:u}=nx(i,"Request expired. Please try again.");return this.events.once(nT("session_request",s),({error:e,result:t})=>{e?u(e):a(t)}),await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:s,topic:n,method:"wc_sessionRequest",params:{request:aq(aB({},r),{expiryTimestamp:nD(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:s}),e()}),new Promise(async e=>{nL({id:s,topic:n,wcDeepLink:await nj(this.client.core.storage,aI)}),e()}),o()]).then(e=>e[2])},this.respond=async e=>{await this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:n}=r;sS(r)?await this.sendResult({id:n,topic:t,result:r.result,throwOnFailedPublish:!0}):sI(r)&&await this.sendError(n,t,r.error),this.cleanupAfterResponse(e)},this.ping=async e=>{await this.isInitialized(),await this.isValidPing(e);let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=await this.sendRequest({topic:t,method:"wc_sessionPing",params:{}}),{done:r,resolve:n,reject:i}=nx();this.events.once(nT("session_ping",e),({error:e})=>{e?i(e):n()}),await r()}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{await this.isInitialized(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e;await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n}})},this.disconnect=async e=>{await this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:n2("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=n1("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw Error(e)}},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),s=!0;return!!nk(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:o}=e.namespaces[t],a=nJ(n),u=r[t];nk(nn(t,u),a)&&nk(u.methods,i)&&nk(u.events,o)||(s=!1)}),s)})(t,e))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}},this.deleteSession=async e=>{let{topic:t,expirerHasDeleted:r=!1,emitEvent:n=!0,id:i=0}=e,{self:s}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),await this.client.session.delete(t,n2("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(s.publicKey)&&await this.client.core.crypto.deleteKeyPair(s.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),r||this.client.core.expirer.del(t),this.client.core.storage.removeItem(aI).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===t&&this.deletePendingSessionRequest(e.id,n2("USER_DISCONNECTED"))}),n&&this.client.events.emit("session_delete",{id:i,topic:t})},this.deleteProposal=async(e,t)=>{await Promise.all([this.client.proposal.delete(e,n2("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)])},this.deletePendingSessionRequest=async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=aR.idle,this.client.events.emit("session_request_expire",{id:e}))},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&await this.client.session.update(e,{expiry:t}),this.client.core.expirer.set(e,t)},this.setProposal=async(e,t)=>{await this.client.proposal.set(e,t),this.client.core.expirer.set(e,nD(aO.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async e=>{let{id:t,topic:r,params:n,verifyContext:i}=e,s=n.request.expiryTimestamp||nD(aO.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i}),s&&this.client.core.expirer.set(t,s)},this.sendRequest=async e=>{let{topic:t,method:r,params:n,expiry:i,relayRpcId:s,clientRpcId:o,throwOnFailedPublish:a}=e,u=sh(r,n,o);if(nS()&&aA.includes(r)){let e=nc(JSON.stringify(u));this.client.core.verify.register({attestationId:e})}let c=await this.client.core.crypto.encode(t,u),l=aO[r].req;return i&&(l.ttl=i),s&&(l.id=s),this.client.core.history.set(t,u),a?(l.internal=aq(aB({},l.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,c,l)):this.client.core.relayer.publish(t,c,l).catch(e=>this.client.logger.error(e)),u.id},this.sendResult=async e=>{let{id:t,topic:r,result:n,throwOnFailedPublish:i}=e,s=sd(t,n),o=await this.client.core.crypto.encode(r,s),a=aO[(await this.client.core.history.get(r,t)).request.method].res;i?(a.internal=aq(aB({},a.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,o,a)):this.client.core.relayer.publish(r,o,a).catch(e=>this.client.logger.error(e)),await this.client.core.history.resolve(s)},this.sendError=async(e,t,r)=>{let n=sf(e,r),i=await this.client.core.crypto.encode(t,n),s=aO[(await this.client.core.history.get(t,e)).request.method].res;this.client.core.relayer.publish(t,i,s),await this.client.core.history.resolve(n)},this.cleanup=async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;nN(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{nN(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===aR.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=aR.active;let e=this.requestQueue.queue.shift();if(e)try{this.processRequest(e),await new Promise(e=>setTimeout(e,300))}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=aR.idle},this.processRequest=e=>{let{topic:t,payload:r}=e,n=r.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeRequest(t,r);case"wc_sessionSettle":return this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return this.onSessionExtendRequest(t,r);case"wc_sessionPing":return this.onSessionPingRequest(t,r);case"wc_sessionDelete":return this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return this.onSessionRequest(t,r);case"wc_sessionEvent":return this.onSessionEventRequest(t,r);default:return this.client.logger.info(`Unsupported request method ${n}`)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r}=e,n=(await this.client.core.history.get(t,r.id)).request.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${n}`)}},this.onRelayEventUnknownPayload=e=>{let{topic:t}=e,{message:r}=n1("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)},this.onSessionProposeRequest=async(e,t)=>{let{params:r,id:n}=t;try{this.isValidConnect(aB({},t.params));let i=r.expiryTimestamp||nD(aO.wc_sessionPropose.req.ttl),s=aB({id:n,pairingTopic:e,expiryTimestamp:i},r);await this.setProposal(n,s);let o=nc(JSON.stringify(t)),a=await this.getVerifyContext(o,s.proposer.metadata);this.client.events.emit("session_proposal",{id:n,params:s,verifyContext:a})}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.onSessionProposeResponse=async(e,t)=>{let{id:r}=t;if(sS(t)){let{result:n}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:n});let i=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:i});let s=i.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});let o=n.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});let a=await this.client.core.crypto.generateSharedKey(s,o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a});let u=await this.client.core.relayer.subscribe(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:e})}else sI(t)&&(await this.client.proposal.delete(r,n2("USER_DISCONNECTED")),this.events.emit(nT("session_connect"),{error:t.error}))},this.onSessionSettleRequest=async(e,t)=>{let{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);let{relay:r,controller:i,expiry:s,namespaces:o,sessionProperties:a,pairingTopic:u}=t.params,c=aB({topic:e,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u,requiredNamespaces:{},optionalNamespaces:{},controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a});await this.sendResult({id:t.id,topic:e,result:!0}),this.events.emit(nT("session_connect"),{session:c}),this.cleanupDuplicatePairings(c)}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionSettleResponse=async(e,t)=>{let{id:r}=t;sS(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(nT("session_approve",r),{})):sI(t)&&(await this.client.session.delete(e,n2("USER_DISCONNECTED")),this.events.emit(nT("session_approve",r),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{let{params:r,id:n}=t;try{let t=`${e}_session_update`,i=ih.get(t);if(i&&this.isRequestOutOfSync(i,n)){this.client.logger.info(`Discarding out of sync request - ${n}`);return}this.isValidUpdate(aB({topic:e},r)),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_update",{id:n,topic:e,params:r}),ih.set(t,n)}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.isRequestOutOfSync=(e,t)=>parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,t)=>{let{id:r}=t;sS(t)?this.events.emit(nT("session_update",r),{}):sI(t)&&this.events.emit(nT("session_update",r),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,nD(aC)),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionExtendResponse=(e,t)=>{let{id:r}=t;sS(t)?this.events.emit(nT("session_extend",r),{}):sI(t)&&this.events.emit(nT("session_extend",r),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionPingResponse=(e,t)=>{let{id:r}=t;setTimeout(()=>{sS(t)?this.events.emit(nT("session_ping",r),{}):sI(t)&&this.events.emit(nT("session_ping",r),{error:t.error})},500)},this.onSessionDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(oP.publish,async()=>{t(await this.deleteSession({topic:e,id:r}))})}),this.sendResult({id:r,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:n2("USER_DISCONNECTED")})])}catch(e){this.client.logger.error(e)}},this.onSessionRequest=async(e,t)=>{let{id:r,params:n}=t;try{this.isValidRequest(aB({topic:e},n));let t=nc(JSON.stringify(sh("wc_sessionRequest",n,r))),i=this.client.session.get(e),s=await this.getVerifyContext(t,i.peer.metadata),o={id:r,topic:e,params:n,verifyContext:s};await this.setPendingSessionRequest(o),this.addSessionRequestToSessionRequestQueue(o),this.processSessionRequestQueue()}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionRequestResponse=(e,t)=>{let{id:r}=t;sS(t)?this.events.emit(nT("session_request",r),{result:t.result}):sI(t)&&this.events.emit(nT("session_request",r),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{let{id:r,params:n}=t;try{let t=`${e}_session_event_${n.event.name}`,i=ih.get(t);if(i&&this.isRequestOutOfSync(i,r)){this.client.logger.info(`Discarding out of sync request - ${r}`);return}this.isValidEmit(aB({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),ih.set(t,r)}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=aR.idle,this.processSessionRequestQueue()},(0,r8.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:e,error:t})=>{let r=this.client.core.history.pending;r.length>0&&r.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{this.events.emit(nT("session_request",e.request.id),{error:t})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===aR.active){this.client.logger.info("session request queue is already active.");return}let e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=aR.active,this.client.events.emit("session_request",e)}catch(e){this.client.logger.error(e)}},this.onPairingCreated=e=>{if(e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest(e.topic,sh("wc_sessionPropose",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties},t.id))},this.isValidConnect=async e=>{let t;if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,relays:o}=e;if(n6(r)||await this.isValidPairingTopic(r),t=!1,o?o&&n3(o)&&o.length&&o.forEach(e=>{t=ir(e)}):t=!0,!t){let{message:e}=n1("MISSING_OR_INVALID",`connect() relays: ${o}`);throw Error(e)}n6(n)||0===n5(n)||this.validateNamespaces(n,"requiredNamespaces"),n6(i)||0===n5(i)||this.validateNamespaces(i,"optionalNamespaces"),n6(s)||this.validateSessionProps(s,"sessionProperties")},this.validateNamespaces=(e,t)=>{let r=function(e,t,r){let n=null;if(e&&n5(e)){let i;let s=ie(e,t);s&&(n=s);let o=(i=null,Object.entries(e).forEach(([e,n])=>{var s,o;let a;if(i)return;let u=(s=nn(e,n),o=`${t} ${r}`,a=null,n3(s)&&s.length?s.forEach(e=>{a||n9(e)||(a=n2("UNSUPPORTED_CHAINS",`${o}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):n9(e)||(a=n2("UNSUPPORTED_CHAINS",`${o}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),a);u&&(i=u)}),i);o&&(n=o)}else n=n1("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}(e,"connect()",t);if(r)throw Error(r.message)},this.isValidApprove=async e=>{if(!ii(e))throw Error(n1("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i}=e;await this.isValidProposalId(t);let s=this.client.proposal.get(t),o=it(r,"approve()");if(o)throw Error(o.message);let a=io(s.requiredNamespaces,r,"approve()");if(a)throw Error(a.message);if(!n4(n,!0)){let{message:e}=n1("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw Error(e)}n6(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async e=>{if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(await this.isValidProposalId(t),!r||"object"!=typeof r||!r.code||!n8(r.code,!1)||!r.message||!n4(r.message,!1)){let{message:e}=n1("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}},this.isValidSessionSettleRequest=e=>{let t;if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:r,controller:n,namespaces:i,expiry:s}=e;if(!ir(r)){let{message:e}=n1("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let o=(t=null,n4(n?.publicKey,!1)||(t=n1("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),t);if(o)throw Error(o.message);let a=it(i,"onSessionSettleRequest()");if(a)throw Error(a.message);if(nN(s)){let{message:e}=n1("EXPIRED","onSessionSettleRequest()");throw Error(e)}},this.isValidUpdate=async e=>{if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=it(r,"update()");if(i)throw Error(i.message);let s=io(n.requiredNamespaces,r,"update()");if(s)throw Error(s.message)},this.isValidExtend=async e=>{if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{var t;if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:r,request:n,chainId:i,expiry:s}=e;await this.isValidSessionTopic(r);let{namespaces:o}=this.client.session.get(r);if(!is(o,i)){let{message:e}=n1("MISSING_OR_INVALID",`request() chainId: ${i}`);throw Error(e)}if(n6(n)||!n4(n.method,!1)){let{message:e}=n1("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw Error(e)}if(!(n4(t=n.method,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{nJ(e.accounts).includes(t)&&r.push(...e.methods)}),r})(o,i).includes(t))){let{message:e}=n1("MISSING_OR_INVALID",`request() method: ${n.method}`);throw Error(e)}if(s&&(!n8(s,!1)||!(s<=ax.max)||!(s>=ax.min))){let{message:e}=n1("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${ax.min} and ${ax.max}`);throw Error(e)}},this.isValidRespond=async e=>{var t;if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(n6(n)||n6(n.result)&&n6(n.error)||!n8(n.id,!1)||!n4(n.jsonrpc,!1)){let{message:e}=n1("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw Error(e)}},this.isValidPing=async e=>{if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{var t;if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:r,event:n,chainId:i}=e;await this.isValidSessionTopic(r);let{namespaces:s}=this.client.session.get(r);if(!is(s,i)){let{message:e}=n1("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw Error(e)}if(n6(n)||!n4(n.name,!1)){let{message:e}=n1("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw Error(e)}if(!(n4(t=n.name,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{nJ(e.accounts).includes(t)&&r.push(...e.events)}),r})(s,i).includes(t))){let{message:e}=n1("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw Error(e)}},this.isValidDisconnect=async e=>{if(!ii(e)){let{message:t}=n1("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.getVerifyContext=async(e,t)=>{let r={verified:{verifyUrl:t.verifyUrl||oF,validation:"UNKNOWN",origin:t.url||""}};try{let n=await this.client.core.verify.resolve({attestationId:e,verifyUrl:t.verifyUrl});n&&(r.verified.origin=n.origin,r.verified.isScam=n.isScam,r.verified.validation=n.origin===new URL(t.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.info(e)}return this.client.logger.info(`Verify context: ${JSON.stringify(r)}`),r},this.validateSessionProps=(e,t)=>{Object.values(e).forEach(e=>{if(!n4(e,!1)){let{message:r}=n1("MISSING_OR_INVALID",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`);throw Error(r)}})}}async isInitialized(){if(!this.initialized){let{message:e}=n1("NOT_INITIALIZED",this.name);throw Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(oP.message,async e=>{let{topic:t,message:r}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(r)))return;let n=await this.client.core.crypto.decode(t,r);try{sw(n)?(this.client.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):sE(n)?(await this.client.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.client.core.history.delete(t,n.id)):this.onRelayEventUnknownPayload({topic:t,payload:n})}catch(e){this.client.logger.error(e)}})}registerExpirerEvents(){this.client.core.expirer.on(oq.expired,async e=>{let{topic:t,id:r}=nP(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,n1("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(oj.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!n4(e,!1)){let{message:t}=n1("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=n1("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(nN(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=n1("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!n4(e,!1)){let{message:t}=n1("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=n1("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if(nN(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=n1("EXPIRED",`session topic: ${e}`);throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=n1("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(n4(e,!1)){let{message:t}=n1("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=n1("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=n1("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=n1("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if(nN(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=n1("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class aF extends au{constructor(e,t){super(e,t,"proposal",aE),this.core=e,this.logger=t}}class a$ extends au{constructor(e,t){super(e,t,"session",aE),this.core=e,this.logger=t}}class aH extends au{constructor(e,t){super(e,t,"request",aE,e=>e.id),this.core=e,this.logger=t}}class az extends i3{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=aS.name,this.events=new tb.EventEmitter,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.removeAllListeners=e=>this.events.removeAllListeners(e),this.connect=async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}},this.pair=async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}},this.approve=async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}},this.reject=async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}},this.update=async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}},this.extend=async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}},this.request=async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}},this.respond=async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}},this.ping=async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}},this.emit=async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}},this.disconnect=async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}},this.find=e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.name=e?.name||aS.name,this.metadata=e?.metadata||(0,r7.D)()||{name:"",description:"",url:"",icons:[""]};let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,iV.pino)((0,iV.getDefaultLoggerOptions)({level:e?.logger||aS.logger}));this.core=e?.core||new a_(e),this.logger=(0,iV.generateChildLogger)(t,this.name),this.session=new a$(this.core,this.logger),this.proposal=new aF(this.core,this.logger),this.pendingRequest=new aH(this.core,this.logger),this.engine=new aU(this)}static async init(e){let t=new az(e);return await t.initialize(),t}get context(){return(0,iV.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}let aV={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class aW{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new tb.EventEmitter,this.isAvailable=!1,this.registering=!1,!sm(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{let t=iT(e),r=await ev()(this.url,Object.assign(Object.assign({},aV),{body:t})),n=await r.json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!sm(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),void 0===this.isAvailable)return t(Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=iT({id:1,jsonrpc:"2.0",method:"test",params:[]});await ev()(e,Object.assign(Object.assign({},aV),{body:t}))}this.onOpen()}catch(t){let e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(void 0===e.data)return;let t="string"==typeof e.data?iN(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=sf(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e,t=this.url){return sa(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}let aK="error",aG="wc@2:universal_provider:",aQ="default_chain_changed";var aJ="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},aZ={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(e,t){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",o=1/0,a=0/0,u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",l="[object Array]",h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",g="[object GeneratorFunction]",y="[object Map]",v="[object Number]",m="[object Object]",b="[object Promise]",_="[object RegExp]",w="[object Set]",E="[object String]",S="[object Symbol]",I="[object WeakMap]",k="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",x="[object Float64Array]",R="[object Int8Array]",A="[object Int16Array]",P="[object Int32Array]",D="[object Uint8Array]",N="[object Uint8ClampedArray]",T="[object Uint16Array]",M="[object Uint32Array]",L=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,F=RegExp(q.source),$=RegExp(U.source),H=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,J=RegExp(Q.source),Z=/^\s+/,Y=/\s/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ee=/\{\n\/\* \[wrapped with (.+)\] \*/,et=/,? & /,er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,en=/[()=,{}\[\]\/\s]/,ei=/\\(\\)?/g,es=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eo=/\w*$/,ea=/^[-+]0x[0-9a-f]+$/i,eu=/^0b[01]+$/i,ec=/^\[object .+?Constructor\]$/,el=/^0o[0-7]+$/i,eh=/^(?:0|[1-9]\d*)$/,ed=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ef=/($^)/,ep=/['\n\r\u2028\u2029\\]/g,eg="\ud800-\udfff",ey="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ev="\\u2700-\\u27bf",em="a-z\\xdf-\\xf6\\xf8-\\xff",eb="A-Z\\xc0-\\xd6\\xd8-\\xde",e_="\\ufe0e\\ufe0f",ew="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eE="['’]",eS="["+ew+"]",eI="["+ey+"]",ek="["+em+"]",eC="[^"+eg+ew+"\\d+"+ev+em+eb+"]",eO="\ud83c[\udffb-\udfff]",ex="[^"+eg+"]",eR="(?:\ud83c[\udde6-\uddff]){2}",eA="[\ud800-\udbff][\udc00-\udfff]",eP="["+eb+"]",eD="\\u200d",eN="(?:"+ek+"|"+eC+")",eT="(?:"+eE+"(?:d|ll|m|re|s|t|ve))?",eM="(?:"+eE+"(?:D|LL|M|RE|S|T|VE))?",eL="(?:"+eI+"|"+eO+")?",ej="["+e_+"]?",eB="(?:"+eD+"(?:"+[ex,eR,eA].join("|")+")"+ej+eL+")*",eq=ej+eL+eB,eU="(?:"+["["+ev+"]",eR,eA].join("|")+")"+eq,eF="(?:"+[ex+eI+"?",eI,eR,eA,"["+eg+"]"].join("|")+")",e$=RegExp(eE,"g"),eH=RegExp(eI,"g"),ez=RegExp(eO+"(?="+eO+")|"+eF+eq,"g"),eV=RegExp([eP+"?"+ek+"+"+eT+"(?="+[eS,eP,"$"].join("|")+")","(?:"+eP+"|"+eC+")+"+eM+"(?="+[eS,eP+eN,"$"].join("|")+")",eP+"?"+eN+"+"+eT,eP+"+"+eM,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",eU].join("|"),"g"),eW=RegExp("["+eD+eg+ey+e_+"]"),eK=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eG=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eQ=-1,eJ={};eJ[O]=eJ[x]=eJ[R]=eJ[A]=eJ[P]=eJ[D]=eJ[N]=eJ[T]=eJ[M]=!0,eJ[c]=eJ[l]=eJ[k]=eJ[h]=eJ[C]=eJ[d]=eJ[f]=eJ[p]=eJ[y]=eJ[v]=eJ[m]=eJ[_]=eJ[w]=eJ[E]=eJ[I]=!1;var eZ={};eZ[c]=eZ[l]=eZ[k]=eZ[C]=eZ[h]=eZ[d]=eZ[O]=eZ[x]=eZ[R]=eZ[A]=eZ[P]=eZ[y]=eZ[v]=eZ[m]=eZ[_]=eZ[w]=eZ[E]=eZ[S]=eZ[D]=eZ[N]=eZ[T]=eZ[M]=!0,eZ[f]=eZ[p]=eZ[I]=!1;var eY={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},eX=parseFloat,e0=parseInt,e1="object"==typeof aJ&&aJ&&aJ.Object===Object&&aJ,e2="object"==typeof self&&self&&self.Object===Object&&self,e3=e1||e2||Function("return this")(),e5=t&&!t.nodeType&&t,e6=e5&&e&&!e.nodeType&&e,e4=e6&&e6.exports===e5,e8=e4&&e1.process,e9=function(){try{return e6&&e6.require&&e6.require("util").types||e8&&e8.binding&&e8.binding("util")}catch{}}(),e7=e9&&e9.isArrayBuffer,te=e9&&e9.isDate,tt=e9&&e9.isMap,tr=e9&&e9.isRegExp,tn=e9&&e9.isSet,ti=e9&&e9.isTypedArray;function ts(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function to(e,t,r,n){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(n,o,r(o),e)}return n}function ta(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function tu(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function tc(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}function tl(e,t){return!!(null==e?0:e.length)&&t_(e,t,0)>-1}function th(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function td(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function tf(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function tp(e,t,r,n){var i=-1,s=null==e?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function tg(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function ty(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var tv=tI("length");function tm(e,t,r){var n;return r(e,function(e,r,i){if(t(e,r,i))return n=r,!1}),n}function tb(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return -1}function t_(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}(e,t,r):tb(e,tE,r)}function tw(e,t,r,n){for(var i=r-1,s=e.length;++i<s;)if(n(e[i],t))return i;return -1}function tE(e){return e!=e}function tS(e,t){var r=null==e?0:e.length;return r?tO(e,t)/r:a}function tI(e){return function(t){return null==t?r:t[e]}}function tk(e){return function(t){return null==e?r:e[t]}}function tC(e,t,r,n,i){return i(e,function(e,i,s){r=n?(n=!1,e):t(r,e,i,s)}),r}function tO(e,t){for(var n,i=-1,s=e.length;++i<s;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function tx(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function tR(e){return e&&e.slice(0,tV(e)+1).replace(Z,"")}function tA(e){return function(t){return e(t)}}function tP(e,t){return td(t,function(t){return e[t]})}function tD(e,t){return e.has(t)}function tN(e,t){for(var r=-1,n=e.length;++r<n&&t_(t,e[r],0)>-1;);return r}function tT(e,t){for(var r=e.length;r--&&t_(t,e[r],0)>-1;);return r}var tM=tk({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tL=tk({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tj(e){return"\\"+eY[e]}function tB(e){return eW.test(e)}function tq(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function tU(e,t){return function(r){return e(t(r))}}function tF(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];(a===t||a===s)&&(e[r]=s,o[i++]=r)}return o}function t$(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function tH(e){return tB(e)?function(e){for(var t=ez.lastIndex=0;ez.test(e);)++t;return t}(e):tv(e)}function tz(e){return tB(e)?e.match(ez)||[]:e.split("")}function tV(e){for(var t=e.length;t--&&Y.test(e.charAt(t)););return t}var tW=tk({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tK=function e(t){var Y,eg,ey,ev,em=(t=null==t?e3:tK.defaults(e3.Object(),t,tK.pick(e3,eG))).Array,eb=t.Date,e_=t.Error,ew=t.Function,eE=t.Math,eS=t.Object,eI=t.RegExp,ek=t.String,eC=t.TypeError,eO=em.prototype,ex=ew.prototype,eR=eS.prototype,eA=t["__core-js_shared__"],eP=ex.toString,eD=eR.hasOwnProperty,eN=0,eT=(Y=/[^.]+$/.exec(eA&&eA.keys&&eA.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",eM=eR.toString,eL=eP.call(eS),ej=e3._,eB=eI("^"+eP.call(eD).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eq=e4?t.Buffer:r,eU=t.Symbol,eF=t.Uint8Array,ez=eq?eq.allocUnsafe:r,eW=tU(eS.getPrototypeOf,eS),eY=eS.create,e1=eR.propertyIsEnumerable,e2=eO.splice,e5=eU?eU.isConcatSpreadable:r,e6=eU?eU.iterator:r,e8=eU?eU.toStringTag:r,e9=function(){try{var e=ip(eS,"defineProperty");return e({},"",{}),e}catch{}}(),tv=t.clearTimeout!==e3.clearTimeout&&t.clearTimeout,tk=eb&&eb.now!==e3.Date.now&&eb.now,tG=t.setTimeout!==e3.setTimeout&&t.setTimeout,tQ=eE.ceil,tJ=eE.floor,tZ=eS.getOwnPropertySymbols,tY=eq?eq.isBuffer:r,tX=t.isFinite,t0=eO.join,t1=tU(eS.keys,eS),t2=eE.max,t3=eE.min,t5=eb.now,t6=t.parseInt,t4=eE.random,t8=eO.reverse,t9=ip(t,"DataView"),t7=ip(t,"Map"),re=ip(t,"Promise"),rt=ip(t,"Set"),rr=ip(t,"WeakMap"),rn=ip(eS,"create"),ri=rr&&new rr,rs={},ro=iq(t9),ra=iq(t7),ru=iq(re),rc=iq(rt),rl=iq(rr),rh=eU?eU.prototype:r,rd=rh?rh.valueOf:r,rf=rh?rh.toString:r;function rp(e){if(sW(e)&&!sM(e)&&!(e instanceof rm)){if(e instanceof rv)return e;if(eD.call(e,"__wrapped__"))return iU(e)}return new rv(e)}var rg=function(){function e(){}return function(t){if(!sV(t))return{};if(eY)return eY(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function ry(){}function rv(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function rm(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function rb(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function r_(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function rw(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function rE(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new rw;++t<r;)this.add(e[t])}function rS(e){var t=this.__data__=new r_(e);this.size=t.size}function rI(e,t){var r=sM(e),n=!r&&sT(e),i=!r&&!n&&sq(e),s=!r&&!n&&!i&&s0(e),o=r||n||i||s,a=o?tx(e.length,ek):[],u=a.length;for(var c in e)(t||eD.call(e,c))&&!(o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||iw(c,u)))&&a.push(c);return a}function rk(e){var t=e.length;return t?e[nc(0,t-1)]:r}function rC(e,t,n){(n===r||sP(e[t],n))&&(n!==r||t in e)||rP(e,t,n)}function rO(e,t,n){var i=e[t];eD.call(e,t)&&sP(i,n)&&(n!==r||t in e)||rP(e,t,n)}function rx(e,t){for(var r=e.length;r--;)if(sP(e[r][0],t))return r;return -1}function rR(e,t,r,n){return rB(e,function(e,i,s){t(n,e,r(e),s)}),n}function rA(e,t){return e&&nF(t,od(t),e)}function rP(e,t,r){"__proto__"==t&&e9?e9(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function rD(e,t){for(var n=-1,i=t.length,s=em(i),o=null==e;++n<i;)s[n]=o?r:oa(e,t[n]);return s}function rN(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function rT(e,t,n,i,s,o){var a,u=1&t,l=2&t,f=4&t;if(n&&(a=s?n(e,i,s,o):n(e)),a!==r)return a;if(!sV(e))return e;var b=sM(e);if(b){if(I=e.length,L=new e.constructor(I),I&&"string"==typeof e[0]&&eD.call(e,"index")&&(L.index=e.index,L.input=e.input),a=L,!u)return nU(e,a)}else{var I,L,j,B,q,U=iv(e),F=U==p||U==g;if(sq(e))return nT(e,u);if(U==m||U==c||F&&!s){if(a=l||F?{}:ib(e),!u)return l?(j=(q=a)&&nF(e,of(e),q),nF(e,iy(e),j)):(B=rA(a,e),nF(e,ig(e),B))}else{if(!eZ[U])return s?e:{};a=function(e,t,r){var n,i,s=e.constructor;switch(t){case k:return nM(e);case h:case d:return new s(+e);case C:return n=r?nM(e.buffer):e.buffer,new e.constructor(n,e.byteOffset,e.byteLength);case O:case x:case R:case A:case P:case D:case N:case T:case M:return nL(e,r);case y:return new s;case v:case E:return new s(e);case _:return(i=new e.constructor(e.source,eo.exec(e))).lastIndex=e.lastIndex,i;case w:return new s;case S:return rd?eS(rd.call(e)):{}}}(e,U,u)}}o||(o=new rS);var $=o.get(e);if($)return $;o.set(e,a),sZ(e)?e.forEach(function(r){a.add(rT(r,t,n,r,e,o))}):sK(e)&&e.forEach(function(r,i){a.set(i,rT(r,t,n,i,e,o))});var H=f?l?io:is:l?of:od,z=b?r:H(e);return ta(z||e,function(r,i){z&&(r=e[i=r]),rO(a,i,rT(r,t,n,i,e,o))}),a}function rM(e,t,n){var i=n.length;if(null==e)return!i;for(e=eS(e);i--;){var s=n[i],o=t[s],a=e[s];if(a===r&&!(s in e)||!o(a))return!1}return!0}function rL(e,t,i){if("function"!=typeof e)throw new eC(n);return iD(function(){e.apply(r,i)},t)}function rj(e,t,r,n){var i=-1,s=tl,o=!0,a=e.length,u=[],c=t.length;if(!a)return u;r&&(t=td(t,tA(r))),n?(s=th,o=!1):t.length>=200&&(s=tD,o=!1,t=new rE(t));t:for(;++i<a;){var l=e[i],h=null==r?l:r(l);if(l=n||0!==l?l:0,o&&h==h){for(var d=c;d--;)if(t[d]===h)continue t;u.push(l)}else s(t,h,n)||u.push(l)}return u}rp.templateSettings={escape:H,evaluate:z,interpolate:V,variable:"",imports:{_:rp}},rp.prototype=ry.prototype,rp.prototype.constructor=rp,rv.prototype=rg(ry.prototype),rv.prototype.constructor=rv,rm.prototype=rg(ry.prototype),rm.prototype.constructor=rm,rb.prototype.clear=function(){this.__data__=rn?rn(null):{},this.size=0},rb.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},rb.prototype.get=function(e){var t=this.__data__;if(rn){var n=t[e];return n===i?r:n}return eD.call(t,e)?t[e]:r},rb.prototype.has=function(e){var t=this.__data__;return rn?t[e]!==r:eD.call(t,e)},rb.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rn&&t===r?i:t,this},r_.prototype.clear=function(){this.__data__=[],this.size=0},r_.prototype.delete=function(e){var t=this.__data__,r=rx(t,e);return!(r<0)&&(r==t.length-1?t.pop():e2.call(t,r,1),--this.size,!0)},r_.prototype.get=function(e){var t=this.__data__,n=rx(t,e);return n<0?r:t[n][1]},r_.prototype.has=function(e){return rx(this.__data__,e)>-1},r_.prototype.set=function(e,t){var r=this.__data__,n=rx(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},rw.prototype.clear=function(){this.size=0,this.__data__={hash:new rb,map:new(t7||r_),string:new rb}},rw.prototype.delete=function(e){var t=ih(this,e).delete(e);return this.size-=t?1:0,t},rw.prototype.get=function(e){return ih(this,e).get(e)},rw.prototype.has=function(e){return ih(this,e).has(e)},rw.prototype.set=function(e,t){var r=ih(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},rE.prototype.add=rE.prototype.push=function(e){return this.__data__.set(e,i),this},rE.prototype.has=function(e){return this.__data__.has(e)},rS.prototype.clear=function(){this.__data__=new r_,this.size=0},rS.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},rS.prototype.get=function(e){return this.__data__.get(e)},rS.prototype.has=function(e){return this.__data__.has(e)},rS.prototype.set=function(e,t){var r=this.__data__;if(r instanceof r_){var n=r.__data__;if(!t7||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rw(n)}return r.set(e,t),this.size=r.size,this};var rB=nz(rW),rq=nz(rK,!0);function rU(e,t){var r=!0;return rB(e,function(e,n,i){return r=!!t(e,n,i)}),r}function rF(e,t,n){for(var i=-1,s=e.length;++i<s;){var o=e[i],a=t(o);if(null!=a&&(u===r?a==a&&!sX(a):n(a,u)))var u=a,c=o}return c}function r$(e,t){var r=[];return rB(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function rH(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=i_),i||(i=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?rH(a,t-1,r,n,i):tf(i,a):n||(i[i.length]=a)}return i}var rz=nV(),rV=nV(!0);function rW(e,t){return e&&rz(e,t,od)}function rK(e,t){return e&&rV(e,t,od)}function rG(e,t){return tc(t,function(t){return s$(e[t])})}function rQ(e,t){t=nP(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[iB(t[n++])];return n&&n==i?e:r}function rJ(e,t,r){var n=t(e);return sM(e)?n:tf(n,r(e))}function rZ(e){return null==e?e===r?"[object Undefined]":"[object Null]":e8&&e8 in eS(e)?function(e){var t=eD.call(e,e8),n=e[e8];try{e[e8]=r;var i=!0}catch{}var s=eM.call(e);return i&&(t?e[e8]=n:delete e[e8]),s}(e):eM.call(e)}function rY(e,t){return e>t}function rX(e,t){return null!=e&&eD.call(e,t)}function r0(e,t){return null!=e&&t in eS(e)}function r1(e,t,n){for(var i=n?th:tl,s=e[0].length,o=e.length,a=o,u=em(o),c=1/0,l=[];a--;){var h=e[a];a&&t&&(h=td(h,tA(t))),c=t3(h.length,c),u[a]=!n&&(t||s>=120&&h.length>=120)?new rE(a&&h):r}h=e[0];var d=-1,f=u[0];t:for(;++d<s&&l.length<c;){var p=h[d],g=t?t(p):p;if(p=n||0!==p?p:0,!(f?tD(f,g):i(l,g,n))){for(a=o;--a;){var y=u[a];if(!(y?tD(y,g):i(e[a],g,n)))continue t}f&&f.push(g),l.push(p)}}return l}function r2(e,t,n){t=nP(t,e);var i=null==(e=iR(e,t))?e:e[iB(iZ(t))];return null==i?r:ts(i,e,n)}function r3(e){return sW(e)&&rZ(e)==c}function r5(e,t,n,i,s){return e===t||(null!=e&&null!=t&&(sW(e)||sW(t))?function(e,t,n,i,s,o){var a=sM(e),u=sM(t),p=a?l:iv(e),g=u?l:iv(t);p=p==c?m:p,g=g==c?m:g;var b=p==m,I=g==m,O=p==g;if(O&&sq(e)){if(!sq(t))return!1;a=!0,b=!1}if(O&&!b)return o||(o=new rS),a||s0(e)?ir(e,t,n,i,s,o):function(e,t,r,n,i,s,o){switch(r){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!s(new eF(e),new eF(t)));case h:case d:case v:return sP(+e,+t);case f:return e.name==t.name&&e.message==t.message;case _:case E:return e==t+"";case y:var a=tq;case w:var u=1&n;if(a||(a=t$),e.size!=t.size&&!u)break;var c=o.get(e);if(c)return c==t;n|=2,o.set(e,t);var l=ir(a(e),a(t),n,i,s,o);return o.delete(e),l;case S:if(rd)return rd.call(e)==rd.call(t)}return!1}(e,t,p,n,i,s,o);if(!(1&n)){var x=b&&eD.call(e,"__wrapped__"),R=I&&eD.call(t,"__wrapped__");if(x||R){var A=x?e.value():e,P=R?t.value():t;return o||(o=new rS),s(A,P,n,i,o)}}return!!O&&(o||(o=new rS),function(e,t,n,i,s,o){var a=1&n,u=is(e),c=u.length;if(c!=is(t).length&&!a)return!1;for(var l=c;l--;){var h=u[l];if(!(a?h in t:eD.call(t,h)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var g=a;++l<c;){var y=e[h=u[l]],v=t[h];if(i)var m=a?i(v,y,h,t,e,o):i(y,v,h,e,t,o);if(!(m===r?y===v||s(y,v,n,i,o):m)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,i,s,o))}(e,t,n,i,r5,s):e!=e&&t!=t)}function r6(e,t,n,i){var s=n.length,o=s,a=!i;if(null==e)return!o;for(e=eS(e);s--;){var u=n[s];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<o;){var c=(u=n[s])[0],l=e[c],h=u[1];if(a&&u[2]){if(l===r&&!(c in e))return!1}else{var d=new rS;if(i)var f=i(l,h,c,e,t,d);if(!(f===r?r5(h,l,3,i,d):f))return!1}}return!0}function r4(e){return!(!sV(e)||eT&&eT in e)&&(s$(e)?eB:ec).test(iq(e))}function r8(e){return"function"==typeof e?e:null==e?oB:"object"==typeof e?sM(e)?nr(e[0],e[1]):nt(e):oK(e)}function r9(e){if(!iC(e))return t1(e);var t=[];for(var r in eS(e))eD.call(e,r)&&"constructor"!=r&&t.push(r);return t}function r7(e,t){return e<t}function ne(e,t){var r=-1,n=sj(e)?em(e.length):[];return rB(e,function(e,i,s){n[++r]=t(e,i,s)}),n}function nt(e){var t=id(e);return 1==t.length&&t[0][2]?iO(t[0][0],t[0][1]):function(r){return r===e||r6(r,e,t)}}function nr(e,t){var n;return iS(e)&&(n=t)==n&&!sV(n)?iO(iB(e),t):function(n){var i=oa(n,e);return i===r&&i===t?ou(n,e):r5(t,i,3)}}function nn(e,t,n,i,s){e!==t&&rz(t,function(o,a){if(s||(s=new rS),sV(o))!function(e,t,n,i,s,o,a){var u=iA(e,n),c=iA(t,n),l=a.get(c);if(l){rC(e,n,l);return}var h=o?o(u,c,n+"",e,t,a):r,d=h===r;if(d){var f=sM(c),p=!f&&sq(c),g=!f&&!p&&s0(c);h=c,f||p||g?sM(u)?h=u:sB(u)?h=nU(u):p?(d=!1,h=nT(c,!0)):g?(d=!1,h=nL(c,!0)):h=[]:sQ(c)||sT(c)?(h=u,sT(u)?h=s9(u):(!sV(u)||s$(u))&&(h=ib(c))):d=!1}d&&(a.set(c,h),s(h,c,i,o,a),a.delete(c)),rC(e,n,h)}(e,t,a,n,nn,i,s);else{var u=i?i(iA(e,a),o,a+"",e,t,s):r;u===r&&(u=o),rC(e,a,u)}},of)}function ni(e,t){var n=e.length;if(n)return iw(t+=t<0?n:0,n)?e[t]:r}function ns(e,t,r){t=t.length?td(t,function(e){return sM(e)?function(t){return rQ(t,1===e.length?e[0]:e)}:e}):[oB];var n=-1;return t=td(t,tA(il())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(ne(e,function(e,r,i){return{criteria:td(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,a=r.length;++n<o;){var u=nj(i[n],s[n]);if(u){if(n>=a)return u;return u*("desc"==r[n]?-1:1)}}return e.index-t.index}(e,t,r)})}function no(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var o=t[n],a=rQ(e,o);r(a,o)&&nd(s,nP(o,e),a)}return s}function na(e,t,r,n){var i=n?tw:t_,s=-1,o=t.length,a=e;for(e===t&&(t=nU(t)),r&&(a=td(e,tA(r)));++s<o;)for(var u=0,c=t[s],l=r?r(c):c;(u=i(a,l,u,n))>-1;)a!==e&&e2.call(a,u,1),e2.call(e,u,1);return e}function nu(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==s){var s=i;iw(i)?e2.call(e,i,1):nS(e,i)}}return e}function nc(e,t){return e+tJ(t4()*(t-e+1))}function nl(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do t%2&&(r+=e),(t=tJ(t/2))&&(e+=e);while(t);return r}function nh(e,t){return iN(ix(e,t,oB),e+"")}function nd(e,t,n,i){if(!sV(e))return e;t=nP(t,e);for(var s=-1,o=t.length,a=o-1,u=e;null!=u&&++s<o;){var c=iB(t[s]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)break;if(s!=a){var h=u[c];(l=i?i(h,c,u):r)===r&&(l=sV(h)?h:iw(t[s+1])?[]:{})}rO(u,c,l),u=u[c]}return e}var nf=ri?function(e,t){return ri.set(e,t),e}:oB,np=e9?function(e,t){return e9(e,"toString",{configurable:!0,enumerable:!1,value:oM(t),writable:!0})}:oB;function ng(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=em(i);++n<i;)s[n]=e[n+t];return s}function ny(e,t){var r;return rB(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function nv(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var s=n+i>>>1,o=e[s];null!==o&&!sX(o)&&(r?o<=t:o<t)?n=s+1:i=s}return i}return nm(e,t,oB,r)}function nm(e,t,n,i){var s=0,o=null==e?0:e.length;if(0===o)return 0;t=n(t);for(var a=t!=t,u=null===t,c=sX(t),l=t===r;s<o;){var h=tJ((s+o)/2),d=n(e[h]),f=d!==r,p=null===d,g=d==d,y=sX(d);if(a)var v=i||g;else v=l?g&&(i||f):u?g&&f&&(i||!p):c?g&&f&&!p&&(i||!y):!p&&!y&&(i?d<=t:d<t);v?s=h+1:o=h}return t3(o,4294967294)}function nb(e,t){for(var r=-1,n=e.length,i=0,s=[];++r<n;){var o=e[r],a=t?t(o):o;if(!r||!sP(a,u)){var u=a;s[i++]=0===o?0:o}}return s}function n_(e){return"number"==typeof e?e:sX(e)?a:+e}function nw(e){if("string"==typeof e)return e;if(sM(e))return td(e,nw)+"";if(sX(e))return rf?rf.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}function nE(e,t,r){var n=-1,i=tl,s=e.length,o=!0,a=[],u=a;if(r)o=!1,i=th;else if(s>=200){var c=t?null:n4(e);if(c)return t$(c);o=!1,i=tD,u=new rE}else u=t?[]:a;t:for(;++n<s;){var l=e[n],h=t?t(l):l;if(l=r||0!==l?l:0,o&&h==h){for(var d=u.length;d--;)if(u[d]===h)continue t;t&&u.push(h),a.push(l)}else i(u,h,r)||(u!==a&&u.push(h),a.push(l))}return a}function nS(e,t){return t=nP(t,e),null==(e=iR(e,t))||delete e[iB(iZ(t))]}function nI(e,t,r,n){return nd(e,t,r(rQ(e,t)),n)}function nk(e,t,r,n){for(var i=e.length,s=n?i:-1;(n?s--:++s<i)&&t(e[s],s,e););return r?ng(e,n?0:s,n?s+1:i):ng(e,n?s+1:0,n?i:s)}function nC(e,t){var r=e;return r instanceof rm&&(r=r.value()),tp(t,function(e,t){return t.func.apply(t.thisArg,tf([e],t.args))},r)}function nO(e,t,r){var n=e.length;if(n<2)return n?nE(e[0]):[];for(var i=-1,s=em(n);++i<n;)for(var o=e[i],a=-1;++a<n;)a!=i&&(s[i]=rj(s[i]||o,e[a],t,r));return nE(rH(s,1),t,r)}function nx(e,t,n){for(var i=-1,s=e.length,o=t.length,a={};++i<s;){var u=i<o?t[i]:r;n(a,e[i],u)}return a}function nR(e){return sB(e)?e:[]}function nA(e){return"function"==typeof e?e:oB}function nP(e,t){return sM(e)?e:iS(e,t)?[e]:ij(s7(e))}function nD(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ng(e,t,n)}var nN=tv||function(e){return e3.clearTimeout(e)};function nT(e,t){if(t)return e.slice();var r=e.length,n=ez?ez(r):new e.constructor(r);return e.copy(n),n}function nM(e){var t=new e.constructor(e.byteLength);return new eF(t).set(new eF(e)),t}function nL(e,t){var r=t?nM(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function nj(e,t){if(e!==t){var n=e!==r,i=null===e,s=e==e,o=sX(e),a=t!==r,u=null===t,c=t==t,l=sX(t);if(!u&&!l&&!o&&e>t||o&&a&&c&&!u&&!l||i&&a&&c||!n&&c||!s)return 1;if(!i&&!o&&!l&&e<t||l&&n&&s&&!i&&!o||u&&n&&s||!a&&s||!c)return -1}return 0}function nB(e,t,r,n){for(var i=-1,s=e.length,o=r.length,a=-1,u=t.length,c=t2(s-o,0),l=em(u+c),h=!n;++a<u;)l[a]=t[a];for(;++i<o;)(h||i<s)&&(l[r[i]]=e[i]);for(;c--;)l[a++]=e[i++];return l}function nq(e,t,r,n){for(var i=-1,s=e.length,o=-1,a=r.length,u=-1,c=t.length,l=t2(s-a,0),h=em(l+c),d=!n;++i<l;)h[i]=e[i];for(var f=i;++u<c;)h[f+u]=t[u];for(;++o<a;)(d||i<s)&&(h[f+r[o]]=e[i++]);return h}function nU(e,t){var r=-1,n=e.length;for(t||(t=em(n));++r<n;)t[r]=e[r];return t}function nF(e,t,n,i){var s=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var u=t[o],c=i?i(n[u],e[u],u,n,e):r;c===r&&(c=e[u]),s?rP(n,u,c):rO(n,u,c)}return n}function n$(e,t){return function(r,n){var i=sM(r)?to:rR,s=t?t():{};return i(r,e,il(n,2),s)}}function nH(e){return nh(function(t,n){var i=-1,s=n.length,o=s>1?n[s-1]:r,a=s>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(s--,o):r,a&&iE(n[0],n[1],a)&&(o=s<3?r:o,s=1),t=eS(t);++i<s;){var u=n[i];u&&e(t,u,i,o)}return t})}function nz(e,t){return function(r,n){if(null==r)return r;if(!sj(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=eS(r);(t?s--:++s<i)&&!1!==n(o[s],s,o););return r}}function nV(e){return function(t,r,n){for(var i=-1,s=eS(t),o=n(t),a=o.length;a--;){var u=o[e?a:++i];if(!1===r(s[u],u,s))break}return t}}function nW(e){return function(t){var n=tB(t=s7(t))?tz(t):r,i=n?n[0]:t.charAt(0),s=n?nD(n,1).join(""):t.slice(1);return i[e]()+s}}function nK(e){return function(t){return tp(oD(oI(t).replace(e$,"")),e,"")}}function nG(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=rg(e.prototype),n=e.apply(r,t);return sV(n)?n:r}}function nQ(e){return function(t,n,i){var s=eS(t);if(!sj(t)){var o=il(n,3);t=od(t),n=function(e){return o(s[e],e,s)}}var a=e(t,n,i);return a>-1?s[o?t[a]:a]:r}}function nJ(e){return ii(function(t){var i=t.length,s=i,o=rv.prototype.thru;for(e&&t.reverse();s--;){var a=t[s];if("function"!=typeof a)throw new eC(n);if(o&&!u&&"wrapper"==iu(a))var u=new rv([],!0)}for(s=u?s:i;++s<i;){var c=iu(a=t[s]),l="wrapper"==c?ia(a):r;u=l&&iI(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[iu(l[0])].apply(u,l[3]):1==a.length&&iI(a)?u[c]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&sM(r))return u.plant(r).value();for(var n=0,s=i?t[n].apply(this,e):r;++n<i;)s=t[n].call(this,s);return s}})}function nZ(e,t,n,i,s,o,a,u,c,l){var h=128&t,d=1&t,f=2&t,p=24&t,g=512&t,y=f?r:nG(e);return function v(){for(var m=arguments.length,b=em(m),_=m;_--;)b[_]=arguments[_];if(p)var w=ic(v),E=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(b,w);if(i&&(b=nB(b,i,s,p)),o&&(b=nq(b,o,a,p)),m-=E,p&&m<l){var S=tF(b,w);return n5(e,t,nZ,v.placeholder,n,b,S,u,c,l-m)}var I=d?n:this,k=f?I[e]:e;return m=b.length,u?b=function(e,t){for(var n=e.length,i=t3(t.length,n),s=nU(e);i--;){var o=t[i];e[i]=iw(o,n)?s[o]:r}return e}(b,u):g&&m>1&&b.reverse(),h&&c<m&&(b.length=c),this&&this!==e3&&this instanceof v&&(k=y||nG(k)),k.apply(I,b)}}function nY(e,t){return function(r,n){var i,s;return i=t(n),s={},rW(r,function(t,r,n){e(s,i(t),r,n)}),s}}function nX(e,t){return function(n,i){var s;if(n===r&&i===r)return t;if(n!==r&&(s=n),i!==r){if(s===r)return i;"string"==typeof n||"string"==typeof i?(n=nw(n),i=nw(i)):(n=n_(n),i=n_(i)),s=e(n,i)}return s}}function n0(e){return ii(function(t){return t=td(t,tA(il())),nh(function(r){var n=this;return e(t,function(e){return ts(e,n,r)})})})}function n1(e,t){var n=(t=t===r?" ":nw(t)).length;if(n<2)return n?nl(t,e):t;var i=nl(t,tQ(e/tH(t)));return tB(t)?nD(tz(i),0,e).join(""):i.slice(0,e)}function n2(e){return function(t,n,i){return i&&"number"!=typeof i&&iE(t,n,i)&&(n=i=r),t=s5(t),n===r?(n=t,t=0):n=s5(n),i=i===r?t<n?1:-1:s5(i),function(e,t,r,n){for(var i=-1,s=t2(tQ((t-e)/(r||1)),0),o=em(s);s--;)o[n?s:++i]=e,e+=r;return o}(t,n,i,e)}}function n3(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=s8(t),r=s8(r)),e(t,r)}}function n5(e,t,n,i,s,o,a,u,c,l){var h=8&t,d=h?a:r,f=h?r:a,p=h?o:r,g=h?r:o;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var y=[e,t,s,p,d,g,f,u,c,l],v=n.apply(r,y);return iI(e)&&iP(v,y),v.placeholder=i,iT(v,e,t)}function n6(e){var t=eE[e];return function(e,r){if(e=s8(e),(r=null==r?0:t3(s6(r),292))&&tX(e)){var n=(s7(e)+"e").split("e");return+((n=(s7(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var n4=rt&&1/t$(new rt([,-0]))[1]==o?function(e){return new rt(e)}:oH;function n8(e){return function(t){var r,n,i=iv(t);return i==y?tq(t):i==w?(r=-1,n=Array(t.size),t.forEach(function(e){n[++r]=[e,e]}),n):td(e(t),function(e){return[e,t[e]]})}}function n9(e,t,i,o,a,u,c,l){var h=2&t;if(!h&&"function"!=typeof e)throw new eC(n);var d=o?o.length:0;if(d||(t&=-97,o=a=r),c=c===r?c:t2(s6(c),0),l=l===r?l:s6(l),d-=a?a.length:0,64&t){var f=o,p=a;o=a=r}var g=h?r:ia(e),y=[e,t,i,o,a,f,p,u,c,l];if(g&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,a=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(o||a){1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?nB(c,u,t[4]):u,e[4]=c?tF(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?nq(c,u,t[6]):u,e[6]=c?tF(e[5],s):t[6]),(u=t[7])&&(e[7]=u),128&n&&(e[8]=null==e[8]?t[8]:t3(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}}(y,g),e=y[0],t=y[1],i=y[2],o=y[3],a=y[4],(l=y[9]=y[9]===r?h?0:e.length:t2(y[9]-d,0))||!(24&t)||(t&=-25),t&&1!=t)8==t||16==t?(v=e,m=t,b=l,_=nG(v),D=function e(){for(var t=arguments.length,n=em(t),i=t,s=ic(e);i--;)n[i]=arguments[i];var o=t<3&&n[0]!==s&&n[t-1]!==s?[]:tF(n,s);return(t-=o.length)<b?n5(v,m,nZ,e.placeholder,r,n,o,r,r,b-t):ts(this&&this!==e3&&this instanceof e?_:v,this,n)}):32!=t&&33!=t||a.length?D=nZ.apply(r,y):(w=e,E=t,S=i,I=o,k=1&E,C=nG(w),D=function e(){for(var t=-1,r=arguments.length,n=-1,i=I.length,s=em(i+r),o=this&&this!==e3&&this instanceof e?C:w;++n<i;)s[n]=I[n];for(;r--;)s[n++]=arguments[++t];return ts(o,k?S:this,s)});else var v,m,b,_,w,E,S,I,k,C,O,x,R,A,P,D=(O=e,x=t,R=i,A=1&x,P=nG(O),function e(){return(this&&this!==e3&&this instanceof e?P:O).apply(A?R:this,arguments)});return iT((g?nf:iP)(D,y),e,t)}function n7(e,t,n,i){return e===r||sP(e,eR[n])&&!eD.call(i,n)?t:e}function ie(e,t,n,i,s,o){return sV(e)&&sV(t)&&(o.set(t,e),nn(e,t,r,ie,o),o.delete(t)),e}function it(e){return sQ(e)?r:e}function ir(e,t,n,i,s,o){var a=1&n,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=o.get(e),h=o.get(t);if(l&&h)return l==t&&h==e;var d=-1,f=!0,p=2&n?new rE:r;for(o.set(e,t),o.set(t,e);++d<u;){var g=e[d],y=t[d];if(i)var v=a?i(y,g,d,t,e,o):i(g,y,d,e,t,o);if(v!==r){if(v)continue;f=!1;break}if(p){if(!ty(t,function(e,t){if(!tD(p,t)&&(g===e||s(g,e,n,i,o)))return p.push(t)})){f=!1;break}}else if(!(g===y||s(g,y,n,i,o))){f=!1;break}}return o.delete(e),o.delete(t),f}function ii(e){return iN(ix(e,r,iW),e+"")}function is(e){return rJ(e,od,ig)}function io(e){return rJ(e,of,iy)}var ia=ri?function(e){return ri.get(e)}:oH;function iu(e){for(var t=e.name+"",r=rs[t],n=eD.call(rs,t)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==e)return i.name}return t}function ic(e){return(eD.call(rp,"placeholder")?rp:e).placeholder}function il(){var e=rp.iteratee||oq;return e=e===oq?r8:e,arguments.length?e(arguments[0],arguments[1]):e}function ih(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function id(e){for(var t=od(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,i==i&&!sV(i)]}return t}function ip(e,t){var n=null==e?r:e[t];return r4(n)?n:r}var ig=tZ?function(e){return null==e?[]:tc(tZ(e=eS(e)),function(t){return e1.call(e,t)})}:oJ,iy=tZ?function(e){for(var t=[];e;)tf(t,ig(e)),e=eW(e);return t}:oJ,iv=rZ;function im(e,t,r){t=nP(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=iB(t[n]);if(!(s=null!=e&&r(e,o)))break;e=e[o]}return s||++n!=i?s:!!(i=null==e?0:e.length)&&sz(i)&&iw(o,i)&&(sM(e)||sT(e))}function ib(e){return"function"!=typeof e.constructor||iC(e)?{}:rg(eW(e))}function i_(e){return sM(e)||sT(e)||!!(e5&&e&&e[e5])}function iw(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&eh.test(e))&&e>-1&&e%1==0&&e<t}function iE(e,t,r){if(!sV(r))return!1;var n=typeof t;return("number"==n?!!(sj(r)&&iw(t,r.length)):"string"==n&&t in r)&&sP(r[t],e)}function iS(e,t){if(sM(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||sX(e))||K.test(e)||!W.test(e)||null!=t&&e in eS(t)}function iI(e){var t=iu(e),r=rp[t];if("function"!=typeof r||!(t in rm.prototype))return!1;if(e===r)return!0;var n=ia(r);return!!n&&e===n[0]}(t9&&iv(new t9(new ArrayBuffer(1)))!=C||t7&&iv(new t7)!=y||re&&iv(re.resolve())!=b||rt&&iv(new rt)!=w||rr&&iv(new rr)!=I)&&(iv=function(e){var t=rZ(e),n=t==m?e.constructor:r,i=n?iq(n):"";if(i)switch(i){case ro:return C;case ra:return y;case ru:return b;case rc:return w;case rl:return I}return t});var ik=eA?s$:oZ;function iC(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eR)}function iO(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in eS(n))}}function ix(e,t,n){return t=t2(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=t2(r.length-t,0),o=em(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=em(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),ts(e,this,a)}}function iR(e,t){return t.length<2?e:rQ(e,ng(t,0,-1))}function iA(e,t){if(!("constructor"===t&&"function"==typeof e[t])&&"__proto__"!=t)return e[t]}var iP=iM(nf),iD=tG||function(e,t){return e3.setTimeout(e,t)},iN=iM(np);function iT(e,t,r){var n,i,s=t+"";return iN(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(X,`{
/* [wrapped with `+t+`] */
`)}(s,(n=(i=s.match(ee))?i[1].split(et):[],ta(u,function(e){var t="_."+e[0];r&e[1]&&!tl(n,t)&&n.push(t)}),n.sort())))}function iM(e){var t=0,n=0;return function(){var i=t5(),s=16-(i-n);if(n=i,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function iL(e,t){var n=-1,i=e.length,s=i-1;for(t=t===r?i:t;++n<t;){var o=nc(n,s),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var ij=(ey=(eg=sk(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(G,function(e,r,n,i){t.push(n?i.replace(ei,"$1"):r||e)}),t},function(e){return 500===ey.size&&ey.clear(),e})).cache,eg);function iB(e){if("string"==typeof e||sX(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function iq(e){if(null!=e){try{return eP.call(e)}catch{}try{return e+""}catch{}}return""}function iU(e){if(e instanceof rm)return e.clone();var t=new rv(e.__wrapped__,e.__chain__);return t.__actions__=nU(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var iF=nh(function(e,t){return sB(e)?rj(e,rH(t,1,sB,!0)):[]}),i$=nh(function(e,t){var n=iZ(t);return sB(n)&&(n=r),sB(e)?rj(e,rH(t,1,sB,!0),il(n,2)):[]}),iH=nh(function(e,t){var n=iZ(t);return sB(n)&&(n=r),sB(e)?rj(e,rH(t,1,sB,!0),r,n):[]});function iz(e,t,r){var n=null==e?0:e.length;if(!n)return -1;var i=null==r?0:s6(r);return i<0&&(i=t2(n+i,0)),tb(e,il(t,3),i)}function iV(e,t,n){var i=null==e?0:e.length;if(!i)return -1;var s=i-1;return n!==r&&(s=s6(n),s=n<0?t2(i+s,0):t3(s,i-1)),tb(e,il(t,3),s,!0)}function iW(e){return(null==e?0:e.length)?rH(e,1):[]}function iK(e){return e&&e.length?e[0]:r}var iG=nh(function(e){var t=td(e,nR);return t.length&&t[0]===e[0]?r1(t):[]}),iQ=nh(function(e){var t=iZ(e),n=td(e,nR);return t===iZ(n)?t=r:n.pop(),n.length&&n[0]===e[0]?r1(n,il(t,2)):[]}),iJ=nh(function(e){var t=iZ(e),n=td(e,nR);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?r1(n,r,t):[]});function iZ(e){var t=null==e?0:e.length;return t?e[t-1]:r}var iY=nh(iX);function iX(e,t){return e&&e.length&&t&&t.length?na(e,t):e}var i0=ii(function(e,t){var r=null==e?0:e.length,n=rD(e,t);return nu(e,td(t,function(e){return iw(e,r)?+e:e}).sort(nj)),n});function i1(e){return null==e?e:t8.call(e)}var i2=nh(function(e){return nE(rH(e,1,sB,!0))}),i3=nh(function(e){var t=iZ(e);return sB(t)&&(t=r),nE(rH(e,1,sB,!0),il(t,2))}),i5=nh(function(e){var t=iZ(e);return t="function"==typeof t?t:r,nE(rH(e,1,sB,!0),r,t)});function i6(e){if(!(e&&e.length))return[];var t=0;return e=tc(e,function(e){if(sB(e))return t=t2(e.length,t),!0}),tx(t,function(t){return td(e,tI(t))})}function i4(e,t){if(!(e&&e.length))return[];var n=i6(e);return null==t?n:td(n,function(e){return ts(t,r,e)})}var i8=nh(function(e,t){return sB(e)?rj(e,t):[]}),i9=nh(function(e){return nO(tc(e,sB))}),i7=nh(function(e){var t=iZ(e);return sB(t)&&(t=r),nO(tc(e,sB),il(t,2))}),se=nh(function(e){var t=iZ(e);return t="function"==typeof t?t:r,nO(tc(e,sB),r,t)}),st=nh(i6),sr=nh(function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,i4(e,n)});function sn(e){var t=rp(e);return t.__chain__=!0,t}function si(e,t){return t(e)}var ss=ii(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,s=function(t){return rD(t,e)};return!(t>1)&&!this.__actions__.length&&i instanceof rm&&iw(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:si,args:[s],thisArg:r}),new rv(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(s)}),so=n$(function(e,t,r){eD.call(e,r)?++e[r]:rP(e,r,1)}),sa=nQ(iz),su=nQ(iV);function sc(e,t){return(sM(e)?ta:rB)(e,il(t,3))}function sl(e,t){return(sM(e)?function(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}:rq)(e,il(t,3))}var sh=n$(function(e,t,r){eD.call(e,r)?e[r].push(t):rP(e,r,[t])}),sd=nh(function(e,t,r){var n=-1,i="function"==typeof t,s=sj(e)?em(e.length):[];return rB(e,function(e){s[++n]=i?ts(t,e,r):r2(e,t,r)}),s}),sf=n$(function(e,t,r){rP(e,r,t)});function sp(e,t){return(sM(e)?td:ne)(e,il(t,3))}var sg=n$(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),sy=nh(function(e,t){if(null==e)return[];var r=t.length;return r>1&&iE(e,t[0],t[1])?t=[]:r>2&&iE(t[0],t[1],t[2])&&(t=[t[0]]),ns(e,rH(t,1),[])}),sv=tk||function(){return e3.Date.now()};function sm(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,n9(e,128,r,r,r,r,t)}function sb(e,t){var i;if("function"!=typeof t)throw new eC(n);return e=s6(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var s_=nh(function(e,t,r){var n=1;if(r.length){var i=tF(r,ic(s_));n|=32}return n9(e,n,t,r,i)}),sw=nh(function(e,t,r){var n=3;if(r.length){var i=tF(r,ic(sw));n|=32}return n9(t,n,e,r,i)});function sE(e,t,i){var s,o,a,u,c,l,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new eC(n);function g(t){var n=s,i=o;return s=o=r,h=t,u=e.apply(i,n)}function y(e){var n=e-l,i=e-h;return l===r||n>=t||n<0||f&&i>=a}function v(){var e,r,n,i=sv();if(y(i))return m(i);c=iD(v,(e=i-l,r=i-h,n=t-e,f?t3(n,a-r):n))}function m(e){return c=r,p&&s?g(e):(s=o=r,u)}function b(){var e,n=sv(),i=y(n);if(s=arguments,o=this,l=n,i){if(c===r)return h=e=l,c=iD(v,t),d?g(e):u;if(f)return nN(c),c=iD(v,t),g(l)}return c===r&&(c=iD(v,t)),u}return t=s8(t)||0,sV(i)&&(d=!!i.leading,a=(f="maxWait"in i)?t2(s8(i.maxWait)||0,t):a,p="trailing"in i?!!i.trailing:p),b.cancel=function(){c!==r&&nN(c),h=0,s=l=o=c=r},b.flush=function(){return c===r?u:m(sv())},b}var sS=nh(function(e,t){return rL(e,1,t)}),sI=nh(function(e,t,r){return rL(e,s8(t)||0,r)});function sk(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new eC(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(sk.Cache||rw),r}function sC(e){if("function"!=typeof e)throw new eC(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}sk.Cache=rw;var sO=nh(function(e,t){var r=(t=1==t.length&&sM(t[0])?td(t[0],tA(il())):td(rH(t,1),tA(il()))).length;return nh(function(n){for(var i=-1,s=t3(n.length,r);++i<s;)n[i]=t[i].call(this,n[i]);return ts(e,this,n)})}),sx=nh(function(e,t){var n=tF(t,ic(sx));return n9(e,32,r,t,n)}),sR=nh(function(e,t){var n=tF(t,ic(sR));return n9(e,64,r,t,n)}),sA=ii(function(e,t){return n9(e,256,r,r,r,t)});function sP(e,t){return e===t||e!=e&&t!=t}var sD=n3(rY),sN=n3(function(e,t){return e>=t}),sT=r3(function(){return arguments}())?r3:function(e){return sW(e)&&eD.call(e,"callee")&&!e1.call(e,"callee")},sM=em.isArray,sL=e7?tA(e7):function(e){return sW(e)&&rZ(e)==k};function sj(e){return null!=e&&sz(e.length)&&!s$(e)}function sB(e){return sW(e)&&sj(e)}var sq=tY||oZ,sU=te?tA(te):function(e){return sW(e)&&rZ(e)==d};function sF(e){if(!sW(e))return!1;var t=rZ(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!sQ(e)}function s$(e){if(!sV(e))return!1;var t=rZ(e);return t==p||t==g||"[object AsyncFunction]"==t||"[object Proxy]"==t}function sH(e){return"number"==typeof e&&e==s6(e)}function sz(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function sV(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function sW(e){return null!=e&&"object"==typeof e}var sK=tt?tA(tt):function(e){return sW(e)&&iv(e)==y};function sG(e){return"number"==typeof e||sW(e)&&rZ(e)==v}function sQ(e){if(!sW(e)||rZ(e)!=m)return!1;var t=eW(e);if(null===t)return!0;var r=eD.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&eP.call(r)==eL}var sJ=tr?tA(tr):function(e){return sW(e)&&rZ(e)==_},sZ=tn?tA(tn):function(e){return sW(e)&&iv(e)==w};function sY(e){return"string"==typeof e||!sM(e)&&sW(e)&&rZ(e)==E}function sX(e){return"symbol"==typeof e||sW(e)&&rZ(e)==S}var s0=ti?tA(ti):function(e){return sW(e)&&sz(e.length)&&!!eJ[rZ(e)]},s1=n3(r7),s2=n3(function(e,t){return e<=t});function s3(e){if(!e)return[];if(sj(e))return sY(e)?tz(e):nU(e);if(e6&&e[e6])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[e6]());var t=iv(e);return(t==y?tq:t==w?t$:ow)(e)}function s5(e){return e?(e=s8(e))===o||e===-o?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function s6(e){var t=s5(e),r=t%1;return t==t?r?t-r:t:0}function s4(e){return e?rN(s6(e),0,4294967295):0}function s8(e){if("number"==typeof e)return e;if(sX(e))return a;if(sV(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=sV(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tR(e);var r=eu.test(e);return r||el.test(e)?e0(e.slice(2),r?2:8):ea.test(e)?a:+e}function s9(e){return nF(e,of(e))}function s7(e){return null==e?"":nw(e)}var oe=nH(function(e,t){if(iC(t)||sj(t)){nF(t,od(t),e);return}for(var r in t)eD.call(t,r)&&rO(e,r,t[r])}),ot=nH(function(e,t){nF(t,of(t),e)}),or=nH(function(e,t,r,n){nF(t,of(t),e,n)}),on=nH(function(e,t,r,n){nF(t,od(t),e,n)}),oi=ii(rD),os=nh(function(e,t){e=eS(e);var n=-1,i=t.length,s=i>2?t[2]:r;for(s&&iE(t[0],t[1],s)&&(i=1);++n<i;)for(var o=t[n],a=of(o),u=-1,c=a.length;++u<c;){var l=a[u],h=e[l];(h===r||sP(h,eR[l])&&!eD.call(e,l))&&(e[l]=o[l])}return e}),oo=nh(function(e){return e.push(r,ie),ts(og,r,e)});function oa(e,t,n){var i=null==e?r:rQ(e,t);return i===r?n:i}function ou(e,t){return null!=e&&im(e,t,r0)}var oc=nY(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=eM.call(t)),e[t]=r},oM(oB)),ol=nY(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=eM.call(t)),eD.call(e,t)?e[t].push(r):e[t]=[r]},il),oh=nh(r2);function od(e){return sj(e)?rI(e):r9(e)}function of(e){return sj(e)?rI(e,!0):function(e){if(!sV(e))return function(e){var t=[];if(null!=e)for(var r in eS(e))t.push(r);return t}(e);var t=iC(e),r=[];for(var n in e)"constructor"==n&&(t||!eD.call(e,n))||r.push(n);return r}(e)}var op=nH(function(e,t,r){nn(e,t,r)}),og=nH(function(e,t,r,n){nn(e,t,r,n)}),oy=ii(function(e,t){var r={};if(null==e)return r;var n=!1;t=td(t,function(t){return t=nP(t,e),n||(n=t.length>1),t}),nF(e,io(e),r),n&&(r=rT(r,7,it));for(var i=t.length;i--;)nS(r,t[i]);return r}),ov=ii(function(e,t){return null==e?{}:no(e,t,function(t,r){return ou(e,r)})});function om(e,t){if(null==e)return{};var r=td(io(e),function(e){return[e]});return t=il(t),no(e,r,function(e,r){return t(e,r[0])})}var ob=n8(od),o_=n8(of);function ow(e){return null==e?[]:tP(e,od(e))}var oE=nK(function(e,t,r){return t=t.toLowerCase(),e+(r?oS(t):t)});function oS(e){return oP(s7(e).toLowerCase())}function oI(e){return(e=s7(e))&&e.replace(ed,tM).replace(eH,"")}var ok=nK(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),oC=nK(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),oO=nW("toLowerCase"),ox=nK(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),oR=nK(function(e,t,r){return e+(r?" ":"")+oP(t)}),oA=nK(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),oP=nW("toUpperCase");function oD(e,t,n){var i;return e=s7(e),(t=n?r:t)===r?(i=e,eK.test(i))?e.match(eV)||[]:e.match(er)||[]:e.match(t)||[]}var oN=nh(function(e,t){try{return ts(e,r,t)}catch(e){return sF(e)?e:new e_(e)}}),oT=ii(function(e,t){return ta(t,function(t){rP(e,t=iB(t),s_(e[t],e))}),e});function oM(e){return function(){return e}}var oL=nJ(),oj=nJ(!0);function oB(e){return e}function oq(e){return r8("function"==typeof e?e:rT(e,1))}var oU=nh(function(e,t){return function(r){return r2(r,e,t)}}),oF=nh(function(e,t){return function(r){return r2(e,r,t)}});function o$(e,t,r){var n=od(t),i=rG(t,n);null!=r||sV(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=rG(t,od(t)));var s=!(sV(r)&&"chain"in r)||!!r.chain,o=s$(e);return ta(i,function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__);return(r.__actions__=nU(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,tf([this.value()],arguments))})}),e}function oH(){}var oz=n0(td),oV=n0(tu),oW=n0(ty);function oK(e){return iS(e)?tI(iB(e)):function(t){return rQ(t,e)}}var oG=n2(),oQ=n2(!0);function oJ(){return[]}function oZ(){return!1}var oY=nX(function(e,t){return e+t},0),oX=n6("ceil"),o0=nX(function(e,t){return e/t},1),o1=n6("floor"),o2=nX(function(e,t){return e*t},1),o3=n6("round"),o5=nX(function(e,t){return e-t},0);return rp.after=function(e,t){if("function"!=typeof t)throw new eC(n);return e=s6(e),function(){if(--e<1)return t.apply(this,arguments)}},rp.ary=sm,rp.assign=oe,rp.assignIn=ot,rp.assignInWith=or,rp.assignWith=on,rp.at=oi,rp.before=sb,rp.bind=s_,rp.bindAll=oT,rp.bindKey=sw,rp.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return sM(e)?e:[e]},rp.chain=sn,rp.chunk=function(e,t,n){t=(n?iE(e,t,n):t===r)?1:t2(s6(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,a=em(tQ(i/t));s<i;)a[o++]=ng(e,s,s+=t);return a},rp.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var s=e[t];s&&(i[n++]=s)}return i},rp.concat=function(){var e=arguments.length;if(!e)return[];for(var t=em(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return tf(sM(r)?nU(r):[r],rH(t,1))},rp.cond=function(e){var t=null==e?0:e.length,r=il();return e=t?td(e,function(e){if("function"!=typeof e[1])throw new eC(n);return[r(e[0]),e[1]]}):[],nh(function(r){for(var n=-1;++n<t;){var i=e[n];if(ts(i[0],this,r))return ts(i[1],this,r)}})},rp.conforms=function(e){var t,r;return r=od(t=rT(e,1)),function(e){return rM(e,t,r)}},rp.constant=oM,rp.countBy=so,rp.create=function(e,t){var r=rg(e);return null==t?r:rA(r,t)},rp.curry=function e(t,n,i){n=i?r:n;var s=n9(t,8,r,r,r,r,r,n);return s.placeholder=e.placeholder,s},rp.curryRight=function e(t,n,i){n=i?r:n;var s=n9(t,16,r,r,r,r,r,n);return s.placeholder=e.placeholder,s},rp.debounce=sE,rp.defaults=os,rp.defaultsDeep=oo,rp.defer=sS,rp.delay=sI,rp.difference=iF,rp.differenceBy=i$,rp.differenceWith=iH,rp.drop=function(e,t,n){var i=null==e?0:e.length;return i?ng(e,(t=n||t===r?1:s6(t))<0?0:t,i):[]},rp.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ng(e,0,(t=i-(t=n||t===r?1:s6(t)))<0?0:t):[]},rp.dropRightWhile=function(e,t){return e&&e.length?nk(e,il(t,3),!0,!0):[]},rp.dropWhile=function(e,t){return e&&e.length?nk(e,il(t,3),!0):[]},rp.fill=function(e,t,n,i){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&iE(e,t,n)&&(n=0,i=s),function(e,t,n,i){var s=e.length;for((n=s6(n))<0&&(n=-n>s?0:s+n),(i=i===r||i>s?s:s6(i))<0&&(i+=s),i=n>i?0:s4(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},rp.filter=function(e,t){return(sM(e)?tc:r$)(e,il(t,3))},rp.flatMap=function(e,t){return rH(sp(e,t),1)},rp.flatMapDeep=function(e,t){return rH(sp(e,t),o)},rp.flatMapDepth=function(e,t,n){return n=n===r?1:s6(n),rH(sp(e,t),n)},rp.flatten=iW,rp.flattenDeep=function(e){return(null==e?0:e.length)?rH(e,o):[]},rp.flattenDepth=function(e,t){return(null==e?0:e.length)?rH(e,t=t===r?1:s6(t)):[]},rp.flip=function(e){return n9(e,512)},rp.flow=oL,rp.flowRight=oj,rp.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},rp.functions=function(e){return null==e?[]:rG(e,od(e))},rp.functionsIn=function(e){return null==e?[]:rG(e,of(e))},rp.groupBy=sh,rp.initial=function(e){return(null==e?0:e.length)?ng(e,0,-1):[]},rp.intersection=iG,rp.intersectionBy=iQ,rp.intersectionWith=iJ,rp.invert=oc,rp.invertBy=ol,rp.invokeMap=sd,rp.iteratee=oq,rp.keyBy=sf,rp.keys=od,rp.keysIn=of,rp.map=sp,rp.mapKeys=function(e,t){var r={};return t=il(t,3),rW(e,function(e,n,i){rP(r,t(e,n,i),e)}),r},rp.mapValues=function(e,t){var r={};return t=il(t,3),rW(e,function(e,n,i){rP(r,n,t(e,n,i))}),r},rp.matches=function(e){return nt(rT(e,1))},rp.matchesProperty=function(e,t){return nr(e,rT(t,1))},rp.memoize=sk,rp.merge=op,rp.mergeWith=og,rp.method=oU,rp.methodOf=oF,rp.mixin=o$,rp.negate=sC,rp.nthArg=function(e){return e=s6(e),nh(function(t){return ni(t,e)})},rp.omit=oy,rp.omitBy=function(e,t){return om(e,sC(il(t)))},rp.once=function(e){return sb(2,e)},rp.orderBy=function(e,t,n,i){return null==e?[]:(sM(t)||(t=null==t?[]:[t]),sM(n=i?r:n)||(n=null==n?[]:[n]),ns(e,t,n))},rp.over=oz,rp.overArgs=sO,rp.overEvery=oV,rp.overSome=oW,rp.partial=sx,rp.partialRight=sR,rp.partition=sg,rp.pick=ov,rp.pickBy=om,rp.property=oK,rp.propertyOf=function(e){return function(t){return null==e?r:rQ(e,t)}},rp.pull=iY,rp.pullAll=iX,rp.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?na(e,t,il(r,2)):e},rp.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?na(e,t,r,n):e},rp.pullAt=i0,rp.range=oG,rp.rangeRight=oQ,rp.rearg=sA,rp.reject=function(e,t){return(sM(e)?tc:r$)(e,sC(il(t,3)))},rp.remove=function(e,t){var r=[];if(!(e&&e.length))return r;var n=-1,i=[],s=e.length;for(t=il(t,3);++n<s;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return nu(e,i),r},rp.rest=function(e,t){if("function"!=typeof e)throw new eC(n);return nh(e,t=t===r?t:s6(t))},rp.reverse=i1,rp.sampleSize=function(e,t,n){return t=(n?iE(e,t,n):t===r)?1:s6(t),(sM(e)?function(e,t){return iL(nU(e),rN(t,0,e.length))}:function(e,t){var r=ow(e);return iL(r,rN(t,0,r.length))})(e,t)},rp.set=function(e,t,r){return null==e?e:nd(e,t,r)},rp.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:nd(e,t,n,i)},rp.shuffle=function(e){return(sM(e)?function(e){return iL(nU(e))}:function(e){return iL(ow(e))})(e)},rp.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&iE(e,t,n)?(t=0,n=i):(t=null==t?0:s6(t),n=n===r?i:s6(n)),ng(e,t,n)):[]},rp.sortBy=sy,rp.sortedUniq=function(e){return e&&e.length?nb(e):[]},rp.sortedUniqBy=function(e,t){return e&&e.length?nb(e,il(t,2)):[]},rp.split=function(e,t,n){return n&&"number"!=typeof n&&iE(e,t,n)&&(t=n=r),(n=n===r?4294967295:n>>>0)?(e=s7(e))&&("string"==typeof t||null!=t&&!sJ(t))&&!(t=nw(t))&&tB(e)?nD(tz(e),0,n):e.split(t,n):[]},rp.spread=function(e,t){if("function"!=typeof e)throw new eC(n);return t=null==t?0:t2(s6(t),0),nh(function(r){var n=r[t],i=nD(r,0,t);return n&&tf(i,n),ts(e,this,i)})},rp.tail=function(e){var t=null==e?0:e.length;return t?ng(e,1,t):[]},rp.take=function(e,t,n){return e&&e.length?ng(e,0,(t=n||t===r?1:s6(t))<0?0:t):[]},rp.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ng(e,(t=i-(t=n||t===r?1:s6(t)))<0?0:t,i):[]},rp.takeRightWhile=function(e,t){return e&&e.length?nk(e,il(t,3),!1,!0):[]},rp.takeWhile=function(e,t){return e&&e.length?nk(e,il(t,3)):[]},rp.tap=function(e,t){return t(e),e},rp.throttle=function(e,t,r){var i=!0,s=!0;if("function"!=typeof e)throw new eC(n);return sV(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),sE(e,t,{leading:i,maxWait:t,trailing:s})},rp.thru=si,rp.toArray=s3,rp.toPairs=ob,rp.toPairsIn=o_,rp.toPath=function(e){return sM(e)?td(e,iB):sX(e)?[e]:nU(ij(s7(e)))},rp.toPlainObject=s9,rp.transform=function(e,t,r){var n=sM(e),i=n||sq(e)||s0(e);if(t=il(t,4),null==r){var s=e&&e.constructor;r=i?n?new s:[]:sV(e)&&s$(s)?rg(eW(e)):{}}return(i?ta:rW)(e,function(e,n,i){return t(r,e,n,i)}),r},rp.unary=function(e){return sm(e,1)},rp.union=i2,rp.unionBy=i3,rp.unionWith=i5,rp.uniq=function(e){return e&&e.length?nE(e):[]},rp.uniqBy=function(e,t){return e&&e.length?nE(e,il(t,2)):[]},rp.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?nE(e,r,t):[]},rp.unset=function(e,t){return null==e||nS(e,t)},rp.unzip=i6,rp.unzipWith=i4,rp.update=function(e,t,r){return null==e?e:nI(e,t,nA(r))},rp.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:nI(e,t,nA(n),i)},rp.values=ow,rp.valuesIn=function(e){return null==e?[]:tP(e,of(e))},rp.without=i8,rp.words=oD,rp.wrap=function(e,t){return sx(nA(t),e)},rp.xor=i9,rp.xorBy=i7,rp.xorWith=se,rp.zip=st,rp.zipObject=function(e,t){return nx(e||[],t||[],rO)},rp.zipObjectDeep=function(e,t){return nx(e||[],t||[],nd)},rp.zipWith=sr,rp.entries=ob,rp.entriesIn=o_,rp.extend=ot,rp.extendWith=or,o$(rp,rp),rp.add=oY,rp.attempt=oN,rp.camelCase=oE,rp.capitalize=oS,rp.ceil=oX,rp.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=s8(n))==n?n:0),t!==r&&(t=(t=s8(t))==t?t:0),rN(s8(e),t,n)},rp.clone=function(e){return rT(e,4)},rp.cloneDeep=function(e){return rT(e,5)},rp.cloneDeepWith=function(e,t){return rT(e,5,t="function"==typeof t?t:r)},rp.cloneWith=function(e,t){return rT(e,4,t="function"==typeof t?t:r)},rp.conformsTo=function(e,t){return null==t||rM(e,t,od(t))},rp.deburr=oI,rp.defaultTo=function(e,t){return null==e||e!=e?t:e},rp.divide=o0,rp.endsWith=function(e,t,n){e=s7(e),t=nw(t);var i=e.length,s=n=n===r?i:rN(s6(n),0,i);return(n-=t.length)>=0&&e.slice(n,s)==t},rp.eq=sP,rp.escape=function(e){return(e=s7(e))&&$.test(e)?e.replace(U,tL):e},rp.escapeRegExp=function(e){return(e=s7(e))&&J.test(e)?e.replace(Q,"\\$&"):e},rp.every=function(e,t,n){var i=sM(e)?tu:rU;return n&&iE(e,t,n)&&(t=r),i(e,il(t,3))},rp.find=sa,rp.findIndex=iz,rp.findKey=function(e,t){return tm(e,il(t,3),rW)},rp.findLast=su,rp.findLastIndex=iV,rp.findLastKey=function(e,t){return tm(e,il(t,3),rK)},rp.floor=o1,rp.forEach=sc,rp.forEachRight=sl,rp.forIn=function(e,t){return null==e?e:rz(e,il(t,3),of)},rp.forInRight=function(e,t){return null==e?e:rV(e,il(t,3),of)},rp.forOwn=function(e,t){return e&&rW(e,il(t,3))},rp.forOwnRight=function(e,t){return e&&rK(e,il(t,3))},rp.get=oa,rp.gt=sD,rp.gte=sN,rp.has=function(e,t){return null!=e&&im(e,t,rX)},rp.hasIn=ou,rp.head=iK,rp.identity=oB,rp.includes=function(e,t,r,n){e=sj(e)?e:ow(e),r=r&&!n?s6(r):0;var i=e.length;return r<0&&(r=t2(i+r,0)),sY(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&t_(e,t,r)>-1},rp.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return -1;var i=null==r?0:s6(r);return i<0&&(i=t2(n+i,0)),t_(e,t,i)},rp.inRange=function(e,t,n){var i,s,o;return t=s5(t),n===r?(n=t,t=0):n=s5(n),(i=e=s8(e))>=t3(s=t,o=n)&&i<t2(s,o)},rp.invoke=oh,rp.isArguments=sT,rp.isArray=sM,rp.isArrayBuffer=sL,rp.isArrayLike=sj,rp.isArrayLikeObject=sB,rp.isBoolean=function(e){return!0===e||!1===e||sW(e)&&rZ(e)==h},rp.isBuffer=sq,rp.isDate=sU,rp.isElement=function(e){return sW(e)&&1===e.nodeType&&!sQ(e)},rp.isEmpty=function(e){if(null==e)return!0;if(sj(e)&&(sM(e)||"string"==typeof e||"function"==typeof e.splice||sq(e)||s0(e)||sT(e)))return!e.length;var t=iv(e);if(t==y||t==w)return!e.size;if(iC(e))return!r9(e).length;for(var r in e)if(eD.call(e,r))return!1;return!0},rp.isEqual=function(e,t){return r5(e,t)},rp.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?r5(e,t,r,n):!!i},rp.isError=sF,rp.isFinite=function(e){return"number"==typeof e&&tX(e)},rp.isFunction=s$,rp.isInteger=sH,rp.isLength=sz,rp.isMap=sK,rp.isMatch=function(e,t){return e===t||r6(e,t,id(t))},rp.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,r6(e,t,id(t),n)},rp.isNaN=function(e){return sG(e)&&e!=+e},rp.isNative=function(e){if(ik(e))throw new e_("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return r4(e)},rp.isNil=function(e){return null==e},rp.isNull=function(e){return null===e},rp.isNumber=sG,rp.isObject=sV,rp.isObjectLike=sW,rp.isPlainObject=sQ,rp.isRegExp=sJ,rp.isSafeInteger=function(e){return sH(e)&&e>=-9007199254740991&&e<=9007199254740991},rp.isSet=sZ,rp.isString=sY,rp.isSymbol=sX,rp.isTypedArray=s0,rp.isUndefined=function(e){return e===r},rp.isWeakMap=function(e){return sW(e)&&iv(e)==I},rp.isWeakSet=function(e){return sW(e)&&"[object WeakSet]"==rZ(e)},rp.join=function(e,t){return null==e?"":t0.call(e,t)},rp.kebabCase=ok,rp.last=iZ,rp.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return -1;var s=i;return n!==r&&(s=(s=s6(n))<0?t2(i+s,0):t3(s,i-1)),t==t?function(e,t,r){for(var n=r+1;n--&&e[n]!==t;);return n}(e,t,s):tb(e,tE,s,!0)},rp.lowerCase=oC,rp.lowerFirst=oO,rp.lt=s1,rp.lte=s2,rp.max=function(e){return e&&e.length?rF(e,oB,rY):r},rp.maxBy=function(e,t){return e&&e.length?rF(e,il(t,2),rY):r},rp.mean=function(e){return tS(e,oB)},rp.meanBy=function(e,t){return tS(e,il(t,2))},rp.min=function(e){return e&&e.length?rF(e,oB,r7):r},rp.minBy=function(e,t){return e&&e.length?rF(e,il(t,2),r7):r},rp.stubArray=oJ,rp.stubFalse=oZ,rp.stubObject=function(){return{}},rp.stubString=function(){return""},rp.stubTrue=function(){return!0},rp.multiply=o2,rp.nth=function(e,t){return e&&e.length?ni(e,s6(t)):r},rp.noConflict=function(){return e3._===this&&(e3._=ej),this},rp.noop=oH,rp.now=sv,rp.pad=function(e,t,r){e=s7(e);var n=(t=s6(t))?tH(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return n1(tJ(i),r)+e+n1(tQ(i),r)},rp.padEnd=function(e,t,r){e=s7(e);var n=(t=s6(t))?tH(e):0;return t&&n<t?e+n1(t-n,r):e},rp.padStart=function(e,t,r){e=s7(e);var n=(t=s6(t))?tH(e):0;return t&&n<t?n1(t-n,r)+e:e},rp.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),t6(s7(e).replace(Z,""),t||0)},rp.random=function(e,t,n){if(n&&"boolean"!=typeof n&&iE(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=s5(e),t===r?(t=e,e=0):t=s5(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var s=t4();return t3(e+s*(t-e+eX("1e-"+((s+"").length-1))),t)}return nc(e,t)},rp.reduce=function(e,t,r){var n=sM(e)?tp:tC,i=arguments.length<3;return n(e,il(t,4),r,i,rB)},rp.reduceRight=function(e,t,r){var n=sM(e)?tg:tC,i=arguments.length<3;return n(e,il(t,4),r,i,rq)},rp.repeat=function(e,t,n){return t=(n?iE(e,t,n):t===r)?1:s6(t),nl(s7(e),t)},rp.replace=function(){var e=arguments,t=s7(e[0]);return e.length<3?t:t.replace(e[1],e[2])},rp.result=function(e,t,n){t=nP(t,e);var i=-1,s=t.length;for(s||(s=1,e=r);++i<s;){var o=null==e?r:e[iB(t[i])];o===r&&(i=s,o=n),e=s$(o)?o.call(e):o}return e},rp.round=o3,rp.runInContext=e,rp.sample=function(e){return(sM(e)?rk:function(e){return rk(ow(e))})(e)},rp.size=function(e){if(null==e)return 0;if(sj(e))return sY(e)?tH(e):e.length;var t=iv(e);return t==y||t==w?e.size:r9(e).length},rp.snakeCase=ox,rp.some=function(e,t,n){var i=sM(e)?ty:ny;return n&&iE(e,t,n)&&(t=r),i(e,il(t,3))},rp.sortedIndex=function(e,t){return nv(e,t)},rp.sortedIndexBy=function(e,t,r){return nm(e,t,il(r,2))},rp.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=nv(e,t);if(n<r&&sP(e[n],t))return n}return -1},rp.sortedLastIndex=function(e,t){return nv(e,t,!0)},rp.sortedLastIndexBy=function(e,t,r){return nm(e,t,il(r,2),!0)},rp.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=nv(e,t,!0)-1;if(sP(e[r],t))return r}return -1},rp.startCase=oR,rp.startsWith=function(e,t,r){return e=s7(e),r=null==r?0:rN(s6(r),0,e.length),t=nw(t),e.slice(r,r+t.length)==t},rp.subtract=o5,rp.sum=function(e){return e&&e.length?tO(e,oB):0},rp.sumBy=function(e,t){return e&&e.length?tO(e,il(t,2)):0},rp.template=function(e,t,n){var i=rp.templateSettings;n&&iE(e,t,n)&&(t=r),e=s7(e),t=or({},t,i,n7);var s,o,a=or({},t.imports,i.imports,n7),u=od(a),c=tP(a,u),l=0,h=t.interpolate||ef,d="__p += '",f=eI((t.escape||ef).source+"|"+h.source+"|"+(h===V?es:ef).source+"|"+(t.evaluate||ef).source+"|$","g"),p="//# sourceURL="+(eD.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eQ+"]")+`
`;e.replace(f,function(t,r,n,i,a,u){return n||(n=i),d+=e.slice(l,u).replace(ep,tj),r&&(s=!0,d+=`' +
__e(`+r+`) +
'`),a&&(o=!0,d+=`';
`+a+`;
__p += '`),n&&(d+=`' +
((__t = (`+n+`)) == null ? '' : __t) +
'`),l=u+t.length,t}),d+=`';
`;var g=eD.call(t,"variable")&&t.variable;if(g){if(en.test(g))throw new e_("Invalid `variable` option passed into `_.template`")}else d=`with (obj) {
`+d+`
}
`;d=(o?d.replace(L,""):d).replace(j,"$1").replace(B,"$1;"),d="function("+(g||"obj")+`) {
`+(g?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var y=oN(function(){return ew(u,p+"return "+d).apply(r,c)});if(y.source=d,sF(y))throw y;return y},rp.times=function(e,t){if((e=s6(e))<1||e>9007199254740991)return[];var r=4294967295,n=t3(e,4294967295);t=il(t),e-=4294967295;for(var i=tx(n,t);++r<e;)t(r);return i},rp.toFinite=s5,rp.toInteger=s6,rp.toLength=s4,rp.toLower=function(e){return s7(e).toLowerCase()},rp.toNumber=s8,rp.toSafeInteger=function(e){return e?rN(s6(e),-9007199254740991,9007199254740991):0===e?e:0},rp.toString=s7,rp.toUpper=function(e){return s7(e).toUpperCase()},rp.trim=function(e,t,n){if((e=s7(e))&&(n||t===r))return tR(e);if(!e||!(t=nw(t)))return e;var i=tz(e),s=tz(t),o=tN(i,s),a=tT(i,s)+1;return nD(i,o,a).join("")},rp.trimEnd=function(e,t,n){if((e=s7(e))&&(n||t===r))return e.slice(0,tV(e)+1);if(!e||!(t=nw(t)))return e;var i=tz(e),s=tT(i,tz(t))+1;return nD(i,0,s).join("")},rp.trimStart=function(e,t,n){if((e=s7(e))&&(n||t===r))return e.replace(Z,"");if(!e||!(t=nw(t)))return e;var i=tz(e),s=tN(i,tz(t));return nD(i,s).join("")},rp.truncate=function(e,t){var n=30,i="...";if(sV(t)){var s="separator"in t?t.separator:s;n="length"in t?s6(t.length):n,i="omission"in t?nw(t.omission):i}var o=(e=s7(e)).length;if(tB(e)){var a=tz(e);o=a.length}if(n>=o)return e;var u=n-tH(i);if(u<1)return i;var c=a?nD(a,0,u).join(""):e.slice(0,u);if(s===r)return c+i;if(a&&(u+=c.length-u),sJ(s)){if(e.slice(u).search(s)){var l,h=c;for(s.global||(s=eI(s.source,s7(eo.exec(s))+"g")),s.lastIndex=0;l=s.exec(h);)var d=l.index;c=c.slice(0,d===r?u:d)}}else if(e.indexOf(nw(s),u)!=u){var f=c.lastIndexOf(s);f>-1&&(c=c.slice(0,f))}return c+i},rp.unescape=function(e){return(e=s7(e))&&F.test(e)?e.replace(q,tW):e},rp.uniqueId=function(e){var t=++eN;return s7(e)+t},rp.upperCase=oA,rp.upperFirst=oP,rp.each=sc,rp.eachRight=sl,rp.first=iK,o$(rp,(ev={},rW(rp,function(e,t){eD.call(rp.prototype,t)||(ev[t]=e)}),ev),{chain:!1}),rp.VERSION="4.17.21",ta(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){rp[e].placeholder=rp}),ta(["drop","take"],function(e,t){rm.prototype[e]=function(n){n=n===r?1:t2(s6(n),0);var i=this.__filtered__&&!t?new rm(this):this.clone();return i.__filtered__?i.__takeCount__=t3(n,i.__takeCount__):i.__views__.push({size:t3(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},rm.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),ta(["filter","map","takeWhile"],function(e,t){var r=t+1,n=1==r||3==r;rm.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:il(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),ta(["head","last"],function(e,t){var r="take"+(t?"Right":"");rm.prototype[e]=function(){return this[r](1).value()[0]}}),ta(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");rm.prototype[e]=function(){return this.__filtered__?new rm(this):this[r](1)}}),rm.prototype.compact=function(){return this.filter(oB)},rm.prototype.find=function(e){return this.filter(e).head()},rm.prototype.findLast=function(e){return this.reverse().find(e)},rm.prototype.invokeMap=nh(function(e,t){return"function"==typeof e?new rm(this):this.map(function(r){return r2(r,e,t)})}),rm.prototype.reject=function(e){return this.filter(sC(il(e)))},rm.prototype.slice=function(e,t){e=s6(e);var n=this;return n.__filtered__&&(e>0||t<0)?new rm(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=s6(t))<0?n.dropRight(-t):n.take(t-e)),n)},rm.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},rm.prototype.toArray=function(){return this.take(4294967295)},rW(rm.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=rp[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);s&&(rp.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,u=t instanceof rm,c=a[0],l=u||sM(t),h=function(e){var t=s.apply(rp,tf([e],a));return i&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,g=u&&!f;if(!o&&l){t=g?t:new rm(this);var y=e.apply(t,a);return y.__actions__.push({func:si,args:[h],thisArg:r}),new rv(y,d)}return p&&g?e.apply(this,a):(y=this.thru(h),p?i?y.value()[0]:y.value():y)})}),ta(["pop","push","shift","sort","splice","unshift"],function(e){var t=eO[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);rp.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(sM(i)?i:[],e)}return this[r](function(r){return t.apply(sM(r)?r:[],e)})}}),rW(rm.prototype,function(e,t){var r=rp[t];if(r){var n=r.name+"";eD.call(rs,n)||(rs[n]=[]),rs[n].push({name:t,func:r})}}),rs[nZ(r,2).name]=[{name:"wrapper",func:r}],rm.prototype.clone=function(){var e=new rm(this.__wrapped__);return e.__actions__=nU(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nU(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nU(this.__views__),e},rm.prototype.reverse=function(){if(this.__filtered__){var e=new rm(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},rm.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=sM(e),n=t<0,i=r?e.length:0,s=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var s=r[n],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=t3(t,e+o);break;case"takeRight":e=t2(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,u=a-o,c=n?a:o-1,l=this.__iteratees__,h=l.length,d=0,f=t3(u,this.__takeCount__);if(!r||!n&&i==u&&f==u)return nC(e,this.__actions__);var p=[];t:for(;u--&&d<f;){c+=t;for(var g=-1,y=e[c];++g<h;){var v=l[g],m=v.iteratee,b=v.type,_=m(y);if(2==b)y=_;else if(!_){if(1==b)continue t;break t}}p[d++]=y}return p},rp.prototype.at=ss,rp.prototype.chain=function(){return sn(this)},rp.prototype.commit=function(){return new rv(this.value(),this.__chain__)},rp.prototype.next=function(){this.__values__===r&&(this.__values__=s3(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}},rp.prototype.plant=function(e){for(var t,n=this;n instanceof ry;){var i=iU(n);i.__index__=0,i.__values__=r,t?s.__wrapped__=i:t=i;var s=i;n=n.__wrapped__}return s.__wrapped__=e,t},rp.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof rm){var t=e;return this.__actions__.length&&(t=new rm(this)),(t=t.reverse()).__actions__.push({func:si,args:[i1],thisArg:r}),new rv(t,this.__chain__)}return this.thru(i1)},rp.prototype.toJSON=rp.prototype.valueOf=rp.prototype.value=function(){return nC(this.__wrapped__,this.__actions__)},rp.prototype.first=rp.prototype.head,e6&&(rp.prototype[e6]=function(){return this}),rp}();e6?((e6.exports=tK)._=tK,e5._=tK):e3._=tK}).call(aJ)}(aZ,aZ.exports);var aY=Object.defineProperty,aX=Object.defineProperties,a0=Object.getOwnPropertyDescriptors,a1=Object.getOwnPropertySymbols,a2=Object.prototype.hasOwnProperty,a3=Object.prototype.propertyIsEnumerable,a5=(e,t,r)=>t in e?aY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a6=(e,t)=>{for(var r in t||(t={}))a2.call(t,r)&&a5(e,r,t[r]);if(a1)for(var r of a1(t))a3.call(t,r)&&a5(e,r,t[r]);return e},a4=(e,t)=>aX(e,a0(t));function a8(e,t,r){var n;let i=function(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}(e);return(null==(n=t.rpcMap)?void 0:n[i.reference])||`https://rpc.walletconnect.com/v1/?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function a9(e){return e.includes(":")?e.split(":")[1]:e}function a7(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function ue(e={},t={}){let r=ut(e),n=ut(t);return aZ.exports.merge(r,n)}function ut(e){var t,r,n,i;let s={};if(!n5(e))return s;for(let[o,a]of Object.entries(e)){let e=nZ(o)?[o]:a.chains,u=a.methods||[],c=a.events||[],l=a.rpcMap||{},h=nY(o);s[h]=a4(a6(a6({},s[h]),a),{chains:nM(e,null==(t=s[h])?void 0:t.chains),methods:nM(u,null==(r=s[h])?void 0:r.methods),events:nM(c,null==(n=s[h])?void 0:n.events),rpcMap:a6(a6({},l),null==(i=s[h])?void 0:i.rpcMap)})}return s}function ur(e){return e.includes(":")?e.split(":")[2]:e}function un(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):isNaN(Number(e=e.includes(":")?e.split(":")[1]:e))?e:Number(e)}let ui={},us=e=>ui[e],uo=(e,t)=>{ui[e]=t};class ua{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=us("events"),this.client=us("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(aQ,`${this.name}:${e}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=a9(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||a8(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new sk(new aW(r,us("disableProviderPing")))}}class uu{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=us("events"),this.client=us("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(aQ,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||a8(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new sk(new aW(r,us("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=parseInt(a9(t));e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,r;let n=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",i=parseInt(n=n.startsWith("0x")?n:`0x${n}`,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class uc{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=us("events"),this.client=us("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(aQ,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=a9(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||a8(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new sk(new aW(r,us("disableProviderPing")))}}class ul{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=us("events"),this.client=us("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(aQ,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=a9(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||a8(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new sk(new aW(r,us("disableProviderPing")))}}class uh{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=us("events"),this.client=us("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(aQ,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=this.getCardanoRPCUrl(t),n=a9(t);e[n]=this.createHttpProvider(n,r)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||this.getCardanoRPCUrl(e);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new sk(new aW(r,us("disableProviderPing")))}}class ud{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=us("events"),this.client=us("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(aQ,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=a9(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||a8(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new sk(new aW(r,us("disableProviderPing")))}}class uf{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=us("events"),this.client=us("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(aQ,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=a9(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||a8(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new sk(new aW(r,us("disableProviderPing")))}}class up{constructor(e){this.name="near",this.namespace=e.namespace,this.events=us("events"),this.client=us("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||a8(`${this.name}:${e}`,this.namespace);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(aQ,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||a8(e,this.namespace);return typeof r>"u"?void 0:new sk(new aW(r,us("disableProviderPing")))}}var ug=Object.defineProperty,uy=Object.defineProperties,uv=Object.getOwnPropertyDescriptors,um=Object.getOwnPropertySymbols,ub=Object.prototype.hasOwnProperty,u_=Object.prototype.propertyIsEnumerable,uw=(e,t,r)=>t in e?ug(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uE=(e,t)=>{for(var r in t||(t={}))ub.call(t,r)&&uw(e,r,t[r]);if(um)for(var r of um(t))u_.call(t,r)&&uw(e,r,t[r]);return e},uS=(e,t)=>uy(e,uv(t));class uI{constructor(e){this.events=new(t_()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,iV.pino)((0,iV.getDefaultLoggerOptions)({level:e?.logger||aK})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new uI(e);return await t.initialize(),t}async request(e,t,r){let[n,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(n).request({request:uE({},e),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,n){let i=new Date().getTime();this.request(e,r,n).then(e=>t(null,sd(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:n2("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw Error("Max auto pairing attempts reached");let{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await n().then(e=>{this.session=e;let t=function(e){let t={};for(let[r,n]of Object.entries(e)){let e=n.methods||[],i=n.events||[],s=n.accounts||[],o=nZ(r)?[r]:n.chains?n.chains:a7(n.accounts);t[r]={chains:o,methods:e,events:i,accounts:s}}return t}(e.namespaces);this.namespaces=ue(this.namespaces,t),this.persist("namespaces",this.namespaces)}).catch(e=>{if(e.message!==ak)throw e;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,n]=this.validateChain(e);this.getProvider(r).setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(n3(t)){for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await az.init({logger:this.providerOpts.logger||aK,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>nY(e)))];uo("client",this.client),uo("events",this.events),uo("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let n=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;n.push(...r)}),n}(e,this.session),r=a7(t),n=uS(uE({},ue(this.namespaces,this.optionalNamespaces)[e]),{accounts:t,chains:r});switch(e){case"eip155":this.rpcProviders[e]=new uu({namespace:n});break;case"solana":this.rpcProviders[e]=new uc({namespace:n});break;case"cosmos":this.rpcProviders[e]=new ul({namespace:n});break;case"polkadot":this.rpcProviders[e]=new ua({namespace:n});break;case"cip34":this.rpcProviders[e]=new uh({namespace:n});break;case"elrond":this.rpcProviders[e]=new ud({namespace:n});break;case"multiversx":this.rpcProviders[e]=new uf({namespace:n});break;case"near":this.rpcProviders[e]=new up({namespace:n})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{let{params:t}=e,{event:r}=t;if("accountsChanged"===r.name){let e=r.data;e&&n3(e)&&this.events.emit("accountsChanged",e.map(ur))}else if("chainChanged"===r.name){let e=t.chainId,r=t.event.data,n=nY(e),i=un(e)!==un(r)?`${n}:${un(r)}`:e;this.onChainChanged(i)}else this.events.emit(r.name,r.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r;let{namespaces:n}=t,i=null==(r=this.client)?void 0:r.session.get(e);this.session=uS(uE({},i),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",uS(uE({},n2("USER_DISCONNECTED")),{data:e.topic}))}),this.on(aQ,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t,optionalNamespaces:r,sessionProperties:n}=e;t&&Object.keys(t).length&&(this.namespaces=t),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=n,this.persist("namespaces",t),this.persist("optionalNamespaces",r)}validateChain(e){let[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>nY(e)).includes(t))throw Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];let n=nY(Object.keys(this.namespaces)[0]),i=this.rpcProviders[n].getDefaultChain();return[n,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){if(!this.namespaces)return;let[r,n]=this.validateChain(e);n&&(t||this.getProvider(r).setDefaultChain(n),this.namespaces[r]?this.namespaces[r].defaultChain=n:this.namespaces[`${r}:${n}`]?this.namespaces[`${r}:${n}`].defaultChain=n:this.namespaces[`${r}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${aG}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${aG}/${e}`)}}let uk=["eth_sendTransaction","personal_sign"],uC=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],uO=["chainChanged","accountsChanged"],ux=["chainChanged","accountsChanged","message","disconnect","connect"];var uR=Object.defineProperty,uA=Object.defineProperties,uP=Object.getOwnPropertyDescriptors,uD=Object.getOwnPropertySymbols,uN=Object.prototype.hasOwnProperty,uT=Object.prototype.propertyIsEnumerable,uM=(e,t,r)=>t in e?uR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uL=(e,t)=>{for(var r in t||(t={}))uN.call(t,r)&&uM(e,r,t[r]);if(uD)for(var r of uD(t))uT.call(t,r)&&uM(e,r,t[r]);return e},uj=(e,t)=>uA(e,uP(t));function uB(e){return Number(e[0].split(":")[1])}function uq(e){return`0x${e.toString(16)}`}class uU{constructor(){this.events=new tb.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){let t=new uU;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,r){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),r)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:t,optional:r}=function(e){let{chains:t,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=e;if(!n3(t))throw Error("Invalid chains");let u={chains:t,methods:n||uk,events:s||uO,rpcMap:uL({},t.length?{[uB(t)]:a[uB(t)]}:{})},c=s?.filter(e=>!uO.includes(e)),l=n?.filter(e=>!uk.includes(e));if(!r&&!o&&!i&&!(null!=c&&c.length)&&!(null!=l&&l.length))return{required:t.length?u:void 0};let h={chains:[...new Set(c?.length&&l?.length||!r?u.chains.concat(r||[]):r)],methods:[...new Set(u.methods.concat(null!=i&&i.length?i:uC))],events:[...new Set(u.events.concat(null!=o&&o.length?o:ux))],rpcMap:a};return{required:t.length?u:void 0,optional:r.length?h:void 0}}(this.rpc);try{let n=await new Promise(async(n,i)=>{var s;this.rpc.showQrModal&&(null==(s=this.modal)||s.subscribeModal(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),i(Error("Connection request reset. Please try again.")))})),await this.signer.connect(uj(uL({namespaces:uL({},t&&{[this.namespace]:t})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:e?.pairingTopic})).then(e=>{n(e)}).catch(e=>{i(Error(e.message))})});if(!n)return;let i=function(e,t=[]){let r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;let i=e[n];r.push(...i.accounts)}),r}(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:uq(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:r}=t;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",uq(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",uj(uL({},n2("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,r;this.rpc.showQrModal&&(null==(t=this.modal)||t.closeModal(),null==(r=this.modal)||r.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",uq(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,r,n]=e.split(":");return{chainId:`${t}:${r}`,address:n}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,r;let n=null!=(t=e?.chains)?t:[],i=null!=(r=e?.optionalChains)?r:[],s=n.concat(i);if(!s.length)throw Error("No chains specified in either `chains` or `optionalChains`");let o=n.length?e?.methods||uk:[],a=n.length?e?.events||uO:[],u=e?.optionalMethods||[],c=e?.optionalEvents||[],l=e?.rpcMap||this.buildRpcMap(s,e.projectId),h=e?.qrModalOptions||void 0;return{chains:n?.map(e=>this.formatChainId(e)),optionalChains:i.map(e=>this.formatChainId(e)),methods:o,events:a,optionalMethods:u,optionalEvents:c,rpcMap:l,showQrModal:!!(null!=e&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let r={};return e.forEach(e=>{r[e]=this.getRpcUrl(e,t)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?uB(this.rpc.chains):uB(this.rpc.optionalChains),this.signer=await uI.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{let{WalletConnectModal:t}=await r.e(5318).then(r.bind(r,55318));e=t}catch{throw Error("To use QR modal, please install @walletconnect/modal package")}if(e)try{this.modal=new e(uL({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(e){throw this.signer.logger.error(e),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:r,rpcMap:n}=e;t&&n3(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)})),r&&n3(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(e=>this.formatChainId(e)),r.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)}))}getRpcUrl(e,t){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[e])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}var uF=r(36393);let u$=(e,t=10)=>{try{let r=parseInt(String(e),t);if(isNaN(r)){eX.kg.error(`Error parsing ${e}`);return}return r}catch(t){eX.kg.error(`Error parsing ${e} to int: ${t}`)}},uH=e=>`dynamic-wc2-active-account-${e}`,uz=e=>`dynamic-wc2-session-topic-${e}`,uV=e=>`dynamic-wc2-switched-network-${e}`,uW=e=>`dynamic-wc2-current-chain-${e}`,uK=new uF.Z;class uG extends tm{constructor(e){var t;super(e),this.supportedChains=["EVM","ETH"],this.connectedChain="EVM",this.isInitialized=!1,this.canConnectViaQrCode=!0,this.isWalletConnect=!0,this.preferredChains=[],this._hasSwitchedNetwork=!1,this.sessionEventHandler=()=>{},this.sessionDeleteHandler=()=>{},this.name=e.walletName,this.projectId=e.projectId,this.deepLinkPreference=e.deepLinkPreference||"native",this.preferredChains=e.walletConnectPreferredChains||[],this.hasSwitchedNetwork=t=!!localStorage.getItem(this.swicthedNetworkKey);let r=localStorage.getItem(this.currentChainKey);this.currentChainId=r?u$(r):void 0}getMappedChains(){return this.evmNetworks.filter(e=>11297108109!==e.chainId).map(e=>`eip155:${e.chainId}`)}getMappedChainsByPreferredOrder(){let e=this.getMappedChains();return[...this.preferredChains.filter(t=>e.includes(t)),...e.filter(e=>!this.preferredChains.includes(e))].map(e=>Number(e.split(":")[1]))}initConnection(){return ta(this,void 0,void 0,function*(){let{provider:e}=uG;if(!e)throw new e1.kW("No provider found (init connection)");null!=e&&e.signer.uri||e.connect().catch(e=>{eX.kg.error(e),uK.emit("walletconnect_connection_failed",e)})})}createProvider(){return ta(this,void 0,void 0,function*(){return uU.init({events:["chainChanged","accountsChanged"],methods:[],optionalChains:this.getMappedChainsByPreferredOrder(),optionalMethods:["eth_chainId","eth_signTypedData","eth_signTransaction","eth_sign","personal_sign","eth_sendTransaction","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain"],projectId:this.projectId,rpcMap:this.evmNetworkRpcMap(),showQrModal:!1})})}getWalletClientFromInitializedProvider(){return ta(this,void 0,void 0,function*(){let e=this.createProvider();return(0,tc.K)({account:this.getActiveAccount(),transport:(0,tl.P)((yield e))})})}createInitProviderPromise(){return ta(this,void 0,void 0,function*(){uG.provider=yield this.createProvider(),this.teardownEventListeners(),this.setupEventListeners()})}initProvider(){return ta(this,void 0,void 0,function*(){let{provider:e}=uG;e||(void 0===this.initializePromise&&(this.initializePromise=this.createInitProviderPromise()),yield this.initializePromise)})}refreshSession(){var e,t,r,n,i;(null===(t=null===(e=uG.provider)||void 0===e?void 0:e.session)||void 0===t?void 0:t.topic)&&localStorage.getItem(this.sessionTopicKey)===(null===(n=null===(r=uG.provider)||void 0===r?void 0:r.session)||void 0===n?void 0:n.topic)&&(this.session=uG.provider.session,this.setActiveAccount(null!==(i=localStorage.getItem(this.activeAccountKey))&&void 0!==i?i:void 0))}init(){return ta(this,void 0,void 0,function*(){yield this.initProvider(),yield this.initConnection(),this.isInitialized=!0})}get sessionTopicKey(){return uz(this.key)}get activeAccountKey(){return uH(this.key)}get swicthedNetworkKey(){return uV(this.key)}get currentChainKey(){return uW(this.key)}set currentChainId(e){this._currentChainId=e,e?localStorage.setItem(this.currentChainKey,e.toString()):localStorage.removeItem(this.currentChainKey)}get currentChainId(){return this._currentChainId}set hasSwitchedNetwork(e){this._hasSwitchedNetwork=e,e?localStorage.setItem(this.swicthedNetworkKey,e.toString()):localStorage.removeItem(this.swicthedNetworkKey)}get hasSwitchedNetwork(){return this._hasSwitchedNetwork}supportsNetworkSwitching(){return!0}setupEventListeners(){uG.provider&&(this.sessionEventHandler=({params:e})=>{if(eX.kg.debug("session_event was called",{params:e}),!e||!e.event){eX.kg.debug("session_event was called without params or params.event");return}let{name:t,data:r}=e.event;if("chainChanged"===t){let e=u$(r);if(e===this.currentChainId){eX.kg.debug(`ignoring chainChanged event with same chain id as current chain id: ${e}`);return}if(void 0===e){eX.kg.debug(`received unexpected data for chainChanged: ${r} with type ${typeof r}}`);return}this.currentChainId=e,this.emit("chainChange",{chain:String(e)}),this.hasSwitchedNetwork=!0,this.switchNetwork({networkChainId:e})}else if("accountsChanged"===t){if(!Array.isArray(r)){eX.kg.debug(`received unexpected data for accountsChanged: ${r} with type ${typeof r}}`);return}let e=r[0].split(":")[2];this.setWCActiveAccount(e)}},uG.provider.on("session_event",this.sessionEventHandler),this.sessionDeleteHandler=()=>ta(this,void 0,void 0,function*(){this.endSession(),this.emit("disconnect")}),uG.provider.on("session_delete",this.sessionDeleteHandler))}teardownEventListeners(){uG.provider&&(uG.provider.off("session_event",this.sessionEventHandler),uG.provider.off("session_delete",this.sessionDeleteHandler))}getWalletClient(e){if(uG.provider)return(0,tc.K)({account:this.getActiveAccount(),chain:e0.zk[null!=e?e:String(this.currentChainId)],transport:(0,tl.P)(uG.provider)})}getAddress(e){return ta(this,void 0,void 0,function*(){var t,r;let n=this.getActiveAccount();if(null==n?void 0:n.address)return n.address;if((!uG.provider||!(null===(t=uG.provider)||void 0===t?void 0:t.signer.uri))&&(eX.kg.debug("No WC2 provider found, re-initializing..."),yield this.endSession(),yield this.init(),yield(0,e1._v)(1e3),!uG.provider||!(null===(r=uG.provider)||void 0===r?void 0:r.signer.uri)))throw eX.kg.debug("No WC2 provider found, escaping and throwing error"),new e1.kW("No provider found");let i=(0,tu.MO)(this.walletBook,this.key,this.walletFallback);return(0,eX.ze)(uG.provider.signer.uri,i,{onDesktopUri:null==e?void 0:e.onDesktopUri,onDisplayUri:null==e?void 0:e.onDisplayUri},this.deepLinkPreference),new Promise((e,t)=>{if(!uG.provider){t(new e1.kW("No provider found"));return}let r=()=>{let e=new e1.kW("Connection rejected. Please try again.");e.code="connection_rejected",uG.provider&&(uG.provider.signer.uri=void 0,this.init()),t(e),i()},n=()=>{var r;let n=null===(r=uG.provider)||void 0===r?void 0:r.session;if(!n){t(new e1.kW("No session found"));return}this.setSession(n),this.setWCActiveAccount(n.namespaces.eip155.accounts[0].split(":")[2]),this.getNetwork().then(t=>{var r;this.currentChainId=t,e(null===(r=this.getActiveAccount())||void 0===r?void 0:r.address)}),i()},i=()=>{var e;uK.off("walletconnect_connection_failed",r),null===(e=uG.provider)||void 0===e||e.off("connect",n)};uK.on("walletconnect_connection_failed",r),uG.provider.on("connect",n)})})}waitForSignMessage(e,t){return ta(this,void 0,void 0,function*(){let r=new Promise((r,n)=>{this.on("chainChange",()=>r({success:!1})),e(t).then(e=>r({signedMessage:e,success:!0})).catch(n)}),n=yield r;return!1===n.success?e(t):n.signedMessage})}getDeepLink(){var e;if(!this.session)return;let t=(0,tu.MO)(this.walletBook,this.key),r=(0,eX.bW)({metadata:t,mode:"regular",preference:this.deepLinkPreference,uri:null===(e=uG.provider)||void 0===e?void 0:e.signer.uri});if(r)return`${r}?sessionTopic=${this.session.topic}`}signMessage(e){return ta(this,void 0,void 0,function*(){if(!this.session)throw new e1.kW("no session");let t=this.getDeepLink();return(0,e1.tq)()&&t&&(window.location.href=t),yield this.waitForSignMessage(e=>ta(this,void 0,void 0,function*(){let t=this.getActiveAccount();if(t)return(yield this.getWalletClientFromInitializedProvider()).signMessage({account:t,message:e})}),e)})}clearActiveAccount(){localStorage.removeItem(this.activeAccountKey),this.setActiveAccount(void 0)}clearSession(){localStorage.removeItem(this.sessionTopicKey),this.session=void 0}setWCActiveAccount(e){localStorage.setItem(this.activeAccountKey,e),this.setActiveAccount(e),this.emit("accountChange",{accounts:[e]})}setSession(e){localStorage.setItem(this.sessionTopicKey,e.topic),this.session=e}endSession(){return ta(this,void 0,void 0,function*(){var e;if(this.clearActiveAccount(),this.clearSession(),this.hasSwitchedNetwork=!1,this.currentChainId=void 0,null===(e=uG.provider)||void 0===e?void 0:e.session)try{yield uG.provider.disconnect(),uG.provider=void 0}catch(e){eX.kg.debug(e)}})}getNetwork(){let e=Object.create(null,{getNetwork:{get:()=>super.getNetwork}});return ta(this,void 0,void 0,function*(){return this.currentChainId?this.currentChainId:(yield this.initProvider(),e.getNetwork.call(this))})}providerSwitchNetwork(e){let t=Object.create(null,{providerSwitchNetwork:{get:()=>super.providerSwitchNetwork}});return ta(this,arguments,void 0,function*({network:e}){let r=yield this.getSupportedNetworks();if(!(null==r?void 0:r.includes(e.chainId.toString()))){let e=new e1.kW("Network switching is not available at this time. The user should manually switch network in their wallet");throw e.code="network_switching_only_available_in_wallet",e}let n=yield this.getNetwork();if(n&&n===e.chainId)return;if(this.switchNetworkOnlyFromWallet)throw new e1.kW("Network switching is only supported through the wallet");if(!this.supportsNetworkSwitching())throw new e1.kW("Network switching not supported");let i=yield this.getWalletClientFromInitializedProvider();if(this.isMetaMask()){let e=this.getDeepLink();e&&(window.location.href=e)}yield t.providerSwitchNetwork.call(this,{network:e,provider:i}),this.currentChainId=e.chainId,this.hasSwitchedNetwork=!0,this.emit("chainChange",{chain:String(e.chainId)})})}getConnectedAccounts(){return ta(this,void 0,void 0,function*(){!1===this.isInitialized&&(yield this.initProvider(),this.refreshSession(),this.isInitialized=!0);let e=this.getActiveAccount();return(null==e?void 0:e.address)?[e.address]:[]})}isMetaMask(){var e,t,r,n,i;return null!==(i=null===(n=null===(r=null===(t=null===(e=this.session)||void 0===e?void 0:e.peer)||void 0===t?void 0:t.metadata)||void 0===r?void 0:r.name)||void 0===n?void 0:n.toLowerCase().startsWith("metamask"))&&void 0!==i&&i}getSupportedNetworks(){return ta(this,void 0,void 0,function*(){var e;if(yield this.initProvider(),this.refreshSession(),this.isMetaMask())return this.hasSwitchedNetwork?[String(this.currentChainId)]:this.evmNetworks.map(e=>e.chainId.toString());if(!this.session)return[];let t=[];return Object.keys(this.session.namespaces).forEach(e=>{e.startsWith("eip155:")&&t.push(e.split(":")[1])}),null===(e=this.session.namespaces.eip155)||void 0===e||e.accounts.forEach(e=>t.push(e.split(":")[1])),t.length?t:this.evmNetworks.map(e=>e.chainId.toString())})}}class uQ extends tm{constructor(){super(...arguments),this.supportedChains=["ETH","EVM"],this.connectedChain="EVM",this.walletConnectorFallback=!1}getEthProviderHelper(){return this.wallet||(this.wallet=(0,tu.IP)(this.walletBook,this.key)),this.wallet&&!this.ethProviderHelper&&(this.ethProviderHelper=new tg(this.wallet,this)),this.ethProviderHelper}getMobileOrInstalledWallet(){var e,t;return(this.wallet||(this.wallet=(0,tu.IP)(this.walletBook,this.key)),this.isInstalledOnBrowser()||(null===(t=null===(e=this.wallet)||void 0===e?void 0:e.mobile)||void 0===t?void 0:t.inAppBrowser)&&"universal"!==this.constructorProps.deepLinkPreference&&(0,e1.tq)()||!this.walletConnectorFallback)?this:new uG(Object.assign(Object.assign({},this.constructorProps),{walletName:this.name}))}setupEventListeners(){if(!this.getWalletClient())return;let e=this.getEthProviderHelper();if(!e)return;let{tearDownEventListeners:t}=e._setupEventListeners(this);this.teardownEventListeners=t}getWalletClient(e){var t;return null===(t=this.getEthProviderHelper())||void 0===t?void 0:t.findWalletClient(e)}isInstalledOnBrowser(){var e;return(null===(e=this.getEthProviderHelper())||void 0===e?void 0:e.findProvider())!==void 0}getAddress(){return ta(this,void 0,void 0,function*(){var e;return null===(e=this.getEthProviderHelper())||void 0===e?void 0:e.getAddress()})}connect(){return ta(this,void 0,void 0,function*(){yield this.getAddress()})}signMessage(e){return ta(this,void 0,void 0,function*(){var t;return null===(t=this.getEthProviderHelper())||void 0===t?void 0:t.signMessage(e)})}proveOwnership(e){return ta(this,void 0,void 0,function*(){return this.signMessage(e)})}endSession(){return ta(this,void 0,void 0,function*(){})}providerSwitchNetwork(e){let t=Object.create(null,{providerSwitchNetwork:{get:()=>super.providerSwitchNetwork}});return ta(this,arguments,void 0,function*({network:e,provider:r}){return t.providerSwitchNetwork.call(this,{network:e,provider:r})})}}class uJ extends uQ{constructor(e){super(e),this.name="PhantomEvm",this.overrideKey="phantomevm",this.wallet=(0,tu.IP)(this.walletBook,this.key)}getAddress(){let e=Object.create(null,{getAddress:{get:()=>super.getAddress}});return ta(this,void 0,void 0,function*(){if(this.isInstalledOnBrowser())return e.getAddress.call(this);(0,e1.tq)()&&(0,e1.Rc)({nativeLink:"phantom://browse",universalLink:"https://phantom.app/ul/browse"})})}}class uZ extends uQ{constructor(e){super(e),this.name="ExodusEvm",this.overrideKey="exodusevm",this.walletConnectorFallback=!0,this.wallet=(0,tu.IP)(this.walletBook,this.key)}}let uY={eip6963Config:{rdns:"io.zerion.wallet"},filterFromWalletConnect:!0,injectedConfig:[{chain:"evm",extensionLocators:[{flag:"isMetaMask",value:!0}],windowLocations:["zerionWallet","zerionwallet.ethereum"]}],name:"Zerion"};class uX extends uQ{constructor(e){super(e),this.name="Zerion",this.overrideKey="zerion",this.wallet=uY}isInstalledOnBrowser(){var e;return!!(window.zerionWallet||(null===(e=window.zerionwallet)||void 0===e?void 0:e.ethereum))}}let u0=[uJ,uZ,uX],u1=["phantomevm","coinbase","exodusevm","zerion"],u2=({walletBook:e})=>{var t;return Object.entries(null!==(t=null==e?void 0:e.wallets)&&void 0!==t?t:{}).filter(([e,t])=>{var r;return(null===(r=t.injectedConfig)||void 0===r?void 0:r.find(e=>"evm"===e.chain))&&!u1.includes(e)}).map(([e,t])=>{let{shortName:r}=t,n=r||t.name,i=!!t.walletConnect;return class extends uQ{constructor(r){super(Object.assign({},r)),this.name=n,this.wallet=t,this.walletConnectorFallback=i,this.overrideKey=e}getAddress(){let e=Object.create(null,{getAddress:{get:()=>super.getAddress}});return ta(this,void 0,void 0,function*(){var t;if(this.isInstalledOnBrowser())return e.getAddress.call(this);let r=null===(t=this.wallet.mobile)||void 0===t?void 0:t.inAppBrowser;if(!r){let e=Error(`No inAppBrowserBase found for ${this.name}.`);throw eX.kg.error(e.message),e}let n=window.location.href.replace("https://","");window.location.href=`${r}/${n}`})}}})},u3=({walletBook:e})=>{var t;return Object.entries(null!==(t=null==e?void 0:e.wallets)&&void 0!==t?t:{}).filter(([,e])=>e.walletConnect&&!e.filterFromWalletConnect).map(([e,t])=>{let{shortName:r}=t,n=r||t.name;return class extends uG{constructor(t){super(Object.assign(Object.assign({},t),{walletName:n})),this.overrideKey=e}}})},u5=()=>class extends uG{constructor(e){super(Object.assign(Object.assign({},e),{walletName:"WalletConnect"}))}};var u6=r(86080),u4=r(95046),u8=r(82361);let u9=({opts:{appLogoUrl:e,appName:t="",evmNetworks:r=[]}={}})=>{var n,o;if(!s){i=new u6.jp({appLogoUrl:e,appName:t,enableMobileWalletLink:!0,headlessMode:!0,reloadOnDisconnect:!1});let a=null==r?void 0:r.find(e=>1===e.chainId),u=(null===(n=null==a?void 0:a.privateCustomerRpcUrls)||void 0===n?void 0:n[0])||(null===(o=null==a?void 0:a.rpcUrls)||void 0===o?void 0:o[0])||"https://mainnet.infura.io/v3/87939db78f824920ada5c872db3e56b8";s=i.makeWeb3Provider(u,1)}return{provider:s,sdk:i}},u7=()=>ta(void 0,void 0,void 0,function*(){yield null==s?void 0:s.close()}),ce=(e,t)=>ta(void 0,void 0,void 0,function*(){var r;let{provider:n,sdk:i}=u9({opts:e}),s=i.getQrUrl();if(!s)throw new e1.kW("no qr url available");null===(r=null==t?void 0:t.onDisplayUri)||void 0===r||r.call(t,s);let[o]=yield n.request({method:"eth_requestAccounts"});return o}),ct=(e,t)=>ta(void 0,void 0,void 0,function*(){let{provider:r}=u9({opts:e}),[n]=yield r.request({method:"eth_requestAccounts"});try{return yield r.request({method:"personal_sign",params:[(0,u4.NC)((0,u8.O0)(t)),n.toLowerCase()]})}catch(e){yield r.close();return}});class cr extends tm{constructor(e){var{appName:t,appLogoUrl:r,evmNetworks:n}=e;super(Object.assign({evmNetworks:n},function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}(e,["appName","appLogoUrl","evmNetworks"]))),this.name="Coinbase",this.overrideKey="coinbase",this.supportedChains=["EVM","ETH"],this.connectedChain="EVM",this.canConnectViaQrCode=!0,this.coinbaseProviderOpts={appLogoUrl:r,appName:t,evmNetworks:n};let i=(0,tu.IP)(this.walletBook,this.key);if(!i)return;this.ethProviderHelper=new tg(i,this)}setupEventListeners(){var e,t,r;if(!this.isInstalledOnBrowser()){this.setupCoinbaseProviderEventListeners();return}if(!(null===(e=this.ethProviderHelper)||void 0===e?void 0:e.findProvider()))return;let n=null===(r=null===(t=this.ethProviderHelper)||void 0===t?void 0:t._setupEventListeners)||void 0===r?void 0:r.call(t,this);(null==n?void 0:n.tearDownEventListeners)&&(this.teardownEventListeners=n.tearDownEventListeners)}getWalletClient(e){var t;return this.isInstalledOnBrowser()?null===(t=this.ethProviderHelper)||void 0===t?void 0:t.findWalletClient(e):(0,tc.K)({transport:(0,tl.P)(u9({opts:this.coinbaseProviderOpts}).provider)})}isInstalledOnBrowser(){var e;return(null===(e=this.ethProviderHelper)||void 0===e?void 0:e.findProvider())!==void 0}getAddress(e){return ta(this,void 0,void 0,function*(){var t;return this.isInstalledOnBrowser()?null===(t=this.ethProviderHelper)||void 0===t?void 0:t.getAddress():ce(this.coinbaseProviderOpts,e)})}signMessage(e){return ta(this,void 0,void 0,function*(){var t;return this.isInstalledOnBrowser()?null===(t=this.ethProviderHelper)||void 0===t?void 0:t.signMessage(e):ct(this.coinbaseProviderOpts,e)})}endSession(){return ta(this,void 0,void 0,function*(){this.isInstalledOnBrowser()||u7()})}setupCoinbaseProviderEventListeners(){let{provider:e}=u9({opts:this.coinbaseProviderOpts});if(!e)return;let{handleAccountChange:t,handleChainChange:r,handleDisconnect:n}=(0,eX.nb)(this);e.on("accountsChanged",t),e.on("chainChanged",r),e.on("disconnect",n),this.teardownEventListeners=()=>{e.removeListener("accountsChanged",t),e.removeListener("chainChanged",r),e.removeListener("disconnect",n)}}}var cn=r(95278);cn.lC.getEvmProviderByChainId=(e,t)=>{var r;return null===(r=cn.lC.getProviders(e).evm)||void 0===r?void 0:r.find(e=>e.chainId===t)},cn.lC.registerEvmProviders=()=>{cn.lC.registerChainProviders(cn.r0.EVM,e=>{let t={};return(null==e?void 0:e.evm)&&(t.evm=(0,e1.fu)(e.evm).map(e=>{var t;let r=(null===(t=e.privateCustomerRpcUrls)||void 0===t?void 0:t[0])||e.rpcUrls[0],n=(0,I.v)({chain:(0,e1.uy)(e),transport:(0,k.d)(r)});return{chainId:e.chainId,chainName:e.name,provider:n}})),t.evm})};let ci=e=>[...u0,...u2(e),...u3(e),...to(e),cr,u5()]},22534:function(e,t,r){"use strict";r.d(t,{z:function(){return R}});var n=r(57437),i=r(2265),s=r(94956),o=r(91310);function a(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}u((n=n.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;var u=r(86417),c=r(99112),l=r(73042),h=r(69532);let d=e=>(0,u.K)(t=>({connect(){return a(this,void 0,void 0,function*(){if(!e.walletConnector)throw Error("WalletConnector is not defined");return e.walletConnector.on("accountChange",({accounts:e})=>{this.onAccountsChanged.bind(this)(e)}),e.walletConnector.on("chainChange",({chain:e})=>this.onChainChanged(e)),e.walletConnector.on("disconnect",this.onDisconnect.bind(this)),{accounts:yield this.getAccounts(),chainId:yield this.getChainId()}})},disconnect(){return a(this,void 0,void 0,function*(){e.preventWagmiSyncFromCallingLogout.current||(yield e.walletConnector.endSession(),yield e.handleLogOut()),e.walletConnector.off("accountChange"),e.walletConnector.off("chainChange"),e.walletConnector.off("disconnect"),e.preventWagmiSyncFromCallingLogout.current=!1})},getAccounts(){return a(this,void 0,void 0,function*(){var t;let r=yield null===(t=e.walletConnector)||void 0===t?void 0:t.getAddress();if(!r)throw Error("Not connected");return[(0,c.K)(r)]})},getChainId(){return a(this,void 0,void 0,function*(){if(!e.walletConnector)throw Error("WalletConnector is not defined");let t=yield e.walletConnector.getNetwork();if(!t)throw Error("Network is not defined");return Number(t)})},getClient(r){return a(this,void 0,void 0,function*(){var n,i;let s=yield e.walletConnector.getSigner();return s.account&&s.chain?s:(0,l.K)({account:null===(n=yield this.getAccounts())||void 0===n?void 0:n[0],chain:null!==(i=t.chains.find(e=>e.id===(null==r?void 0:r.chainId)))&&void 0!==i?i:t.chains[0],transport:(0,h.P)(s)})})},getProvider(){return a(this,void 0,void 0,function*(){var t;return null===(t=e.walletConnector)||void 0===t?void 0:t.getWalletClient()})},id:e.connectorId,isAuthorized(){return a(this,void 0,void 0,function*(){var t,r;return(null!==(r=yield null===(t=e.walletConnector)||void 0===t?void 0:t.getConnectedAccounts())&&void 0!==r?r:[]).length>0})},name:"Dynamic",onAccountsChanged(e){t.emitter.emit("change",{accounts:[(0,c.K)(e[0])]})},onChainChanged(e){t.emitter.emit("change",{chainId:Number(e)})},onDisconnect(){},switchChain(r){return a(this,arguments,void 0,function*({chainId:r}){var n;let i=t.chains.find(e=>e.id===r);if(!i)throw Error(`Chain ${r} is not supported`);return yield null===(n=e.walletConnector)||void 0===n?void 0:n.switchNetwork({networkChainId:r}),i})},type:"dynamic"}));var f=r(25524),p=r(85770);async function g(e,t){let r;if((r="function"==typeof t.connector?e._internal.connectors.setup(t.connector):t.connector).uid===e.state.current)throw new p.wi;try{e.setState(e=>({...e,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});let n=await r.connect({chainId:t.chainId}),i=n.accounts;return r.emitter.off("connect",e._internal.events.connect),r.emitter.on("change",e._internal.events.change),r.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",r.id),e.setState(e=>({...e,connections:new Map(e.connections).set(r.uid,{accounts:i,chainId:n.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:i,chainId:n.chainId}}catch(t){throw e.setState(e=>({...e,status:e.current?"connected":"disconnected"})),t}}var y=r(90331);let v=[];function m(e){let t=e.connectors;return(0,y.v)(v,t)?v:(v=t,t)}async function b(e,t={}){let r;if(t.connector)r=t.connector;else{let{connections:t,current:n}=e.state,i=t.get(n);r=i?.connector}let n=e.state.connections;r&&(await r.disconnect(),r.emitter.off("change",e._internal.events.change),r.emitter.off("disconnect",e._internal.events.disconnect),r.emitter.on("connect",e._internal.events.connect),n.delete(r.uid)),e.setState(e=>{if(0===n.size)return{...e,connections:new Map,current:null,status:"disconnected"};let t=n.values().next().value;return{...e,connections:new Map(n),current:t.connector.uid}});{let t=e.state.current;if(!t)return;let r=e.state.connections.get(t)?.connector;if(!r)return;await e.storage?.setItem("recentConnectorId",r.id)}}let _=[];function w(e){let t=[...e.state.connections.values()];return"reconnecting"===e.state.status||(0,y.v)(_,t)?_:(_=t,t)}let E=({children:e,connector:t,wallets:r,preventWagmiSyncFromCallingLogout:a})=>{let{state:{status:u}}=(0,s.Z)(),{connect:c}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:t}=e,r=(0,s.Z)(e),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.Z)(e);return(0,i.useSyncExternalStore)(e=>(function(e,t){let{onChange:r}=t;return e._internal.connectors.subscribe((e,t)=>{r(Object.values(e),t)})})(t,{onChange:e}),()=>m(t),()=>m(t))}({config:r}),{mutate:o,mutateAsync:a,...u}=(0,f.D)({...t,mutationFn:e=>g(r,e),mutationKey:["connect"]});return(0,i.useEffect)(()=>r.subscribe(e=>{let{status:t}=e;return t},(e,t)=>{"connected"===t&&"disconnected"===e&&u.reset()}),[r,u]),{...u,connect:o,connectAsync:a,connectors:n}}(),{disconnect:l}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:t}=e,r=(0,s.Z)(e),{mutate:n,mutateAsync:o,...a}=(0,f.D)({...t,mutationFn:e=>b(r,e),mutationKey:["disconnect"]});return{...a,connectors:(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.Z)(e);return(0,i.useSyncExternalStore)(e=>(function(e,t){let{onChange:r}=t;return e.subscribe(()=>w(e),r,{equalityFn:y.v})})(t,{onChange:e}),()=>w(t),()=>w(t))})({config:r}).map(e=>e.connector),disconnect:n,disconnectAsync:o}}(),{walletConnector:h}=(0,o.SX)(),d=(0,i.useRef)(void 0);return(0,i.useEffect)(()=>{let e=!!d.current;if(!r.length){e&&(a.current=!0,l(),d.current=void 0);return}h&&t&&(null==t?void 0:t.id)!==d.current&&(d.current=t.id,c({connector:t}))},[u,c,t,l,d,a,h,r]),(0,n.jsx)(n.Fragment,{children:e})},S=new(r(56110)).Y("DynamicWagmiConnector"),I=({throwOnMismatch:e}={throwOnMismatch:!0})=>{let t=(0,s.Z)(),{networkConfigurations:r}=(0,o.SX)();(0,i.useEffect)(()=>{if(!(null==r?void 0:r.evm))return;let n=t.chains,i=n.map(e=>e.id),s=r.evm,o=s.map(e=>e.chainId);n.forEach(t=>{if(!o.includes(t.id)){let r=`Chain (id: ${t.id} name: ${t.name}) is present in the Wagmi config, but is not present in the Dynamic configuration. Please make sure to enable the chain in your Dynamic Dashboard, or add it to the evmNetworks prop on DynamicContextProvider. For more information, see: https://docs.dynamic.xyz/guides/frameworks/wagmi-v2#chain-configuration`;if(e)throw Error(r+" \n\nTo suppress this error, pass `suppressChainMismatchError` to `DynamicWagmiConnector`: `<DynamicWagmiConnector suppressChainMismatchError>`");S.warn(r)}}),s.forEach(t=>{if(!i.includes(Number(t.chainId))){let r=`Chain (id: ${t.chainId} name: ${t.name}) is present in the Dynamic config, but is not present in the Wagmi configuration. Please make sure to add the chain to the chains prop on the Wagmi createConfig function. For more information, see: https://docs.dynamic.xyz/guides/frameworks/wagmi-v2#chain-configuration`;if(e)throw Error(r+" \n\nTo suppress this error, pass `suppressChainMismatchError` to `DynamicWagmiConnector`: `<DynamicWagmiConnector suppressChainMismatchError>`");S.warn(r)}})},[t.chains,r,e])},k=e=>"EVM"===e.connector.connectedChain,C=e=>e.connected,O=(e,t)=>e&&k(e)&&C(e)?e:t.filter(k).filter(C)[0],x=()=>{let e=(0,i.useRef)(void 0),t=(0,i.useRef)(0);return(0,i.useCallback)(r=>(r!==e.current&&(e.current=r,t.current+=1),`dynamic-${r.key}-${t.current}`),[])},R=({suppressChainMismatchError:e=!1,children:t})=>{let r=(0,s.Z)(),{handleLogOut:a,primaryWallet:u}=(0,o.SX)(),c=(0,o.wC)();I({throwOnMismatch:!e});let l=O(u,c),h=x(),f=(0,i.useRef)(!1),p=(0,i.useMemo)(()=>{if(!l)return;let e=h(l.connector);return r._internal.connectors.setup(d({connectorId:e,handleLogOut:a,preventWagmiSyncFromCallingLogout:f,walletConnector:l.connector}))},[r._internal.connectors,h,a,l]);return(0,i.useEffect)(()=>{r._internal.connectors.setState(p?[p]:[])},[r._internal.connectors,p]),(0,n.jsx)(E,{connector:p,preventWagmiSyncFromCallingLogout:f,wallets:c,children:t})}},72412:function(e,t,r){"use strict";var n=r(2265);let i=n.forwardRef(function(e,t){let{title:r,titleId:i,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),r?n.createElement("title",{id:i},r):null,n.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))});t.Z=i},65376:function(e,t,r){"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function a(e,t){i(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(t,{Gg:function(){return o},J8:function(){return a},Rx:function(){return n},aI:function(){return i},vp:function(){return s}})},97529:function(e,t,r){"use strict";r.d(t,{N:function(){return s}});var n=r(65376),i=r(68104);class s extends i.kb{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.GL)(this.buffer)}update(e){(0,n.Gg)(this);let{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.O0)(e)).length;for(let n=0;n<o;){let a=Math.min(s-this.pos,o-n);if(a===s){let t=(0,i.GL)(e);for(;s<=o-n;n+=s)this.process(t,n);continue}r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.Gg)(this),(0,n.J8)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:s,isLE:o}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;e.setUint32(t+u,o,n),e.setUint32(t+c,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);let u=(0,i.GL)(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,h=this.get();if(l>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)u.setUint32(4*e,h[e],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}},75390:function(e,t,r){"use strict";r.d(t,{EP:function(){return a},SD:function(){return c},Vl:function(){return o},gm:function(){return u},mk:function(){return l}});let n=BigInt(4294967296-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}let a=(e,t,r)=>e<<r|t>>>32-r,u=(e,t,r)=>t<<r|e>>>32-r,c=(e,t,r)=>t<<r-32|e>>>64-r,l=(e,t,r)=>e<<r-32|t>>>64-r;t.ZP={fromBig:s,split:o,toBig:(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:a,rotlSL:u,rotlBH:c,rotlBL:l,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)}},93557:function(e,t,r){"use strict";r.d(t,{b:function(){return o}});var n=r(65376),i=r(68104);class s extends i.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.vp)(e);let r=(0,i.O0)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,n.Gg)(this),this.iHash.update(e),this}digestInto(e){(0,n.Gg)(this),(0,n.aI)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let o=(e,t,r)=>new s(e,t).update(r).digest();o.create=(e,t)=>new s(e,t)},65530:function(e,t,r){"use strict";r.d(t,{J:function(){return h}});var n=r(97529),i=r(68104);let s=(e,t,r)=>e&t^~e&r,o=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class l extends n.N{constructor(){super(64,32,8,!1),this.A=0|u[0],this.B=0|u[1],this.C=0|u[2],this.D=0|u[3],this.E=0|u[4],this.F=0|u[5],this.G=0|u[6],this.H=0|u[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=c[e-15],r=c[e-2],n=(0,i.np)(t,7)^(0,i.np)(t,18)^t>>>3,s=(0,i.np)(r,17)^(0,i.np)(r,19)^r>>>10;c[e]=s+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:u,D:l,E:h,F:d,G:f,H:p}=this;for(let e=0;e<64;e++){let t=p+((0,i.np)(h,6)^(0,i.np)(h,11)^(0,i.np)(h,25))+s(h,d,f)+a[e]+c[e]|0,g=((0,i.np)(r,2)^(0,i.np)(r,13)^(0,i.np)(r,22))+o(r,n,u)|0;p=f,f=d,d=h,h=l+t|0,l=u,u=n,n=r,r=t+g|0}r=r+this.A|0,n=n+this.B|0,u=u+this.C|0,l=l+this.D|0,h=h+this.E|0,d=d+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,n,u,l,h,d,f,p)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let h=(0,i.hE)(()=>new l)},35743:function(e,t,r){"use strict";r.d(t,{fr:function(){return _}});var n=r(65376),i=r(75390),s=r(68104);let[o,a,u]=[[],[],[]],c=BigInt(0),l=BigInt(1),h=BigInt(2),d=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=l,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=c;for(let e=0;e<7;e++)(t=(t<<l^(t>>d)*p)%f)&h&&(i^=l<<(l<<BigInt(e))-l);u.push(i)}let[g,y]=(0,i.Vl)(u,!0),v=(e,t,r)=>r>32?(0,i.SD)(e,t,r):(0,i.EP)(e,t,r),m=(e,t,r)=>r>32?(0,i.mk)(e,t,r):(0,i.gm)(e,t,r);class b extends s.kb{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.Rx)(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.Jq)(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=v(s,o,1)^r[n],u=m(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=a[r],s=v(t,i,n),u=m(t,i,n),c=o[r];t=e[c],i=e[c+1],e[c]=s,e[c+1]=u}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=g[n],e[1]^=y[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,n.Gg)(this);let{blockLen:t,state:r}=this,i=(e=(0,s.O0)(e)).length;for(let n=0;n<i;){let s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.Gg)(this,!1),(0,n.aI)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.Rx)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.J8)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new b(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let _=(0,s.hE)(()=>new b(136,1,32))},68104:function(e,t,r){"use strict";r.d(t,{kb:function(){return h},eV:function(){return l},GL:function(){return o},O6:function(){return f},np:function(){return a},O0:function(){return c},Jq:function(){return i},iY:function(){return u},hE:function(){return d}});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,i=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}let o=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),a=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");function u(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function c(e){if("string"==typeof e&&(e=u(e)),!s(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}function l(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];if(!s(n))throw Error("Uint8Array expected");t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class h{clone(){return this._cloneInto()}}function d(e){let t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function f(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}},66094:function(e,t,r){"use strict";r.d(t,{S:function(){return p}});var n=r(56298),i=r(2459),s=r(69948),o=r(49010),a=class extends o.l{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){let s=t.queryKey,o=t.queryHash??(0,n.Rm)(s,t),a=this.get(o);return a||(a=new i.A({cache:this,queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){s.V.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n._x)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,n._x)(e,t)):t}notify(e){s.V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){s.V.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){s.V.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},u=r(92812),c=class extends o.l{constructor(e={}){super(),this.config=e,this.#t=new Map,this.#r=Date.now()}#t;#r;build(e,t,r){let n=new u.m({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){let t=l(e),r=this.#t.get(t)??[];r.push(e),this.#t.set(t,r),this.notify({type:"added",mutation:e})}remove(e){let t=l(e);if(this.#t.has(t)){let r=this.#t.get(t)?.filter(t=>t!==e);r&&(0===r.length?this.#t.delete(t):this.#t.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){let t=this.#t.get(l(e))?.find(e=>"pending"===e.state.status);return!t||t===e}runNext(e){let t=this.#t.get(l(e))?.find(t=>t!==e&&t.state.isPaused);return t?.continue()??Promise.resolve()}clear(){s.V.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#t.values()].flat()}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n.X7)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,n.X7)(e,t))}notify(e){s.V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return s.V.batch(()=>Promise.all(e.map(e=>e.continue().catch(n.ZT))))}};function l(e){return e.options.scope?.id??String(e.mutationId)}var h=r(34939),d=r(49937);function f(e,{pages:t,pageParams:r}){let n=t.length-1;return e.getNextPageParam(t[n],t,r[n],r)}var p=class{#n;#i;#s;#o;#a;#u;#c;#l;constructor(e={}){this.#n=e.queryCache||new a,this.#i=e.mutationCache||new c,this.#s=e.defaultOptions||{},this.#o=new Map,this.#a=new Map,this.#u=0}mount(){this.#u++,1===this.#u&&(this.#c=h.j.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#n.onFocus())}),this.#l=d.N.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#n.onOnline())}))}unmount(){this.#u--,0===this.#u&&(this.#c?.(),this.#c=void 0,this.#l?.(),this.#l=void 0)}isFetching(e){return this.#n.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#i.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{let r=this.defaultQueryOptions(e),n=this.#n.build(this,r);return e.revalidateIfStale&&n.isStaleByTime(r.staleTime)&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#n.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let i=this.defaultQueryOptions({queryKey:e}),s=this.#n.get(i.queryHash),o=s?.state.data,a=(0,n.SE)(t,o);if(void 0!==a)return this.#n.build(this,i).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return s.V.batch(()=>this.#n.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state}removeQueries(e){let t=this.#n;s.V.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#n,n={type:"active",...e};return s.V.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){let r={revert:!0,...t};return Promise.all(s.V.batch(()=>this.#n.findAll(e).map(e=>e.cancel(r)))).then(n.ZT).catch(n.ZT)}invalidateQueries(e={},t={}){return s.V.batch(()=>{if(this.#n.findAll(e).forEach(e=>{e.invalidate()}),"none"===e.refetchType)return Promise.resolve();let r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){let r={...t,cancelRefetch:t?.cancelRefetch??!0};return Promise.all(s.V.batch(()=>this.#n.findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(n.ZT)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(n.ZT)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#n.build(this,t);return r.isStaleByTime(t.staleTime)?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(n.ZT).catch(n.ZT)}fetchInfiniteQuery(e){var t;return e.behavior=(t=e.pages,{onFetch:(e,r)=>{let i=async()=>{let r;let i=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],a=e.state.data?.pageParams||[],u=!1,c=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},l=e.options.queryFn&&e.options.queryFn!==n.CN?e.options.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.options.queryHash}'`)),h=async(t,r,i)=>{if(u)return Promise.reject();if(null==r&&t.pages.length)return Promise.resolve(t);let s={queryKey:e.queryKey,pageParam:r,direction:i?"backward":"forward",meta:e.options.meta};c(s);let o=await l(s),{maxPages:a}=e.options,h=i?n.Ht:n.VX;return{pages:h(t.pages,o,a),pageParams:h(t.pageParams,r,a)}};if(s&&o.length){let e="backward"===s,t={pages:o,pageParams:a},n=(e?function(e,{pages:t,pageParams:r}){return e.getPreviousPageParam?.(t[0],t,r[0],r)}:f)(i,t);r=await h(t,n,e)}else{r=await h({pages:[],pageParams:[]},a[0]??i.initialPageParam);let e=t??o.length;for(let t=1;t<e;t++){let e=f(i,r);r=await h(r,e)}}return r};e.options.persister?e.fetchFn=()=>e.options.persister?.(i,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=i}}),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(n.ZT).catch(n.ZT)}resumePausedMutations(){return d.N.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#n}getMutationCache(){return this.#i}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#o.set((0,n.Ym)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#o.values()],r={};return t.forEach(t=>{(0,n.to)(e,t.queryKey)&&(r={...r,...t.defaultOptions})}),r}setMutationDefaults(e,t){this.#a.set((0,n.Ym)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#a.values()],r={};return t.forEach(t=>{(0,n.to)(e,t.mutationKey)&&(r={...r,...t.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,n.Rm)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===n.CN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#n.clear(),this.#i.clear()}}},48290:function(e,t,r){"use strict";r.d(t,{K:function(){return u},M:function(){return a}});var n=r(80220),i=r(92248);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let s=BigInt(0),o=BigInt(1);function a(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>s;)r&o&&(n=n.add(i)),i=i.double(),r>>=o;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),s=[],o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){let{windows:a,windowSize:u}=n(t),c=e.ZERO,l=e.BASE,h=BigInt(2**t-1),d=2**t,f=BigInt(t);for(let e=0;e<a;e++){let t=e*u,n=Number(s&h);s>>=f,n>u&&(n-=d,s+=o);let a=t+Math.abs(n)-1,p=e%2!=0,g=n<0;0===n?l=l.add(r(p,i[t])):c=c.add(r(g,i[a]))}return{p:c,f:l}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}function u(e){return(0,n.OP)(e.Fp),(0,i.FF)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.kK)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},80220:function(e,t,r){"use strict";r.d(t,{DV:function(){return b},OP:function(){return y},PS:function(){return w},Tu:function(){return p},U_:function(){return f},Us:function(){return E},gN:function(){return m},kK:function(){return v},oA:function(){return d},wQ:function(){return h}});var n=r(92248);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),u=BigInt(4),c=BigInt(5),l=BigInt(8);function h(e,t){let r=e%t;return r>=i?r:t+r}function d(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n}function f(e,t){if(e===i||t<=i)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=h(e,t),n=t,o=i,a=s,u=s,c=i;for(;r!==i;){let e=n/r,t=n%r,i=o-u*e,s=a-c*e;n=r,r=t,o=u,a=c,u=i,c=s}if(n!==s)throw Error("invert: does not exist");return h(o,t)}BigInt(9),BigInt(16);let p=(e,t)=>(h(e,t)&s)===s,g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function y(e){let t=g.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.FF)(e,t)}function v(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function m(e,t,r=!1,d={}){if(e<=i)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:p,nByteLength:g}=v(e,t);if(g>2048)throw Error("Field lengths over 2048 bytes are not supported");let y=function(e){if(e%u===a){let t=(e+s)/u;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%l===c){let t=(e-c)/l;return function(e,r){let n=e.mul(r,o),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,o),i),u=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(u),r))throw Error("Cannot find square root");return u}}return function(e){let t,r,n;let a=(e-s)/o;for(t=e-s,r=0;t%o===i;t/=o,r++);for(n=o;n<e&&function(e,t,r){if(r<=i||t<i)throw Error("Expected power/modulo > 0");if(r===s)return i;let n=s;for(;t>i;)t&s&&(n=n*e%r),e=e*e%r,t>>=s;return n}(n,a,e)!==e-s;n++);if(1===r){let t=(e+s)/u;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let c=(t+s)/o;return function(e,i){if(e.pow(i,a)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,u=e.pow(e.mul(e.ONE,n),t),l=e.pow(i,c),h=e.pow(i,t);for(;!e.eql(h,e.ONE);){if(e.eql(h,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(h);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(u,s<<BigInt(o-t-1));u=e.sqr(r),l=e.mul(l,r),h=e.mul(h,u),o=t}return l}}(e)}(e),m=Object.freeze({ORDER:e,BITS:p,BYTES:g,MASK:(0,n.dQ)(p),ZERO:i,ONE:s,create:t=>h(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&s)===s,neg:t=>h(-t,e),eql:(e,t)=>e===t,sqr:t=>h(t*t,e),add:(t,r)=>h(t+r,e),sub:(t,r)=>h(t-r,e),mul:(t,r)=>h(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<i)throw Error("Expected power > 0");if(r===i)return e.ONE;if(r===s)return t;let n=e.ONE,o=t;for(;r>i;)r&s&&(n=e.mul(n,o)),o=e.sqr(o),r>>=s;return n})(m,e,t),div:(t,r)=>h(t*f(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>f(t,e),sqrt:d.sqrt||(e=>y(m,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(m,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.S5)(e,g):(0,n.tL)(e,g),fromBytes:e=>{if(e.length!==g)throw Error(`Fp.fromBytes: expected ${g}, got ${e.length}`);return r?(0,n.ty)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(m)}function b(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}function _(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function w(e){let t=_(e);return t+Math.ceil(t/2)}function E(e,t,r=!1){let i=e.length,o=_(t),a=w(t);if(i<16||i<a||i>1024)throw Error(`expected ${a}-1024 bytes of input, got ${i}`);let u=h(r?(0,n.bytesToNumberBE)(e):(0,n.ty)(e),t-s)+s;return r?(0,n.S5)(u,o):(0,n.tL)(u,o)}},92248:function(e,t,r){"use strict";r.d(t,{FF:function(){return S},S5:function(){return g},_t:function(){return s},bytesToNumberBE:function(){return d},ci:function(){return a},dQ:function(){return m},eV:function(){return v},hexToBytes:function(){return h},n$:function(){return w},ql:function(){return y},tL:function(){return p},ty:function(){return f}}),BigInt(0);let n=BigInt(1),i=BigInt(2);function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}let o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e){if(!s(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t}function u(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}let c={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function l(e){return e>=c._0&&e<=c._9?e-c._0:e>=c._A&&e<=c._F?e-(c._A-10):e>=c._a&&e<=c._f?e-(c._a-10):void 0}function h(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=l(e.charCodeAt(i)),s=l(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function d(e){return u(a(e))}function f(e){if(!s(e))throw Error("Uint8Array expected");return u(a(Uint8Array.from(e).reverse()))}function p(e,t){return h(e.toString(16).padStart(2*t,"0"))}function g(e,t){return p(e,t).reverse()}function y(e,t,r){let n;if("string"==typeof t)try{n=h(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(s(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function v(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];if(!s(n))throw Error("Uint8Array expected");t+=n.length}let r=new Uint8Array(t),n=0;for(let t=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let m=e=>(i<<BigInt(e-1))-n,b=e=>new Uint8Array(e),_=e=>Uint8Array.from(e);function w(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=b(e),i=b(e),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),u=(e=b())=>{i=a(_([0]),e),n=a(),0!==e.length&&(i=a(_([1]),e),n=a())},c=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return v(...r)};return(e,t)=>{let r;for(o(),u(e);!(r=t(c()));)u();return o(),r}}let E={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||s(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function S(e,t,r={}){let n=(t,r,n)=>{let i=E[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}},10142:function(e,t,r){"use strict";r.d(t,{UN:function(){return N}});var n=r(97529),i=r(75390),s=r(68104);let[o,a]=i.ZP.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),u=new Uint32Array(80),c=new Uint32Array(80);class l extends n.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:c,Fh:l,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,i,s,o,a,u,c,l,h,d,f,p,g]}set(e,t,r,n,i,s,o,a,u,c,l,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t),c[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|u[e-15],r=0|c[e-15],n=i.ZP.rotrSH(t,r,1)^i.ZP.rotrSH(t,r,8)^i.ZP.shrSH(t,r,7),s=i.ZP.rotrSL(t,r,1)^i.ZP.rotrSL(t,r,8)^i.ZP.shrSL(t,r,7),o=0|u[e-2],a=0|c[e-2],l=i.ZP.rotrSH(o,a,19)^i.ZP.rotrBH(o,a,61)^i.ZP.shrSH(o,a,6),h=i.ZP.rotrSL(o,a,19)^i.ZP.rotrBL(o,a,61)^i.ZP.shrSL(o,a,6),d=i.ZP.add4L(s,h,c[e-7],c[e-16]),f=i.ZP.add4H(d,n,l,u[e-7],u[e-16]);u[e]=0|f,c[e]=0|d}let{Ah:r,Al:n,Bh:s,Bl:l,Ch:h,Cl:d,Dh:f,Dl:p,Eh:g,El:y,Fh:v,Fl:m,Gh:b,Gl:_,Hh:w,Hl:E}=this;for(let e=0;e<80;e++){let t=i.ZP.rotrSH(g,y,14)^i.ZP.rotrSH(g,y,18)^i.ZP.rotrBH(g,y,41),S=i.ZP.rotrSL(g,y,14)^i.ZP.rotrSL(g,y,18)^i.ZP.rotrBL(g,y,41),I=g&v^~g&b,k=y&m^~y&_,C=i.ZP.add5L(E,S,k,a[e],c[e]),O=i.ZP.add5H(C,w,t,I,o[e],u[e]),x=0|C,R=i.ZP.rotrSH(r,n,28)^i.ZP.rotrBH(r,n,34)^i.ZP.rotrBH(r,n,39),A=i.ZP.rotrSL(r,n,28)^i.ZP.rotrBL(r,n,34)^i.ZP.rotrBL(r,n,39),P=r&s^r&h^s&h,D=n&l^n&d^l&d;w=0|b,E=0|_,b=0|v,_=0|m,v=0|g,m=0|y,({h:g,l:y}=i.ZP.add(0|f,0|p,0|O,0|x)),f=0|h,p=0|d,h=0|s,d=0|l,s=0|r,l=0|n;let N=i.ZP.add3L(x,A,D);r=i.ZP.add3H(N,O,R,P),n=0|N}({h:r,l:n}=i.ZP.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l:l}=i.ZP.add(0|this.Bh,0|this.Bl,0|s,0|l)),({h:h,l:d}=i.ZP.add(0|this.Ch,0|this.Cl,0|h,0|d)),({h:f,l:p}=i.ZP.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:g,l:y}=i.ZP.add(0|this.Eh,0|this.El,0|g,0|y)),({h:v,l:m}=i.ZP.add(0|this.Fh,0|this.Fl,0|v,0|m)),({h:b,l:_}=i.ZP.add(0|this.Gh,0|this.Gl,0|b,0|_)),({h:w,l:E}=i.ZP.add(0|this.Hh,0|this.Hl,0|w,0|E)),this.set(r,n,s,l,h,d,f,p,g,y,v,m,b,_,w,E)}roundClean(){u.fill(0),c.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let h=(0,s.hE)(()=>new l);var d=r(80220),f=r(92248),p=r(48290);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let g=BigInt(0),y=BigInt(1),v=BigInt(2),m=BigInt(8),b={zip215:!0},_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),w=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),E=BigInt(0),S=BigInt(1),I=BigInt(2),k=BigInt(5),C=BigInt(10),O=BigInt(20),x=BigInt(40),R=BigInt(80);function A(e,t){let r=(0,d.wQ)(t*t*t,_),n=function(e){let t=e*e%_*e%_,r=(0,d.oA)(t,I,_)*t%_,n=(0,d.oA)(r,S,_)*e%_,i=(0,d.oA)(n,k,_)*n%_,s=(0,d.oA)(i,C,_)*i%_,o=(0,d.oA)(s,O,_)*s%_,a=(0,d.oA)(o,x,_)*o%_,u=(0,d.oA)(a,R,_)*a%_,c=(0,d.oA)(u,R,_)*a%_,l=(0,d.oA)(c,C,_)*i%_;return{pow_p_5_8:(0,d.oA)(l,I,_)*e%_,b2:t}}(e*(0,d.wQ)(r*r*t,_)).pow_p_5_8,i=(0,d.wQ)(e*r*n,_),s=(0,d.wQ)(t*i*i,_),o=i,a=(0,d.wQ)(i*w,_),u=s===e,c=s===(0,d.wQ)(-e,_),l=s===(0,d.wQ)(-e*w,_);return u&&(i=o),(c||l)&&(i=a),(0,d.Tu)(i,_)&&(i=(0,d.wQ)(-i,_)),{isValid:u||c,value:i}}let P=(0,d.gN)(_,void 0,!0),D={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:P,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:h,randomBytes:s.O6,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:A},N=function(e){let t=function(e){let t=(0,p.K)(e);return f.FF(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=t,c=v<<BigInt(8*a)-y,l=r.create,h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(e){return{isValid:!1,value:g}}}),_=t.adjustScalarBytes||(e=>e),w=t.domain||((e,t,r)=>{if(t.length||r)throw Error("Contexts/pre-hash are not supported");return e}),E=e=>"bigint"==typeof e&&g<e,S=(e,t)=>E(e)&&E(t)&&e<t,I=e=>e===g||S(e,c);function k(e,t){if(S(e,t))return e;throw Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function C(e){return e===g?e:k(e,n)}let O=new Map;function x(e){if(!(e instanceof R))throw Error("ExtendedPoint expected")}class R{constructor(e,t,r,n){if(this.ex=e,this.ey=t,this.ez=r,this.et=n,!I(e))throw Error("x required");if(!I(t))throw Error("y required");if(!I(r))throw Error("z required");if(!I(n))throw Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof R)throw Error("extended point not allowed");let{x:t,y:r}=e||{};if(!I(t)||!I(r))throw Error("invalid affine point");return new R(t,r,y,l(t*r))}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(R.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,O.delete(this)}assertValidity(){let{a:e,d:r}=t;if(this.is0())throw Error("bad point: ZERO");let{ex:n,ey:i,ez:s,et:o}=this,a=l(n*n),u=l(i*i),c=l(s*s),h=l(c*c),d=l(a*e);if(l(c*l(d+u))!==l(h+l(r*l(a*u))))throw Error("bad point: equation left != right (1)");if(l(n*i)!==l(s*o))throw Error("bad point: equation left != right (2)")}equals(e){x(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:s,ez:o}=e,a=l(t*o),u=l(i*n),c=l(r*o),h=l(s*n);return a===u&&c===h}is0(){return this.equals(R.ZERO)}negate(){return new R(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){let{a:e}=t,{ex:r,ey:n,ez:i}=this,s=l(r*r),o=l(n*n),a=l(v*l(i*i)),u=l(e*s),c=r+n,h=l(l(c*c)-s-o),d=u+o,f=d-a,p=u-o,g=l(h*f),y=l(d*p),m=l(h*p);return new R(g,y,l(f*d),m)}add(e){x(e);let{a:r,d:n}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:u,ey:c,ez:h,et:d}=e;if(r===BigInt(-1)){let e=l((s-i)*(c+u)),t=l((s+i)*(c-u)),r=l(t-e);if(r===g)return this.double();let n=l(o*v*d),f=l(a*v*h),p=f+n,y=t+e,m=f-n,b=l(p*r),_=l(y*m),w=l(p*m);return new R(b,_,l(r*y),w)}let f=l(i*u),p=l(s*c),y=l(a*n*d),m=l(o*h),b=l((i+s)*(u+c)-f-p),_=m-y,w=m+y,E=l(p-r*f),S=l(b*_),I=l(w*E),k=l(b*E);return new R(S,I,l(_*w),k)}subtract(e){return this.add(e.negate())}wNAF(e){return D.wNAFCached(this,O,e,R.normalizeZ)}multiply(e){let{p:t,f:r}=this.wNAF(k(e,n));return R.normalizeZ([t,r])[0]}multiplyUnsafe(e){let t=C(e);return t===g?P:this.equals(P)||t===y?this:this.equals(A)?this.wNAF(t).p:D.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return D.unsafeLadder(this,n).is0()}toAffine(e){let{ex:t,ey:n,ez:i}=this,s=this.is0();null==e&&(e=s?m:r.inv(i));let o=l(t*e),a=l(n*e),u=l(i*e);if(s)return{x:g,y:y};if(u!==y)throw Error("invZ was invalid");return{x:o,y:a}}clearCofactor(){let{h:e}=t;return e===y?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){let{d:i,a:s}=t,o=r.BYTES,a=(e=(0,f.ql)("pointHex",e,o)).slice(),u=e[o-1];a[o-1]=-129&u;let d=f.ty(a);d===g||(n?k(d,c):k(d,r.ORDER));let p=l(d*d),{isValid:v,value:m}=h(l(p-y),l(i*p-s));if(!v)throw Error("Point.fromHex: invalid y coordinate");let b=(m&y)===y,_=(128&u)!=0;if(!n&&m===g&&_)throw Error("Point.fromHex: x=0 and x_0=1");return _!==b&&(m=l(-m)),R.fromAffine({x:m,y:d})}static fromPrivateKey(e){return T(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),n=f.S5(t,r.BYTES);return n[n.length-1]|=e&y?128:0,n}toHex(){return f.ci(this.toRawBytes())}}R.BASE=new R(t.Gx,t.Gy,y,l(t.Gx*t.Gy)),R.ZERO=new R(g,y,y,g);let{BASE:A,ZERO:P}=R,D=(0,p.M)(R,8*a);function N(e){var t;return t=f.ty(e),(0,d.wQ)(t,n)}function T(e){e=(0,f.ql)("private key",e,a);let t=(0,f.ql)("hashed private key",s(e),2*a),r=_(t.slice(0,a)),n=t.slice(a,2*a),i=N(r),o=A.multiply(i),u=o.toRawBytes();return{head:r,prefix:n,scalar:i,point:o,pointBytes:u}}function M(e=new Uint8Array,...t){return N(s(w(f.eV(...t),(0,f.ql)("context",e),!!i)))}return A._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return T(e).pointBytes},sign:function(e,t,s={}){var o;e=(0,f.ql)("message",e),i&&(e=i(e));let{prefix:u,scalar:c,pointBytes:l}=T(t),h=M(s.context,u,e),p=A.multiply(h).toRawBytes(),g=(o=h+M(s.context,p,l,e)*c,(0,d.wQ)(o,n));C(g);let y=f.eV(p,f.S5(g,r.BYTES));return(0,f.ql)("result",y,2*a)},verify:function(e,t,n,s=b){let o,a,u;let{context:c,zip215:l}=s,h=r.BYTES;e=(0,f.ql)("signature",e,2*h),t=(0,f.ql)("message",t),i&&(t=i(t));let d=f.ty(e.slice(h,2*h));try{o=R.fromHex(n,l),a=R.fromHex(e.slice(0,h),l),u=A.multiplyUnsafe(d)}catch(e){return!1}if(!l&&o.isSmallOrder())return!1;let p=M(c,a.toRawBytes(),o.toRawBytes(),t);return a.add(o.multiplyUnsafe(p)).subtract(u).clearCofactor().equals(R.ZERO)},ExtendedPoint:R,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>o(r.BYTES),precompute:(e=8,t=R.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}(D);({...D});let T=(P.ORDER+BigInt(3))/BigInt(8);function M(e){if(!(e instanceof z))throw Error("RistrettoPoint expected")}P.pow(I,T),P.sqrt(P.neg(P.ONE)),P.ORDER,BigInt(5),BigInt(8),BigInt(486662),(0,d.DV)(P,P.neg(BigInt(486664)));let L=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),j=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),q=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),U=e=>A(S,e),F=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$=e=>N.CURVE.Fp.create(bytesToNumberLE(e)&F);function H(e){let{d:t}=N.CURVE,r=N.CURVE.Fp.ORDER,n=N.CURVE.Fp.create,i=n(null*e*e),s=n((i+S)*B),o=BigInt(-1),a=n((o-t*i)*n(i+t)),{isValid:u,value:c}=A(s,a),l=n(c*e);isNegativeLE(l,r)||(l=n(-l)),u||(c=l),u||(o=i);let h=n(o*(i-S)*q-a),d=c*c,f=n((c+c)*a),p=n(h*L),g=n(S-d),y=n(S+d);return new N.ExtendedPoint(n(f*y),n(g*p),n(p*y),n(f*g))}class z{constructor(e){this.ep=e}static fromAffine(e){return new z(N.ExtendedPoint.fromAffine(e))}static hashToCurve(e){let t=H($((e=ensureBytes("ristrettoHash",e,64)).slice(0,32))),r=H($(e.slice(32,64)));return new z(t.add(r))}static fromHex(e){e=ensureBytes("ristrettoHex",e,32);let{a:t,d:r}=N.CURVE,n=N.CURVE.Fp.ORDER,i=N.CURVE.Fp.create,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=$(e);if(!equalBytes(numberToBytesLE(o,32),e)||isNegativeLE(o,n))throw Error(s);let a=i(o*o),u=i(S+t*a),c=i(S-t*a),l=i(u*u),h=i(c*c),d=i(t*r*l-h),{isValid:f,value:p}=U(i(d*h)),g=i(p*c),y=i(p*g*d),v=i((o+o)*g);isNegativeLE(v,n)&&(v=i(-v));let m=i(u*y),b=i(v*m);if(!f||isNegativeLE(b,n)||m===E)throw Error(s);return new z(new N.ExtendedPoint(v,m,S,b))}toRawBytes(){let e,{ex:t,ey:r,ez:n,et:i}=this.ep,s=N.CURVE.Fp.ORDER,o=N.CURVE.Fp.create,a=o(o(n+r)*o(n-r)),u=o(t*r),c=o(u*u),{value:l}=U(o(a*c)),h=o(l*a),d=o(l*u),f=o(h*d*i);if(isNegativeLE(i*f,s)){let n=o(null*r),i=o(null*t);t=n,r=i,e=o(h*j)}else e=d;isNegativeLE(t*f,s)&&(r=o(-r));let p=o((n-r)*e);return isNegativeLE(p,s)&&(p=o(-p)),numberToBytesLE(p,32)}toHex(){return bytesToHex(this.toRawBytes())}toString(){return this.toHex()}equals(e){M(e);let{ex:t,ey:r}=this.ep,{ex:n,ey:i}=e.ep,s=N.CURVE.Fp.create,o=s(t*i)===s(r*n),a=s(r*i)===s(t*n);return o||a}add(e){return M(e),new z(this.ep.add(e.ep))}subtract(e){return M(e),new z(this.ep.subtract(e.ep))}multiply(e){return new z(this.ep.multiply(e))}multiplyUnsafe(e){return new z(this.ep.multiplyUnsafe(e))}double(){return new z(this.ep.double())}negate(){return new z(this.ep.negate())}}},52110:function(e,t,r){"use strict";r.d(t,{kA:function(){return w}});var n=r(65530),i=r(80220),s=r(93557),o=r(68104),a=r(92248),u=r(48290);let{bytesToNumberBE:c,hexToBytes:l}=a,h={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=h;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:c(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=h,r="string"==typeof e?l(e):e;if(!a._t(r))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=h._parseInt(r.subarray(2)),{d:o,l:u}=h._parseInt(s);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},d=BigInt(0),f=BigInt(1),p=(BigInt(2),BigInt(3));BigInt(4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let g=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),y=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),v=BigInt(1),m=BigInt(2),b=(e,t)=>(e+t/m)/t,_=(0,i.gN)(g,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=e*e*e%g,l=c*c*e%g,h=(0,i.oA)(l,t,g)*l%g,d=(0,i.oA)(h,t,g)*l%g,f=(0,i.oA)(d,m,g)*c%g,p=(0,i.oA)(f,n,g)*f%g,y=(0,i.oA)(p,s,g)*p%g,v=(0,i.oA)(y,a,g)*y%g,b=(0,i.oA)(v,u,g)*v%g,w=(0,i.oA)(b,a,g)*y%g,E=(0,i.oA)(w,t,g)*l%g,S=(0,i.oA)(E,o,g)*p%g,I=(0,i.oA)(S,r,g)*c%g,k=(0,i.oA)(I,m,g);if(!_.eql(_.sqr(k),e))throw Error("Cannot find square root");return k}}),w=function(e,t){let r=t=>(function(e){let t=function(e){let t=(0,u.K)(e);return a.FF(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,s=r.BYTES+1,o=2*r.BYTES+1;function c(e){return i.wQ(e,n)}function l(e){return i.U_(e,n)}let{ProjectivePoint:g,normPrivateKeyToScalar:y,weierstrassEquation:v,isWithinCurveOrder:m}=function(e){let t=/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function(e){let t=(0,u.K)(e);a.FF(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return a.eV(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),s=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){let{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw Error("bad generator point: equation left != right");function c(e){return"bigint"==typeof e&&d<e&&e<t.n}function l(e){if(!c(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function h(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:s,wrapPrivateKey:o,n:u}=t;if(n&&"bigint"!=typeof e){if(a._t(e)&&(e=a.ci(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*s,"0")}try{r="bigint"==typeof e?e:a.bytesToNumberBE((0,a.ql)("private key",e,s))}catch(t){throw Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return o&&(r=i.wQ(r,u)),l(r),r}let g=new Map;function y(e){if(!(e instanceof v))throw Error("ProjectivePoint expected")}class v{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof v)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?v.ZERO:new v(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(v.fromAffine)}static fromHex(e){let t=v.fromAffine(s((0,a.ql)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return v.BASE.multiply(h(e))}_setWindowSize(e){this._WINDOW_SIZE=e,g.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),s=o(e);if(!r.eql(i,s))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){y(e);let{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,u=r.eql(r.mul(t,a),r.mul(s,i)),c=r.eql(r.mul(n,a),r.mul(o,i));return u&&c}negate(){return new v(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,p),{px:s,py:o,pz:a}=this,u=r.ZERO,c=r.ZERO,l=r.ZERO,h=r.mul(s,s),d=r.mul(o,o),f=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),l=r.mul(s,a),l=r.add(l,l),u=r.mul(e,l),c=r.mul(i,f),c=r.add(u,c),u=r.sub(d,c),c=r.add(d,c),c=r.mul(u,c),u=r.mul(g,u),l=r.mul(i,l),f=r.mul(e,f),g=r.sub(h,f),g=r.mul(e,g),g=r.add(g,l),l=r.add(h,h),h=r.add(l,h),h=r.add(h,f),h=r.mul(h,g),c=r.add(c,h),f=r.mul(o,a),f=r.add(f,f),h=r.mul(f,g),u=r.sub(u,h),l=r.mul(f,d),l=r.add(l,l),new v(u,c,l=r.add(l,l))}add(e){y(e);let{px:n,py:i,pz:s}=this,{px:o,py:a,pz:u}=e,c=r.ZERO,l=r.ZERO,h=r.ZERO,d=t.a,f=r.mul(t.b,p),g=r.mul(n,o),m=r.mul(i,a),b=r.mul(s,u),_=r.add(n,i),w=r.add(o,a);_=r.mul(_,w),w=r.add(g,m),_=r.sub(_,w),w=r.add(n,s);let E=r.add(o,u);return w=r.mul(w,E),E=r.add(g,b),w=r.sub(w,E),E=r.add(i,s),c=r.add(a,u),E=r.mul(E,c),c=r.add(m,b),E=r.sub(E,c),h=r.mul(d,w),c=r.mul(f,b),h=r.add(c,h),c=r.sub(m,h),h=r.add(m,h),l=r.mul(c,h),m=r.add(g,g),m=r.add(m,g),b=r.mul(d,b),w=r.mul(f,w),m=r.add(m,b),b=r.sub(g,b),b=r.mul(d,b),w=r.add(w,b),g=r.mul(m,w),l=r.add(l,g),g=r.mul(E,w),c=r.mul(_,c),c=r.sub(c,g),g=r.mul(_,m),h=r.mul(E,h),new v(c,l,h=r.add(h,g))}subtract(e){return this.add(e.negate())}is0(){return this.equals(v.ZERO)}wNAF(e){return b.wNAFCached(this,g,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(v.fromAffine)})}multiplyUnsafe(e){let n=v.ZERO;if(e===d)return n;if(l(e),e===f)return this;let{endo:i}=t;if(!i)return b.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:a,k2:u}=i.splitScalar(e),c=n,h=n,p=this;for(;o>d||u>d;)o&f&&(c=c.add(p)),u&f&&(h=h.add(p)),p=p.double(),o>>=f,u>>=f;return s&&(c=c.negate()),a&&(h=h.negate()),h=new v(r.mul(h.px,i.beta),h.py,h.pz),c.add(h)}multiply(e){let n,i;l(e);let{endo:s}=t;if(s){let{k1neg:t,k1:o,k2neg:a,k2:u}=s.splitScalar(e),{p:c,f:l}=this.wNAF(o),{p:h,f:d}=this.wNAF(u);c=b.constTimeNegate(t,c),h=b.constTimeNegate(a,h),h=new v(r.mul(h.px,s.beta),h.py,h.pz),n=c.add(h),i=l.add(d)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return v.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=v.BASE,i=(e,t)=>t!==d&&t!==f&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){let{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));let o=r.mul(t,e),a=r.mul(n,e),u=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===f)return!0;if(r)return r(v,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===f?this:r?r(v,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(v,this,e)}toHex(e=!0){return a.ci(this.toRawBytes(e))}}v.BASE=new v(t.Gx,t.Gy,r.ONE),v.ZERO=new v(r.ZERO,r.ONE,r.ZERO);let m=t.nBitLength,b=(0,u.M)(v,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:v,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:c}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x),o=a.eV;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===s&&(2===n||3===n)){let e=a.bytesToNumberBE(i);if(!(d<e&&e<r.ORDER))throw Error("Point is not on curve");let t=v(e),s=r.sqrt(t);return(1&n)==1!=((s&f)===f)&&(s=r.neg(s)),{x:e,y:s}}if(t===o&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),b=e=>a.ci(a.tL(e,t.nByteLength)),_=(e,t,r)=>a.bytesToNumberBE(e.slice(t,r));class w{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new w(_(e=(0,a.ql)("compactSignature",e,2*r),0,r),_(e,r,2*r))}static fromDER(e){let{r:t,s:r}=h.toSig((0,a.ql)("DER",e));return new w(t,r)}assertValidity(){if(!m(this.r))throw Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new w(this.r,this.s,e)}recoverPublicKey(e){let{r:n,s:i,recovery:s}=this,o=I((0,a.ql)("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let u=2===s||3===s?n+t.n:n;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&s)==0?"02":"03",d=g.fromHex(h+b(u)),f=l(u),p=c(-o*f),y=c(i*f),v=g.BASE.multiplyAndAddUnsafe(d,p,y);if(!v)throw Error("point at infinify");return v.assertValidity(),v}hasHighS(){return this.s>n>>f}normalizeS(){return this.hasHighS()?new w(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return a.hexToBytes(this.toDERHex())}toDERHex(){return h.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return a.hexToBytes(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}function E(e){let t=a._t(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===s||n===o:r?n===2*s||n===2*o:e instanceof g}let S=t.bits2int||function(e){let r=a.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},I=t.bits2int_modN||function(e){return c(S(e))},k=a.dQ(t.nBitLength);function C(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(d<=e&&e<k))throw Error(`bigint expected < 2^${t.nBitLength}`);return a.tL(e,t.nByteLength)}let O={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return g.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(E(e))throw Error("first arg must be private key");if(!E(t))throw Error("second arg must be public key");return g.fromHex(t).multiply(y(e)).toRawBytes(r)},sign:function(e,i,s=O){let{seed:o,k2sig:u}=function(e,i,s=O){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:o,randomBytes:u}=t,{lowS:h,prehash:p,extraEntropy:v}=s;null==h&&(h=!0),e=(0,a.ql)("msgHash",e),p&&(e=(0,a.ql)("prehashed msgHash",o(e)));let b=I(e),_=y(i),E=[C(_),C(b)];if(null!=v){let e=!0===v?u(r.BYTES):v;E.push((0,a.ql)("extraEntropy",e))}return{seed:a.eV(...E),k2sig:function(e){let t=S(e);if(!m(t))return;let r=l(t),i=g.BASE.multiply(t).toAffine(),s=c(i.x);if(s===d)return;let o=c(r*c(b+s*_));if(o===d)return;let a=(i.x===s?0:2)|Number(i.y&f),u=o;if(h&&o>n>>f)u=o>n>>f?c(-o):o,a^=1;return new w(s,u,a)}}}(e,i,s);return a.n$(t.hash.outputLen,t.nByteLength,t.hmac)(o,u)},verify:function(e,r,n,i=x){let s,o;if(r=(0,a.ql)("msgHash",r),n=(0,a.ql)("publicKey",n),"strict"in i)throw Error("options.strict was renamed to lowS");let{lowS:u,prehash:d}=i;try{if("string"==typeof e||a._t(e))try{o=w.fromDER(e)}catch(t){if(!(t instanceof h.Err))throw t;o=w.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;o=new w(t,r)}else throw Error("PARSE");s=g.fromHex(n)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&o.hasHighS())return!1;d&&(r=t.hash(r));let{r:f,s:p}=o,y=I(r),v=l(p),m=c(y*v),b=c(f*v),_=g.BASE.multiplyAndAddUnsafe(s,m,b)?.toAffine();return!!_&&c(_.x)===f},ProjectivePoint:g,Signature:w,utils:{isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{let e=i.PS(t.n);return i.Us(t.randomBytes(e),t.n)},precompute:(e=8,t=g.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>(0,s.b)(t,e,(0,o.eV)(...r)),randomBytes:o.O6});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:_,n:y,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-v*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=BigInt("0x100000000000000000000000000000000"),o=b(t*e,y),a=b(-r*e,y),u=(0,i.wQ)(e-o*t-a*n,y),c=(0,i.wQ)(-o*r-a*t,y),l=u>s,h=c>s;if(l&&(u=y-u),h&&(c=y-c),u>s||c>s)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:h,k2:c}}}},n.J);BigInt(0),w.ProjectivePoint},6133:function(e,t,r){"use strict";r.d(t,{AG:function(){return v},G0:function(){return I},IM:function(){return _},IX:function(){return f},O7:function(){return p},Rx:function(){return m},Ue:function(){return c},Yj:function(){return d},Z_:function(){return w},_4:function(){return k},bc:function(){return E},dt:function(){return S},eE:function(){return g},i0:function(){return y},jt:function(){return b},oQ:function(){return C}});class n extends TypeError{constructor(e,t){let r;let{message:n,...i}=e,{path:s}=e;super(0===s.length?n:"At path: "+s.join(".")+" -- "+n),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[e,...t()]}}}function i(e){return"object"==typeof e&&null!=e}function s(e){return"string"==typeof e?JSON.stringify(e):""+e}function*o(e,t,r,n){var o;for(let a of(i(o=e)&&"function"==typeof o[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:o}=t,{type:a}=r,{refinement:u,message:c="Expected a value of type `"+a+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+s(n)+"`"}=e;return{value:n,type:a,refinement:u,key:i[i.length-1],path:i,branch:o,...e,message:c}}(a,t,r,n);e&&(yield e)}}function*a(e,t,r={}){let{path:n=[],branch:s=[e],coerce:o=!1,mask:u=!1}=r,c={path:n,branch:s};if(o&&(e=t.coercer(e,c),u&&"type"!==t.type&&i(t.schema)&&i(e)&&!Array.isArray(e)))for(let r in e)void 0===t.schema[r]&&delete e[r];let l=!0;for(let r of t.validator(e,c))l=!1,yield[r,void 0];for(let[r,h,d]of t.entries(e,c))for(let t of a(h,d,{path:void 0===r?n:[...n,r],branch:void 0===r?s:[...s,h],coerce:o,mask:u}))t[0]?(l=!1,yield[t[0],void 0]):o&&(h=t[1],void 0===r?e=h:e instanceof Map?e.set(r,h):e instanceof Set?e.add(h):i(e)&&(e[r]=h));if(l)for(let r of t.refiner(e,c))l=!1,yield[r,void 0];l&&(yield[void 0,e])}class u{constructor(e){let{type:t,schema:r,validator:n,refiner:i,coercer:s=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=s,n?this.validator=(e,t)=>o(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>o(i(e,t),t,this,e):this.refiner=()=>[]}assert(e){return function(e,t){let r=l(e,t);if(r[0])throw r[0]}(e,this)}create(e){return c(e,this)}is(e){return!l(e,this)[0]}mask(e){return function(e,t){let r=l(e,t,{coerce:!0,mask:!0});if(!r[0])return r[1];throw r[0]}(e,this)}validate(e,t={}){return l(e,this,t)}}function c(e,t){let r=l(e,t,{coerce:!0});if(!r[0])return r[1];throw r[0]}function l(e,t,r={}){let i=a(e,t,r),s=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(i);return s[0]?[new n(s[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,s[1]]}function h(e,t){return new u({type:e,schema:null,validator:t})}function d(){return h("any",()=>!0)}function f(e){return new u({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+s(e)})}function p(){return h("boolean",e=>"boolean"==typeof e)}function g(e){return h("instance",t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+s(t))}function y(e){let t=s(e),r=typeof e;return new u({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||"Expected the literal `"+t+"`, but received: "+s(r)})}function v(e){return new u({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function m(){return h("number",e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+s(e))}function b(e){return new u({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function _(e,t){return new u({type:"record",schema:null,*entries(r){if(i(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>i(e)||"Expected an object, but received: "+s(e)})}function w(){return h("string",e=>"string"==typeof e||"Expected a string, but received: "+s(e))}function E(e){let t=h("never",()=>!1);return new u({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||"Expected an array, but received: "+s(e)})}function S(e){let t=Object.keys(e);return new u({type:"type",schema:e,*entries(r){if(i(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>i(e)||"Expected an object, but received: "+s(e)})}function I(e){let t=e.map(e=>e.type).join(" | ");return new u({type:"union",schema:null,validator(r,n){let i=[];for(let t of e){let[...e]=a(r,t,n),[s]=e;if(!s[0])return[];for(let[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+s(r),...i]}})}function k(){return h("unknown",()=>!0)}function C(e,t,r){return new u({...e,coercer:(n,i)=>l(n,t)[0]?e.coercer(n,i):e.coercer(r(n,i),i)})}},17240:function(e,t,r){"use strict";r.d(t,{SpeedInsights:function(){return f}});var n=r(2265),i=r(16463),s=()=>{window.si||(window.si=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];(window.siq=window.siq||[]).push(t)})};function o(){return false}var a="https://va.vercel-scripts.com/v1/speed-insights",u="".concat(a,"/script.js"),c="".concat(a,"/script.debug.js");function l(e){let t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(t.current)e.route&&t.current(e.route);else{let r=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!("undefined"!=typeof window)||null===t.route)return null;s();let r=!!t.dsn,n=t.scriptSrc||(r?u:"/_vercel/speed-insights/script.js");if(document.head.querySelector('script[src*="'.concat(n,'"]')))return null;t.beforeSend&&(null==(e=window.si)||e.call(window,"beforeSend",t.beforeSend));let i=document.createElement("script");return i.src=n,i.defer=!0,i.dataset.sdkn="@vercel/speed-insights"+(t.framework?"/".concat(t.framework):""),i.dataset.sdkv="1.0.10",t.sampleRate&&(i.dataset.sampleRate=t.sampleRate.toString()),t.route&&(i.dataset.route=t.route),t.endpoint&&(i.dataset.endpoint=t.endpoint),t.dsn&&(i.dataset.dsn=t.dsn),i.onerror=()=>{console.log("[Vercel Speed Insights] Failed to load script from ".concat(n,". Please check if any content blockers are enabled and try again."))},document.head.appendChild(i),{setRoute:e=>{i.dataset.route=null!=e?e:void 0}}}({framework:e.framework||"react",...e});r&&(t.current=r.setRoute)}},[e.route]),null}var h=()=>{let e=(0,i.useParams)(),t=(0,i.useSearchParams)(),r=(0,i.usePathname)(),n={...Object.fromEntries(t.entries()),...e||{}};return e?function(e,t){if(!e||!t)return e;let r=e;try{for(let[e,n]of Object.entries(t)){let t=Array.isArray(n),i=t?n.join("/"):n,s=t?"...".concat(e):e,o=new RegExp("/".concat(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"(?=[/?#]|$)"));o.test(r)&&(r=r.replace(o,"/[".concat(s,"]")))}return r}catch(t){return e}}(r,n):null};function d(e){let t=h();return n.createElement(l,{route:t,...e,framework:"next"})}function f(e){return n.createElement(n.Suspense,{fallback:null},n.createElement(d,{...e}))}},86417:function(e,t,r){"use strict";function n(e){return e}r.d(t,{K:function(){return n}})},24186:function(e,t,r){"use strict";let n;r.d(t,{_:function(){return T}});var i,s=r(500);let o=e=>(t,r,n)=>{let i=n.subscribe;return n.subscribe=(e,t,r)=>{let s=e;if(t){let i=(null==r?void 0:r.equalityFn)||Object.is,o=e(n.getState());s=r=>{let n=e(r);if(!i(o,n)){let e=o;t(o=n,e)}},(null==r?void 0:r.fireImmediately)&&t(o,o)}return i(s)},e(t,r,n)},a=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>a(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>a(t)(e)}}},u=(e,t)=>(r,n,i)=>{let s,o,u={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},c=!1,l=new Set,h=new Set;try{s=u.getStorage()}catch(e){}if(!s)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),r(...e)},n,i);let d=a(u.serialize),f=()=>{let e;let t=d({state:u.partialize({...n()}),version:u.version}).then(e=>s.setItem(u.name,e)).catch(t=>{e=t});if(e)throw e;return t},p=i.setState;i.setState=(e,t)=>{p(e,t),f()};let g=e((...e)=>{r(...e),f()},n,i),y=()=>{var e;if(!s)return;c=!1,l.forEach(e=>e(n()));let t=(null==(e=u.onRehydrateStorage)?void 0:e.call(u,n()))||void 0;return a(s.getItem.bind(s))(u.name).then(e=>{if(e)return u.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===u.version)return e.state;if(u.migrate)return u.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return r(o=u.merge(e,null!=(t=n())?t:g),!0),f()}).then(()=>{null==t||t(o,void 0),c=!0,h.forEach(e=>e(o))}).catch(e=>{null==t||t(void 0,e)})};return i.persist={setOptions:e=>{u={...u,...e},e.getStorage&&(s=e.getStorage())},clearStorage:()=>{null==s||s.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>y(),hasHydrated:()=>c,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(h.add(e),()=>{h.delete(e)})},y(),o||g},c=(e,t)=>(r,n,i)=>{let s,o={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=r.getItem(e))?t:null;return i instanceof Promise?i.then(n):n(i)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},u=!1,c=new Set,l=new Set,h=o.storage;if(!h)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)},n,i);let d=()=>{let e=o.partialize({...n()});return h.setItem(o.name,{state:e,version:o.version})},f=i.setState;i.setState=(e,t)=>{f(e,t),d()};let p=e((...e)=>{r(...e),d()},n,i),g=()=>{var e,t;if(!h)return;u=!1,c.forEach(e=>{var t;return e(null!=(t=n())?t:p)});let i=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=n())?e:p))||void 0;return a(h.getItem.bind(h))(o.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return r(s=o.merge(e,null!=(t=n())?t:p),!0),d()}).then(()=>{null==i||i(s,void 0),s=n(),u=!0,l.forEach(e=>e(s))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(h=e.storage)},clearStorage:()=>{null==h||h.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>u,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},o.skipHydration||g(),s||p},l=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),u(e,t)):c(e,t),h=e=>{let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,s={setState:n,getState:i,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return t=e(n,i,s),s},d=e=>e?h(e):h;var f=r(99112),p=r(96329),g=r(55894),y=r(13581),v=r(95046),m=r(85770),b=r(50571),_=r(86417);let w={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider:e=>e?.coinbaseWalletExtension?e.coinbaseWalletExtension:S(e,"isCoinbaseWallet")},metaMask:{id:"metaMask",name:"MetaMask",provider:e=>S(e,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;for(let t of["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPortal","isRabby","isTokenPocket","isTokenary","isZerion"])if(e[t])return!1;return!0})},phantom:{id:"phantom",name:"Phantom",provider:e=>e?.phantom?.ethereum?e.phantom?.ethereum:S(e,"isPhantom")}};function E(e={}){let t,r,n,i;let{shimDisconnect:s=!0,unstable_shimAsyncInject:o}=e;function a(){let t=e.target;if("function"==typeof t){let e=t();if(e)return e}return"object"==typeof t?t:"string"==typeof t?{...w[t]??{id:t,name:`${t[0].toUpperCase()}${t.slice(1)}`,provider:`is${t[0].toUpperCase()}${t.slice(1)}`}}:{id:"injected",name:"Injected",provider:e=>e?.ethereum}}return(0,_.K)(u=>({get icon(){return a().icon},get id(){return a().id},get name(){return a().name},type:E.type,async setup(){let r=await this.getProvider();r&&e.target&&(n||(n=this.onConnect.bind(this),r.on("connect",n)),t||(t=this.onAccountsChanged.bind(this),r.on("accountsChanged",t)))},async connect({chainId:o,isReconnecting:a}={}){let c=await this.getProvider();if(!c)throw new b.M;let l=[];if(a)l=await this.getAccounts().catch(()=>[]);else if(s)try{let e=await c.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});l=e[0]?.caveats?.[0]?.value?.map(e=>f.K(e))}catch(e){if(e.code===p.ab.code)throw new p.ab(e);if(e.code===p.pT.code)throw e}try{l?.length||a||(l=(await c.request({method:"eth_requestAccounts"})).map(e=>(0,f.K)(e))),n&&(c.removeListener("connect",n),n=void 0),t||(t=this.onAccountsChanged.bind(this),c.on("accountsChanged",t)),r||(r=this.onChainChanged.bind(this),c.on("chainChanged",r)),i||(i=this.onDisconnect.bind(this),c.on("disconnect",i));let h=await this.getChainId();if(o&&h!==o){let e=await this.switchChain({chainId:o}).catch(e=>{if(e.code===p.ab.code)throw e;return{id:h}});h=e?.id??h}return s&&(await u.storage?.removeItem(`${this.id}.disconnected`),e.target||await u.storage?.setItem("injected.connected",!0)),{accounts:l,chainId:h}}catch(e){if(e.code===p.ab.code)throw new p.ab(e);if(e.code===p.pT.code)throw new p.pT(e);throw e}},async disconnect(){let t=await this.getProvider();if(!t)throw new b.M;r&&(t.removeListener("chainChanged",r),r=void 0),i&&(t.removeListener("disconnect",i),i=void 0),n||(n=this.onConnect.bind(this),t.on("connect",n)),s&&(await u.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await u.storage?.removeItem("injected.connected"))},async getAccounts(){let e=await this.getProvider();if(!e)throw new b.M;return(await e.request({method:"eth_accounts"})).map(e=>(0,f.K)(e))},async getChainId(){let e=await this.getProvider();if(!e)throw new b.M;return Number(await e.request({method:"eth_chainId"}))},async getProvider(){let e;if("undefined"==typeof window)return;let t=a();return(e="function"==typeof t.provider?t.provider(window):"string"==typeof t.provider?S(window,t.provider):t.provider)&&!e.removeListener&&("off"in e&&"function"==typeof e.off?e.removeListener=e.off:e.removeListener=()=>{}),e},async isAuthorized(){try{if(s&&await u.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await u.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(void 0!==o&&!1!==o){let e=async()=>("undefined"!=typeof window&&window.removeEventListener("ethereum#initialized",e),!!await this.getProvider()),t="number"==typeof o?o:1e3;if(await Promise.race([..."undefined"!=typeof window?[new Promise(t=>window.addEventListener("ethereum#initialized",()=>t(e()),{once:!0}))]:[],new Promise(r=>setTimeout(()=>r(e()),t))]))return!0}throw new b.M}return!!(await (0,g.J)(()=>(0,y.F)(()=>this.getAccounts(),{timeout:100}))).length}catch{return!1}},async switchChain({chainId:e}){let t=await this.getProvider();if(!t)throw new b.M;let r=u.chains.find(t=>t.id===e);if(!r)throw new p.x3(new m.X4);try{return await Promise.all([t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,v.eC)(e)}]}),new Promise(r=>{let n=i=>{console.log("[injected] switchChain.listener",{data:i,chainId:e}),Number(i)===e&&(t.removeListener("chainChanged",n),r())};t.on("chainChanged",n)})]),r}catch(n){if(4902===n.code||n?.data?.originalError?.code===4902)try{let n;let{default:i,...s}=r.blockExplorers??{};if(i&&(n=[i.url,...Object.values(s).map(e=>e.url)]),await t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,v.eC)(e),chainName:r.name,nativeCurrency:r.nativeCurrency,rpcUrls:[r.rpcUrls.default?.http[0]??""],blockExplorerUrls:n}]}),await this.getChainId()!==e)throw new p.ab(Error("User rejected switch after adding network."));return r}catch(e){throw new p.ab(e)}if(n.code===p.ab.code)throw new p.ab(n);throw new p.x3(n)}},async onAccountsChanged(e){if(console.log("[injected] onAccountsChanged",e),0===e.length)this.onDisconnect();else if(u.emitter.listenerCount("connect")){let e=(await this.getChainId()).toString();this.onConnect({chainId:e}),s&&await u.storage?.removeItem(`${this.id}.disconnected`)}else u.emitter.emit("change",{accounts:e.map(e=>(0,f.K)(e))})},onChainChanged(e){console.log("[injected] onChainChanged",e);let t=Number(e);u.emitter.emit("change",{chainId:t})},async onConnect(e){let s=await this.getAccounts();if(0===s.length)return;let o=Number(e.chainId);u.emitter.emit("connect",{accounts:s,chainId:o});let a=await this.getProvider();a&&(n&&(a.removeListener("connect",n),n=void 0),t||(t=this.onAccountsChanged.bind(this),a.on("accountsChanged",t)),r||(r=this.onChainChanged.bind(this),a.on("chainChanged",r)),i||(i=this.onDisconnect.bind(this),a.on("disconnect",i)))},async onDisconnect(e){let t=await this.getProvider();e&&1013===e.code&&t&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),t&&(r&&(t.removeListener("chainChanged",r),r=void 0),i&&(t.removeListener("disconnect",i),i=void 0),n||(n=this.onConnect.bind(this),t.on("connect",n))))}}))}function S(e,t){function r(e){return"function"==typeof t?t(e):"string"!=typeof t||e[t]}let n=e.ethereum;return n?.providers?n.providers.find(e=>r(e)):n&&r(n)?n:void 0}E.type="injected";var I=r(36393),k=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class C{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),i.set(this,new I.v)}on(e,t){k(this,i,"f").on(e,t)}once(e,t){k(this,i,"f").once(e,t)}off(e,t){k(this,i,"f").off(e,t)}emit(e,...t){let r=t[0];k(this,i,"f").emit(e,{uid:this.uid,...r})}listenerCount(e){return k(this,i,"f").listenerCount(e)}}function O(e,t){return JSON.parse(e,(e,r)=>{let n=r;return n?.__type==="bigint"&&(n=BigInt(n.value)),n?.__type==="Map"&&(n=new Map(n.value)),t?.(e,n)??n})}function x(e,t){return e.slice(0,t).join(".")||"."}function R(e,t){let{length:r}=e;for(let n=0;n<r;++n)if(e[n]===t)return n+1;return 0}function A(e,t,r,n){return JSON.stringify(e,function(e,t){let r="function"==typeof e,n="function"==typeof t,i=[],s=[];return function(o,a){if("object"==typeof a){if(i.length){let e=R(i,this);0===e?i[i.length]=this:(i.splice(e),s.splice(e)),s[s.length]=o;let r=R(i,a);if(0!==r)return n?t.call(this,o,a,x(s,r)):`[ref=${x(s,r)}]`}else i[0]=a,s[0]=o}return r?e.call(this,o,a):a}}((e,r)=>{let n=r;return"bigint"==typeof n&&(n={__type:"bigint",value:r.toString()}),n instanceof Map&&(n={__type:"Map",value:Array.from(r.entries())}),t?.(e,n)??n},n),r??void 0)}i=new WeakMap;let P={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},D=256;var N=r(52520);function T(e){let t;let{multiInjectedProviderDiscovery:r=!0,storage:i=function(e){let{deserialize:t=O,key:r="wagmi",serialize:n=A,storage:i=P}=e;function s(e){return e instanceof Promise?e.then(e=>e).catch(()=>null):e}return{...i,key:r,async getItem(e,n){let o=i.getItem(`${r}.${e}`),a=await s(o);return a?t(a)??null:n??null},async setItem(e,t){let o=`${r}.${e}`;null===t?await s(i.removeItem(o)):await s(i.setItem(o,n(t)))},async removeItem(e){await s(i.removeItem(`${r}.${e}`))}}}({storage:"undefined"!=typeof window&&window.localStorage?window.localStorage:P}),syncConnectedChain:a=!0,ssr:u,...c}=e,h="undefined"!=typeof window&&r?function(){let e=new Set,t=[],r=()=>(function(e){let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)})(r=>{t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]})))}),n=r();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),n()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),n(),n=r()},subscribe:(r,{emitImmediately:n}={})=>(e.add(r),n&&r(t,{added:t}),()=>e.delete(r))}}():void 0,f=d(()=>c.chains),p=d(()=>[...c.connectors??[],...u?[]:h?.getProviders().map(y)??[]].map(g));function g(e){let t=new C(function(e=11){if(!n||D+e>512){n="",D=0;for(let e=0;e<256;e++)n+=(256+256*Math.random()|0).toString(16).substring(1)}return n.substring(D,D+++e)}()),r={...e({emitter:t,chains:f.getState(),storage:i}),emitter:t,uid:t.uid};return t.on("connect",I),r.setup?.(),r}function y(e){let{info:t}=e,r=e.provider;return E({target:{...t,id:t.rdns,provider:r}})}let v=new Map;function b(){return{chainId:f.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let _="0.0.0-canary-";t=N.i.startsWith(_)?parseInt(N.i.replace(_,"")):parseInt(N.i.split(".")[0]??"0");let w=d(o(i?l(b,{migrate(e,r){if(r===t)return e;let n=b(),i=e&&"object"==typeof e&&"chainId"in e&&"number"==typeof e.chainId?e.chainId:n.chainId;return{...n,chainId:i}},name:"store",partialize:e=>({connections:{__type:"Map",value:Array.from(e.connections.entries()).map(([e,t])=>{let{id:r,name:n,type:i,uid:s}=t.connector;return[e,{...t,connector:{id:r,name:n,type:i,uid:s}}]})},chainId:e.chainId,current:e.current}),skipHydration:u,storage:i,version:t}):b));function S(e){w.setState(t=>{let r=t.connections.get(e.uid);return r?{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts??r.accounts,chainId:e.chainId??r.chainId,connector:r.connector})}:t})}function I(e){"connecting"!==w.getState().status&&"reconnecting"!==w.getState().status&&w.setState(t=>{let r=p.getState().find(t=>t.uid===e.uid);return r?(r.emitter.listenerCount("connect")&&r.emitter.off("connect",S),r.emitter.listenerCount("change")||r.emitter.on("change",S),r.emitter.listenerCount("disconnect")||r.emitter.on("disconnect",k),{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts,chainId:e.chainId,connector:r}),current:e.uid,status:"connected"}):t})}function k(e){w.setState(t=>{let r=t.connections.get(e.uid);if(r){let e=r.connector;e.emitter.listenerCount("change")&&r.connector.emitter.off("change",S),e.emitter.listenerCount("disconnect")&&r.connector.emitter.off("disconnect",k),e.emitter.listenerCount("connect")||r.connector.emitter.on("connect",I)}if(t.connections.delete(e.uid),0===t.connections.size)return{...t,connections:new Map,current:null,status:"disconnected"};let n=t.connections.values().next().value;return{...t,connections:new Map(t.connections),current:n.connector.uid}})}return a&&w.subscribe(({connections:e,current:t})=>t?e.get(t)?.chainId:void 0,e=>{if(f.getState().some(t=>t.id===e))return w.setState(t=>({...t,chainId:e??t.chainId}))}),h?.subscribe(e=>{let t=new Map;for(let e of p.getState())t.set(e.id,!0);let r=[];for(let n of e){let e=g(y(n));t.has(e.id)||r.push(e)}(!i||w.persist.hasHydrated())&&p.setState(e=>[...e,...r],!0)}),{get chains(){return f.getState()},get connectors(){return p.getState()},storage:i,getClient:function(e={}){let t;let r=e.chainId??w.getState().chainId,n=f.getState().find(e=>e.id===r);if(e.chainId&&!n)throw new m.X4;{let e=v.get(w.getState().chainId);if(e&&!n)return e;if(!n)throw new m.X4}{let e=v.get(r);if(e)return e}if(c.client)t=c.client({chain:n});else{let e=n.id,r=f.getState().map(e=>e.id),i={};for(let[t,n]of Object.entries(c))if("chains"!==t&&"client"!==t&&"connectors"!==t&&"transports"!==t){if("object"==typeof n){if(e in n)i[t]=n[e];else{if(r.some(e=>e in n))continue;i[t]=n}}else i[t]=n}t=(0,s.e)({...i,chain:n,batch:i.batch??{multicall:!0},transport:t=>c.transports[e]({...t,connectors:p})})}return v.set(r,t),t},get state(){return w.getState()},setState(e){let t;t="function"==typeof e?e(w.getState()):e;let r=b();"object"!=typeof t&&(t=r),Object.keys(r).some(e=>!(e in t))&&(t=r),w.setState(t,!0)},subscribe:(e,t,r)=>w.subscribe(e,t,r?{...r,fireImmediately:r.emitImmediately}:void 0),_internal:{mipd:h,store:w,ssr:!!u,syncConnectedChain:a,transports:c.transports,chains:{setState(e){let t="function"==typeof e?e(f.getState()):e;if(0!==t.length)return f.setState(t,!0)},subscribe:e=>f.subscribe(e)},connectors:{providerDetailToConnector:y,setup:g,setState:e=>p.setState("function"==typeof e?e(p.getState()):e,!0),subscribe:e=>p.subscribe(e)},events:{change:S,connect:I,disconnect:k}}}}},47637:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});let n=()=>Object.create(null),{forEach:i,slice:s}=Array.prototype,{hasOwnProperty:o}=Object.prototype;class a{constructor(e=!0,t=n){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return i.call(e,e=>t=t.getChildTrie(e)),o.call(t,"data")?t.data:t.data=this.makeData(s.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let r=0,n=e.length;t&&r<n;++r){let n=t.mapFor(e[r],!1);t=n&&n.get(e[r])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){let r=e[0],n=this.mapFor(r,!1),i=n&&n.get(r);!i||(t=i.removeArray(s.call(e,1)),i.data||i.weak||i.strong&&i.strong.size||n.delete(r))}else t=this.data,delete this.data;return t}getChildTrie(e){let t=this.mapFor(e,!0),r=t.get(e);return r||t.set(e,r=new a(this.weakness,this.makeData)),r}mapFor(e,t){return this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}},34739:function(e,t,r){"use strict";r.d(t,{$_:function(){return a},Vn:function(){return u}});var n=r(79446),i=r(8996),s=r(43482),o=r(18350);let a=Object.freeze({});function u(e,t,r=s.h8){let u,c,l;let h=new Map;for(let e of Object.values(o.h))h.set(e,function(e,t){let r=e[t];return"object"==typeof r?r:"function"==typeof r?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}(t,e));let d=Array.isArray(e),f=[e],p=-1,g=[],y=e,v=[],m=[];do{var b,_,w;let e;let o=++p===f.length,E=o&&0!==g.length;if(o){if(c=0===m.length?void 0:v[v.length-1],y=l,l=m.pop(),E){if(d){y=y.slice();let e=0;for(let[t,r]of g){let n=t-e;null===r?(y.splice(n,1),e++):y[n]=r}}else for(let[e,t]of(y=Object.defineProperties({},Object.getOwnPropertyDescriptors(y)),g))y[e]=t}p=u.index,f=u.keys,g=u.edits,d=u.inArray,u=u.prev}else if(l){if(null==(y=l[c=d?p:f[p]]))continue;v.push(c)}if(!Array.isArray(y)){(0,s.UG)(y)||(0,n.a)(!1,`Invalid AST Node: ${(0,i.X)(y)}.`);let r=o?null===(b=h.get(y.kind))||void 0===b?void 0:b.leave:null===(_=h.get(y.kind))||void 0===_?void 0:_.enter;if((e=null==r?void 0:r.call(t,y,c,l,v,m))===a)break;if(!1===e){if(!o){v.pop();continue}}else if(void 0!==e&&(g.push([c,e]),!o)){if((0,s.UG)(e))y=e;else{v.pop();continue}}}void 0===e&&E&&g.push([c,y]),o?v.pop():(u={inArray:d,index:p,keys:f,edits:g,prev:u},f=(d=Array.isArray(y))?y:null!==(w=r[y.kind])&&void 0!==w?w:[],p=-1,g=[],l&&m.push(l),l=y)}while(void 0!==u);return 0!==g.length?g[g.length-1][1]:e}},53310:function(e,t,r){"use strict";let n;r.d(t,{g7:function(){return v},dP:function(){return q},re:function(){return $}});let i=()=>Object.create(null),{forEach:s,slice:o}=Array.prototype,{hasOwnProperty:a}=Object.prototype;class u{constructor(e=!0,t=i){this.weakness=e,this.makeData=t}lookup(...e){return this.lookupArray(e)}lookupArray(e){let t=this;return s.call(e,e=>t=t.getChildTrie(e)),a.call(t,"data")?t.data:t.data=this.makeData(o.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let t=this;for(let r=0,n=e.length;t&&r<n;++r){let n=this.weakness&&c(e[r])?t.weak:t.strong;t=n&&n.get(e[r])}return t&&t.data}getChildTrie(e){let t=this.weakness&&c(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=t.get(e);return r||t.set(e,r=new u(this.weakness,this.makeData)),r}}function c(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}var l=r(32997);let h=null,d={},f=1;function p(e){try{return e()}catch(e){}}let g="@wry/context:Slot",y=p(()=>globalThis)||p(()=>global)||Object.create(null),v=y[g]||Array[g]||function(e){try{Object.defineProperty(y,g,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",f++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=h;e;e=e.parent)if(this.id in e.slots){let t=e.slots[this.id];if(t===d)break;return e!==h&&(h.slots[this.id]=t),!0}return h&&(h.slots[this.id]=d),!1}getValue(){if(this.hasValue())return h.slots[this.id]}withValue(e,t,r,n){let i={__proto__:null,[this.id]:e},s=h;h={parent:s,slots:i};try{return t.apply(n,r)}finally{h=s}}static bind(e){let t=h;return function(){let r=h;try{return h=t,e.apply(this,arguments)}finally{h=r}}}static noContext(e,t,r){if(!h)return e.apply(r,t);{let n=h;try{return h=null,e.apply(r,t)}finally{h=n}}}}),{bind:m,noContext:b}=v,_=new v,{hasOwnProperty:w}=Object.prototype,E=Array.from||function(e){let t=[];return e.forEach(e=>t.push(e)),t};function S(e){let{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}let I=[];function k(e,t){if(!e)throw Error(t||"assertion failure")}function C(e,t){let r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}function O(e){switch(e.length){case 0:throw Error("unknown value");case 1:return e[0];case 2:throw e[1]}}class x{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++x.count}peek(){if(1===this.value.length&&!P(this))return R(this),this.value[0]}recompute(e){var t;return k(!this.recomputing,"already recomputing"),R(this),P(this)&&(L(this),_.withValue(this,A,[this,e]),function(e,t){if("function"==typeof e.subscribe)try{S(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(this,e)&&(this.dirty=!1,P(this)||(t=this,D(t,T)))),O(this.value)}setDirty(){this.dirty||(this.dirty=!0,D(this,N),S(this))}dispose(){this.setDirty(),L(this),D(this,(e,t)=>{e.setDirty(),j(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=I.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(E(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),I.push(this.deps),this.deps=null)}}function R(e){let t=_.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),P(e)?N(t,e):T(t,e),t}function A(e,t){let r;e.recomputing=!0;let{normalizeResult:n}=e;n&&1===e.value.length&&(r=e.value.slice(0)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),n&&r&&!C(r,e.value))try{e.value[0]=n(e.value[0],r[0])}catch(e){}}catch(t){e.value[1]=t}e.recomputing=!1}function P(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function D(e,t){let r=e.parents.size;if(r){let n=E(e.parents);for(let i=0;i<r;++i)t(n[i],e)}}function N(e,t){k(e.childValues.has(t)),k(P(t));let r=!P(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=I.pop()||new Set;e.dirtyChildren.add(t),r&&D(e,N)}function T(e,t){k(e.childValues.has(t)),k(!P(t));let r=e.childValues.get(t);0===r.length?e.childValues.set(t,t.value.slice(0)):C(r,t.value)||e.setDirty(),M(e,t),P(e)||D(e,T)}function M(e,t){let r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(I.length<100&&I.push(r),e.dirtyChildren=null))}function L(e){e.childValues.size>0&&e.childValues.forEach((t,r)=>{j(e,r)}),e.forgetDeps(),k(null===e.dirtyChildren)}function j(e,t){t.parents.delete(e),e.childValues.delete(t),M(e,t)}x.count=0;let B={setDirty:!0,dispose:!0,forget:!0};function q(e){let t=new Map,r=e&&e.subscribe;function n(e){let n=_.getValue();if(n){let i=t.get(e);i||t.set(e,i=new Set),n.dependOn(i),"function"==typeof r&&(S(i),i.unsubscribe=r(e))}}return n.dirty=function(e,r){let n=t.get(e);if(n){let i=r&&w.call(B,r)?r:"setDirty";E(n).forEach(e=>e[i]()),t.delete(e),S(n)}},n}function U(...e){return(n||(n=new u("function"==typeof WeakMap))).lookupArray(e)}let F=new Set;function $(e,{max:t=65536,keyArgs:r,makeCacheKey:n=U,normalizeResult:i,subscribe:s,cache:o=l.e}=Object.create(null)){let a="function"==typeof o?new o(t,e=>e.dispose()):o,u=function(){let t=n.apply(null,r?r.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let o=a.get(t);o||(a.set(t,o=new x(e)),o.normalizeResult=i,o.subscribe=s,o.forget=()=>a.delete(t));let u=o.recompute(Array.prototype.slice.call(arguments));return a.set(t,o),F.add(a),_.hasValue()||(F.forEach(e=>e.clean()),F.clear()),u};function c(e){let t=e&&a.get(e);t&&t.setDirty()}function h(e){let t=e&&a.get(e);if(t)return t.peek()}function d(e){return!!e&&a.delete(e)}return Object.defineProperty(u,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(u.options={max:t,keyArgs:r,makeCacheKey:n,normalizeResult:i,subscribe:s,cache:a}),u.dirtyKey=c,u.dirty=function(){c(n.apply(null,arguments))},u.peekKey=h,u.peek=function(){return h(n.apply(null,arguments))},u.forgetKey=d,u.forget=function(){return d(n.apply(null,arguments))},u.makeCacheKey=n,u.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(u)}},30254:function(e,t,r){"use strict";let n;r.d(t,{j:function(){return o}});let i=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],s={sha256:1};function o(e){if(e&&!s[e]&&!s[e.toLowerCase()])throw Error("Digest method not supported");return new a}class a{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!n||c>=8e3)&&(n=new ArrayBuffer(8e3),c=0),this._byte=new Uint8Array(n,c,80),this._word=new Int32Array(n,c,20),c+=80}update(e){if("string"==typeof e)return this._utf8(e);if(null==e)throw TypeError("Invalid type: "+typeof e);let t=e.byteOffset,r=e.byteLength,n=r/64|0,i=0;if(n&&!(3&t)&&!(this._size%64)){let r=new Int32Array(e.buffer,t,16*n);for(;n--;)this._int32(r,i>>2),i+=64;this._size+=i}if(1!==e.BYTES_PER_ELEMENT&&e.buffer){let n=new Uint8Array(e.buffer,t+i,r-i);return this._uint8(n)}return i===r?this:this._uint8(e,i)}_uint8(e,t){let{_byte:r,_word:n}=this,i=e.length;for(t|=0;t<i;){let s=this._size%64,o=s;for(;t<i&&o<64;)r[o++]=e[t++];o>=64&&this._int32(n),this._size+=o-s}return this}_utf8(e){let{_byte:t,_word:r}=this,n=e.length,i=this._sp;for(let s=0;s<n;){let o=this._size%64,a=o;for(;s<n&&a<64;){let r=0|e.charCodeAt(s++);r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<55296||r>57343?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):i?(r=((1023&i)<<10)+(1023&r)+65536,t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r,i=0):i=r}a>=64&&(this._int32(r),r[0]=r[16]),this._size+=a-o}return this._sp=i,this}_int32(e,t){let{A:r,B:n,C:s,D:o,E:a,F:c,G:l,H:m}=this,b=0;for(t|=0;b<16;)u[b++]=h(e[t++]);for(b=16;b<64;b++)u[b]=v(u[b-2])+u[b-7]+y(u[b-15])+u[b-16]|0;for(b=0;b<64;b++){let e=m+g(a)+d(a,c,l)+i[b]+u[b]|0,t=p(r)+f(r,n,s)|0;m=l,l=c,c=a,a=o+e|0,o=s,s=n,n=r,r=e+t|0}this.A=r+this.A|0,this.B=n+this.B|0,this.C=s+this.C|0,this.D=o+this.D|0,this.E=a+this.E|0,this.F=c+this.F|0,this.G=l+this.G|0,this.H=m+this.H|0}digest(e){let{_byte:t,_word:r}=this,n=this._size%64|0;for(t[n++]=128;3&n;)t[n++]=0;if((n>>=2)>14){for(;n<16;)r[n++]=0;n=0,this._int32(r)}for(;n<16;)r[n++]=0;let i=8*this._size,s=(4294967295&i)>>>0,o=(i-s)/4294967296;return o&&(r[14]=h(o)),s&&(r[15]=h(s)),this._int32(r),"hex"===e?this._hex():this._bin()}_hex(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return l(e)+l(t)+l(r)+l(n)+l(i)+l(s)+l(o)+l(a)}_bin(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a,_byte:u,_word:c}=this;return c[0]=h(e),c[1]=h(t),c[2]=h(r),c[3]=h(n),c[4]=h(i),c[5]=h(s),c[6]=h(o),c[7]=h(a),u.slice(0,32)}}let u=new Int32Array(64),c=0,l=e=>(e+4294967296).toString(16).substr(-8),h=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?e=>e:e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255,d=(e,t,r)=>r^e&(t^r),f=(e,t,r)=>e&t|r&(e|t),p=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),g=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),y=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,v=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10},66517:function(e,t,r){"use strict";r.r(t),r.d(t,{Struct:function(){return c},StructError:function(){return n},any:function(){return I},array:function(){return k},assert:function(){return l},assign:function(){return g},bigint:function(){return C},boolean:function(){return O},coerce:function(){return Q},create:function(){return h},date:function(){return x},defaulted:function(){return J},define:function(){return y},deprecated:function(){return v},dynamic:function(){return m},empty:function(){return Y},enums:function(){return R},func:function(){return A},instance:function(){return P},integer:function(){return D},intersection:function(){return N},is:function(){return f},lazy:function(){return b},literal:function(){return T},map:function(){return M},mask:function(){return d},max:function(){return ee},min:function(){return et},never:function(){return L},nonempty:function(){return er},nullable:function(){return j},number:function(){return B},object:function(){return q},omit:function(){return _},optional:function(){return U},partial:function(){return w},pattern:function(){return en},pick:function(){return E},record:function(){return F},refine:function(){return es},regexp:function(){return $},set:function(){return H},size:function(){return ei},string:function(){return z},struct:function(){return S},trimmed:function(){return Z},tuple:function(){return V},type:function(){return W},union:function(){return K},unknown:function(){return G},validate:function(){return p}});class n extends TypeError{constructor(e,t){let r;let{message:n,explanation:i,...s}=e,{path:o}=e,a=0===o.length?n:`At path: ${o.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function i(e){return"object"==typeof e&&null!=e}function s(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function o(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*a(e,t,r,n){var s;for(let a of(i(s=e)&&"function"==typeof s[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:s}=t,{type:a}=r,{refinement:u,message:c=`Expected a value of type \`${a}\`${u?` with refinement \`${u}\``:""}, but received: \`${o(n)}\``}=e;return{value:n,type:a,refinement:u,key:i[i.length-1],path:i,branch:s,...e,message:c}}(a,t,r,n);e&&(yield e)}}function*u(e,t,r={}){let{path:n=[],branch:s=[e],coerce:o=!1,mask:a=!1}=r,c={path:n,branch:s};if(o&&(e=t.coercer(e,c),a&&"type"!==t.type&&i(t.schema)&&i(e)&&!Array.isArray(e)))for(let r in e)void 0===t.schema[r]&&delete e[r];let l="valid";for(let n of t.validator(e,c))n.explanation=r.message,l="not_valid",yield[n,void 0];for(let[h,d,f]of t.entries(e,c))for(let t of u(d,f,{path:void 0===h?n:[...n,h],branch:void 0===h?s:[...s,d],coerce:o,mask:a,message:r.message}))t[0]?(l=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):o&&(d=t[1],void 0===h?e=d:e instanceof Map?e.set(h,d):e instanceof Set?e.add(d):i(e)&&(void 0!==d||h in e)&&(e[h]=d));if("not_valid"!==l)for(let n of t.refiner(e,c))n.explanation=r.message,l="not_refined",yield[n,void 0];"valid"===l&&(yield[void 0,e])}class c{constructor(e){let{type:t,schema:r,validator:n,refiner:i,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=s,n?this.validator=(e,t)=>a(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>a(i(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){return l(e,this,t)}create(e,t){return h(e,this,t)}is(e){return f(e,this)}mask(e,t){return d(e,this,t)}validate(e,t={}){return p(e,this,t)}}function l(e,t,r){let n=p(e,t,{message:r});if(n[0])throw n[0]}function h(e,t,r){let n=p(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function d(e,t,r){let n=p(e,t,{coerce:!0,mask:!0,message:r});if(!n[0])return n[1];throw n[0]}function f(e,t){return!p(e,t)[0]}function p(e,t,r={}){let i=u(e,t,r),s=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(i);return s[0]?[new n(s[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,s[1]]}function g(...e){let t="type"===e[0].type,r=Object.assign({},...e.map(e=>e.schema));return t?W(r):q(r)}function y(e,t){return new c({type:e,schema:null,validator:t})}function v(e,t){return new c({...e,refiner:(t,r)=>void 0===t||e.refiner(t,r),validator:(r,n)=>void 0===r||(t(r,n),e.validator(r,n))})}function m(e){return new c({type:"dynamic",schema:null,*entries(t,r){let n=e(t,r);yield*n.entries(t,r)},validator:(t,r)=>e(t,r).validator(t,r),coercer:(t,r)=>e(t,r).coercer(t,r),refiner:(t,r)=>e(t,r).refiner(t,r)})}function b(e){let t;return new c({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator:(r,n)=>(t??(t=e()),t.validator(r,n)),coercer:(r,n)=>(t??(t=e()),t.coercer(r,n)),refiner:(r,n)=>(t??(t=e()),t.refiner(r,n))})}function _(e,t){let{schema:r}=e,n={...r};for(let e of t)delete n[e];return"type"===e.type?W(n):q(n)}function w(e){let t=e instanceof c?{...e.schema}:{...e};for(let e in t)t[e]=U(t[e]);return q(t)}function E(e,t){let{schema:r}=e,n={};for(let e of t)n[e]=r[e];return q(n)}function S(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),y(e,t)}function I(){return y("any",()=>!0)}function k(e){return new c({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${o(e)}`})}function C(){return y("bigint",e=>"bigint"==typeof e)}function O(){return y("boolean",e=>"boolean"==typeof e)}function x(){return y("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${o(e)}`)}function R(e){let t={},r=e.map(e=>o(e)).join();for(let r of e)t[r]=r;return new c({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${r}\`, but received: ${o(t)}`})}function A(){return y("func",e=>"function"==typeof e||`Expected a function, but received: ${o(e)}`)}function P(e){return y("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${o(t)}`)}function D(){return y("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${o(e)}`)}function N(e){return new c({type:"intersection",schema:null,*entries(t,r){for(let n of e)yield*n.entries(t,r)},*validator(t,r){for(let n of e)yield*n.validator(t,r)},*refiner(t,r){for(let n of e)yield*n.refiner(t,r)}})}function T(e){let t=o(e),r=typeof e;return new c({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${o(r)}`})}function M(e,t){return new c({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(let[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${o(e)}`})}function L(){return y("never",()=>!1)}function j(e){return new c({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function B(){return y("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${o(e)}`)}function q(e){let t=e?Object.keys(e):[],r=L();return new c({type:"object",schema:e||null,*entries(n){if(e&&i(n)){let i=new Set(Object.keys(n));for(let r of t)i.delete(r),yield[r,n[r],e[r]];for(let e of i)yield[e,n[e],r]}},validator:e=>i(e)||`Expected an object, but received: ${o(e)}`,coercer:e=>i(e)?{...e}:e})}function U(e){return new c({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function F(e,t){return new c({type:"record",schema:null,*entries(r){if(i(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>i(e)||`Expected an object, but received: ${o(e)}`})}function $(){return y("regexp",e=>e instanceof RegExp)}function H(e){return new c({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(let r of t)yield[r,r,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${o(e)}`})}function z(){return y("string",e=>"string"==typeof e||`Expected a string, but received: ${o(e)}`)}function V(e){let t=L();return new c({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${o(e)}`})}function W(e){let t=Object.keys(e);return new c({type:"type",schema:e,*entries(r){if(i(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>i(e)||`Expected an object, but received: ${o(e)}`,coercer:e=>i(e)?{...e}:e})}function K(e){let t=e.map(e=>e.type).join(" | ");return new c({type:"union",schema:null,coercer(t){for(let r of e){let[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){let i=[];for(let t of e){let[...e]=u(r,t,n),[s]=e;if(!s[0])return[];for(let[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${o(r)}`,...i]}})}function G(){return y("unknown",()=>!0)}function Q(e,t,r){return new c({...e,coercer:(n,i)=>f(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function J(e,t,r={}){return Q(e,G(),e=>{let n="function"==typeof t?t():t;if(void 0===e)return n;if(!r.strict&&s(e)&&s(n)){let t={...e},r=!1;for(let e in n)void 0===t[e]&&(t[e]=n[e],r=!0);if(r)return t}return e})}function Z(e){return Q(e,z(),e=>e.trim())}function Y(e){return es(e,"empty",t=>{let r=X(t);return 0===r||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function X(e){return e instanceof Map||e instanceof Set?e.size:e.length}function ee(e,t,r={}){let{exclusive:n}=r;return es(e,"max",r=>n?r<t:r<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${r}\``)}function et(e,t,r={}){let{exclusive:n}=r;return es(e,"min",r=>n?r>t:r>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${r}\``)}function er(e){return es(e,"nonempty",t=>X(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function en(e,t){return es(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function ei(e,t,r=t){let n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return es(e,"size",e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=r||`${n} ${i} but received \`${e}\``;if(e instanceof Map||e instanceof Set){let{size:s}=e;return t<=s&&s<=r||`${n} with a size ${i} but received one with a size of \`${s}\``}{let{length:s}=e;return t<=s&&s<=r||`${n} with a length ${i} but received one with a length of \`${s}\``}})}function es(e,t,r){return new c({...e,*refiner(n,i){for(let s of(yield*e.refiner(n,i),a(r(n,i),i,e,n)))yield{...s,refinement:t}}})}},89745:function(e,t,r){"use strict";r.d(t,{o:function(){return a}});var n=r(25524),i=r(70272),s=r(28421),o=r(94956);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:t}=e,r=(0,o.Z)(e),{mutate:a,mutateAsync:u,...c}=(0,n.D)({...t,mutationFn:e=>(0,i.c)(r,e),mutationKey:["switchChain"]});return{...c,chains:(0,s.C)({config:r}),switchChain:a,switchChainAsync:u}}},9670:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{y:function(){return E}});var o=function(){return"function"==typeof Symbol},a=function(e){return o()&&!!Symbol[e]},u=function(e){return a(e)?Symbol[e]:"@@"+e};o()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var c=u("iterator"),l=u("observable"),h=u("species");function d(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw TypeError(r+" is not a function");return r}}function f(e){var t=e.constructor;return void 0!==t&&null===(t=t[h])&&(t=void 0),void 0!==t?t:E}function p(e){p.log?p.log(e):setTimeout(function(){throw e})}function g(e){Promise.resolve().then(function(){try{e()}catch(e){p(e)}})}function y(e){var t=e._cleanup;if(void 0!==t){if(e._cleanup=void 0,!t)return;try{if("function"==typeof t)t();else{var r=d(t,"unsubscribe");r&&r.call(t)}}catch(e){p(e)}}}function v(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,r){e._state="running";var n=e._observer;try{var i=d(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(v(e),i)i.call(n,r);else throw r;break;case"complete":v(e),i&&i.call(n)}}catch(e){p(e)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function b(e,t,r){if("closed"!==e._state){if("buffering"===e._state){e._queue.push({type:t,value:r});return}if("ready"!==e._state){e._state="buffering",e._queue=[{type:t,value:r}],g(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(m(e,t[r].type,t[r].value),"closed"!==e._state);++r);}}(e)});return}m(e,t,r)}}var _=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var r=new w(this);try{this._cleanup=t.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(v(this),y(this))},s(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){b(this._subscription,"next",e)},t.error=function(e){b(this._subscription,"error",e)},t.complete=function(){b(this._subscription,"complete")},s(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=function(){function e(t){if(!(this instanceof e))throw TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return("object"!=typeof e||null===e)&&(e={next:e,error:arguments[1],complete:arguments[2]}),new _(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise(function(r,n){if("function"!=typeof e){n(TypeError(e+" is not a function"));return}function i(){s.unsubscribe(),r()}var s=t.subscribe({next:function(t){try{e(t,i)}catch(e){n(e),s.unsubscribe()}},error:n,complete:r})})},t.map=function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");return new(f(this))(function(r){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})})},t.filter=function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");return new(f(this))(function(r){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})})},t.reduce=function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");var r=f(this),n=arguments.length>1,i=!1,s=arguments[1],o=s;return new r(function(r){return t.subscribe({next:function(t){var s=!i;if(i=!0,!s||n)try{o=e(o,t)}catch(e){return r.error(e)}else o=t},error:function(e){r.error(e)},complete:function(){if(!i&&!n)return r.error(TypeError("Cannot reduce an empty sequence"));r.next(o),r.complete()}})})},t.concat=function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=f(this);return new i(function(t){var n,s=0;return function e(o){n=o.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){s===r.length?(n=void 0,t.complete()):e(i.from(r[s++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}})},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");var r=f(this);return new r(function(n){var i=[],s=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return n.error(e)}var s=r.from(t).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=i.indexOf(s);e>=0&&i.splice(e,1),o()}});i.push(s)},error:function(e){n.error(e)},complete:function(){o()}});function o(){s.closed&&0===i.length&&n.complete()}return function(){i.forEach(function(e){return e.unsubscribe()}),s.unsubscribe()}})},t[l]=function(){return this},e.from=function(t){var r="function"==typeof this?this:e;if(null==t)throw TypeError(t+" is not an object");var i=d(t,l);if(i){var s=i.call(t);if(Object(s)!==s)throw TypeError(s+" is not an object");return s instanceof E&&s.constructor===r?s:new r(function(e){return s.subscribe(e)})}if(a("iterator")&&(i=d(t,c)))return new r(function(e){g(function(){if(!e.closed){for(var r,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,void 0)}}(e))){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i.call(t));!(r=s()).done;){var o=r.value;if(e.next(o),e.closed)return}e.complete()}})});if(Array.isArray(t))return new r(function(e){g(function(){if(!e.closed){for(var r=0;r<t.length;++r)if(e.next(t[r]),e.closed)return;e.complete()}})});throw TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return new("function"==typeof this?this:e)(function(e){g(function(){if(!e.closed){for(var t=0;t<r.length;++t)if(e.next(r[t]),e.closed)return;e.complete()}})})},s(e,null,[{key:h,get:function(){return this}}]),e}();o()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:l,hostReportError:p},configurable:!0})}}]);